(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8f39928"],{"0d5e":function(t,e,a){"use strict";a.d(e,"b",function(){return r}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return c}),a.d(e,"a",function(){return i});var l=a("b775");function r(t,e){return Object(l["a"])({url:t,method:"get",params:e})}function n(t,e){return Object(l["a"])({url:t,method:"post",data:e})}function c(t,e){return Object(l["a"])({url:t,method:"put",data:e})}function i(t,e){return Object(l["a"])({url:t,method:"delete",data:e})}},"6f87":function(t,e,a){},"87c6":function(t,e,a){"use strict";var l=a("6f87"),r=a.n(l);r.a},e87a:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"lan"},[a("div",{staticClass:"tou"},[a("div",{style:1==t.chatab?"color:#3F6AFF;":"",on:{click:function(e){t.chatab=1}}},[t._v("综合查询")]),t._v(" "),a("div",{style:3==t.chatab?"color:#3F6AFF;":"",on:{click:function(e){t.chatab=3}}},[t._v("准点率查询")])]),t._v(" "),a("div",{staticClass:"da"},[a("div",{staticClass:"top"},[a("span",[t._v("\n          路线\n          "),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.lx,callback:function(e){t.lx=e},expression:"lx"}},t._l(t.lxx,function(t){return a("el-option",{key:t.id,attrs:{label:t.circuitName,value:t.id}})}),1)],1),t._v(" "),1==t.chatab||3==t.chatab?a("span",[t._v("\n          日期\n          "),a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.bc,callback:function(e){t.bc=e},expression:"bc"}})],1):t._e(),t._v(" "),1==t.chatab?a("span",[t._v("\n          设备编号\n          "),a("el-input",{staticClass:"car-name-input",staticStyle:{margin:"0"},attrs:{placeholder:"请输入内容"},model:{value:t.zdl,callback:function(e){t.zdl=e},expression:"zdl"}})],1):t._e(),t._v(" "),2==t.chatab?a("span",[t._v("\n          选择日期\n          "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.xzrq,callback:function(e){t.xzrq=e},expression:"xzrq"}})],1):t._e(),t._v(" "),3==t.chatab?a("span",[t._v("\n          时间类型\n          "),a("el-radio",{attrs:{label:"1"},model:{value:t.sjlx,callback:function(e){t.sjlx=e},expression:"sjlx"}},[t._v("按天")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.sjlx,callback:function(e){t.sjlx=e},expression:"sjlx"}},[t._v("按月")])],1):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",round:""},on:{click:t.sou}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"body"},[1==t.chatab?a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.arr,"tooltip-effect":"dark","header-cell-style":{background:"#EDEFF8",color:"#909399"}}},[a("el-table-column",{attrs:{label:"计划日期",prop:"planTime[0]",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"计划名称",prop:"planName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"路线名称",prop:"circuitName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"巡检点名称",prop:"circuitPointName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"巡检点编号",prop:"circuitPointId",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"计划时间",prop:"planTime[1]",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"到达时间",prop:"arriveTime[1]",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"设备号",prop:"equipmentNo",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"采集员",prop:"personName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"patrolStates",align:"center"}})],1):t._e(),t._v(" "),2==t.chatab?a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.arr,"tooltip-effect":"dark","header-cell-style":{background:"#EDEFF8",color:"#909399"}}},[a("el-table-column",{attrs:{label:"计划名称",prop:"jhmc",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"路线名称",prop:"lxmc",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"巡检点名称",prop:"xjdmc",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"巡检点编号",prop:"xjdbh",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"计划时间",prop:"yjsj",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"到达时间",prop:"ddsj",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"设备号",prop:"sbh",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"采集员",prop:"cjy",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"zt",align:"center"}})],1):t._e(),t._v(" "),3==t.chatab?a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.arr,"tooltip-effect":"dark","header-cell-style":{background:"#EDEFF8",color:"#909399"}}},[a("el-table-column",{attrs:{label:"日期",prop:1==t.sjlx?"日期[0]":"yue",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"计划名称",prop:"计划名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"路线名称",prop:"线路名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间",prop:"日期[1]",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"巡查点数",prop:"巡检点数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"按时",prop:"按时",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"提前",prop:"早到",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"晚点",prop:"晚点",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"遗漏",prop:"漏巡",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"准点率",prop:"准点率",align:"center"}})],1):t._e(),t._v(" "),a("el-pagination",{staticClass:"feny",attrs:{"current-page":t.cur,background:"","page-size":10,layout:"total, prev, pager, next, jumper",total:t.all},on:{"current-change":t.btnClick}})],1)])])},r=[],n=(a("28a5"),a("0d5e")),c={name:"About",data:function(){return{lx:"",bc:[new Date(2019,9,1),new Date],zdl:"",xzrq:"",mes:"",sjlx:"1",pagesize:1,chatab:1,pageNumber:10,arr:[],lxx:[],all:0,cur:1}},computed:{},watch:{chatab:function(){this.sou()}},mounted:function(){this.shua()},methods:{btnClick:function(t){console.log(t),this.cur=t,this.sou()},shua:function(){var t=this;Object(n["b"])("/mngCircuitInfo/getmngcircuitinfobytype",{cpid:this.$store.state.user.companyId,typeid:1}).then(function(e){t.lxx=e.data,t.lx=t.lxx[0].id}),this.sou()},sou:function(){var t=this;if(1===this.chatab){var e={circuitid:this.lx,pageNumber:this.cur-1,pageSize:10,starttime:this.shi2(this.bc[0]),endtime:this.shi2(this.bc[1])};""!==this.zdl&&(e.equimentid=this.zdl),Object(n["b"])("/mngpatrol/getMngPatrolLogPointlist",e).then(function(e){t.arr=e.data.content,t.all=e.data.totalElements;for(var a=0;a<t.arr.length;a++)t.arr[a].planTime=t.arr[a].planTime.trim().split(/\s+/),t.arr[a].arriveTime=t.arr[a].arriveTime.trim().split(/\s+/);console.log(t.arr,12321)})}else Object(n["b"])("/mngpatrol/getPerlist",{circuitid:this.lx,datetype:this.sjlx,pageNumber:this.cur-1,pageSize:10,starttime:this.shi2(this.bc[0]),endtime:this.shi2(this.bc[1])}).then(function(e){t.arr=e.data.content,t.all=e.data.totalElements;for(var a=0;a<t.arr.length;a++)t.arr[a]["日期"]=t.arr[a]["日期"].trim().split(/\s+/),t.arr[a].yue=t.arr[a]["日期"][0].substring(0,t.arr[a]["日期"][0].length-3),t.arr[a]["准点率"]=t.arr[a]["准点率"].toFixed(2)})},shi2:function(t){var e=t.getFullYear(),a=t.getMonth()+1,l=t.getDate(),r=t.getHours()<10?"0"+t.getHours():t.getHours(),n=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),c=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return e+"-"+a+"-"+l+" "+r+":"+n+":"+c}}},i=c,o=(a("87c6"),a("2877")),s=Object(o["a"])(i,l,r,!1,null,"5fa7c9a2",null);e["default"]=s.exports}}]);