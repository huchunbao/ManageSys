(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25cb5e4c","chunk-2d0c7780"],{"0d5e":function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"d",function(){return s}),a.d(e,"a",function(){return l});var i=a("b775");function n(t,e){return Object(i["a"])({url:t,method:"get",params:e})}function r(t,e){return Object(i["a"])({url:t,method:"post",data:e})}function s(t,e){return Object(i["a"])({url:t,method:"put",data:e})}function l(t,e){return Object(i["a"])({url:t,method:"delete",data:e})}},"516d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{height:t.getdata.height,width:t.getdata.width},attrs:{id:t.getdata.id}})},n=[],r=(a("7f7f"),a("313e")),s=a.n(r),l={props:{className:{type:String,default:"chart"},getdata:{type:Object,default:function(){return{id:"echar",series:[],legend:[],height:"",width:""}}}},data:function(){return{chart:null,colorlist:this.$store.state.settings.chartColors}},watch:{getdata:{handler:function(t){var e=this;this.$nextTick(function(){e.EchartsRing(t)})},deep:!0}},mounted:function(){this.chart=s.a.init(document.getElementById(this.getdata.id))},beforeDestroy:function(){var t=this;window.removeEventListener("resize",t.resizeHandler)},methods:{EchartsRing:function(t){var e=t.series,a=t.legend,i=this,n={title:{show:e.length<1&&a.length<1,textStyle:{color:"#909399",fontWeight:"normal",fontSize:14},text:"暂无数据",left:"center",top:"center"},tooltip:{trigger:"item",formatter:function(t){var e="";return e+=t.seriesName+"</br>"+t.marker+t.data.name+" : "+t.data.value+"("+t.percent+"%)</br>",e}},legend:{orient:"vertical",icon:"circle",x:"80%",y:"center",data:a},color:this.$store.state.settings.chartColors,series:[{name:"消费来源",type:"pie",center:["40%","55%"],radius:["30%","50%"],avoidLabelOverlap:!0,hoverAnimation:!0,labelLine:{normal:{show:!0}},label:{normal:{show:!0,formatter:function(t){var e="";return e+=t.data.value+"("+t.percent+"%)",e}},emphasis:{show:!0}},data:e}]};i.chart.setOption(n),window.addEventListener("resize",i.resizeHandler)},resizeHandler:function(){this.chart&&this.chart.resize()}}},o=l,c=a("2877"),d=Object(c["a"])(o,i,n,!1,null,null,null);e["default"]=d.exports},"928a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"integral-wrapper"},[a("div",{staticClass:"layout_box"},[a("div",{staticClass:"top"},[a("div",{staticClass:"top_left"},[a("div",{staticClass:"top_left_left"},[a("div",{staticClass:"title"},[t._v("会员统计数据分析")]),t._v(" "),a("div",{staticClass:"L"},[a("div",{staticClass:"data_list"},[a("div",[a("div",[t._v("会员总数")]),t._v(" "),a("div",[a("span",{staticClass:"nums"},[t._v(t._s(t.memberTotalNum))]),t._v("  人\n                ")])])]),t._v(" "),a("div",{staticClass:"data_list"},[a("div",[a("div",[t._v("今年送出总积分")]),t._v(" "),a("div",[a("span",{staticClass:"nums"},[t._v(t._s(t.totalSendNum))]),t._v("  分\n                ")])])])]),t._v(" "),a("div",{staticClass:"R"},[a("div",{staticClass:"data_list"},[a("div",[a("div",[t._v("新增会员")]),t._v(" "),a("div",[a("span",{staticClass:"nums"},[t._v(t._s(t.addMemberTotalNum))]),t._v("  人\n                ")])])]),t._v(" "),a("div",{staticClass:"data_list"},[a("div",[a("div",[t._v("今年兑换总积分")]),t._v(" "),a("div",[a("span",{staticClass:"nums"},[t._v(t._s(t.totalExchangeNum))]),t._v("  分\n                ")])])])])]),t._v(" "),a("div",{staticClass:"top_left_right echarts"})]),t._v(" "),a("div",{staticClass:"top_right"},[a("div",{staticClass:"title"},[t._v("今年会员消费占比")]),t._v(" "),a("echart-ring",{attrs:{getdata:t.series_data}})],1)]),t._v(" "),t._m(0)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom_left"},[a("div",{staticClass:"title"},[t._v("\n          本年每月会员积分统计\n        ")]),t._v(" "),a("div",{staticClass:"echarts echarts_box ",staticStyle:{height:"100%","margin-top":"-15px"},attrs:{id:"echartslinecolumn"}})]),t._v(" "),a("div",{staticClass:"bottom_right"},[a("div",{staticClass:"title"},[t._v("历年会员活跃统计")]),t._v(" "),a("div",{staticClass:"echarts echarts_box",staticStyle:{width:"100%",height:"100%","margin-top":"-15px"},attrs:{id:"doublecolumn"}})])])}],r=(a("6b54"),a("ac6a"),a("7f7f"),a("bd86")),s=a("0d5e"),l=a("313e"),o=a.n(l),c=a("516d"),d={name:"Integral",data:function(){var t;return t={memberTotalNum:0,addMemberTotalNum:0,totalExchangeNum:0,totalSendNum:0},Object(r["a"])(t,"memberTotalNum",""),Object(r["a"])(t,"memberList",""),Object(r["a"])(t,"memberIntegralInfos",""),Object(r["a"])(t,"series_data",{id:"echartring",series:[],legend:[],height:"100%",width:"100%"}),Object(r["a"])(t,"echart2",null),Object(r["a"])(t,"echart3",null),t},components:{EchartRing:c["default"]},mounted:function(){var t=this,e=this;this.$nextTick(function(){Object(s["b"])("/income/findMemberCardIncome").then(function(a){if("SUCCESS"===a.msg){a=a.data;t.memberTotalNum=a.memberTotalNum?a.memberTotalNum:0,t.addMemberTotalNum=a.addMemberTotalNum?a.addMemberTotalNum:0,t.totalExchangeNum=a.totalExchangeNum?a.totalExchangeNum:0,t.totalSendNum=a.totalSendNum?a.totalSendNum:0;for(var i=a.memberList,n=[],r=[],s=[],l=[],o=[],c=0;c<i.length;c++)4===i[c].dateYear?i[c].name&&(n.push({value:i[c].imcomeValue,name:i[c].name}),r.push(i[c].name)):0===i[c].dateYear&&(0===i[c].active?(s.push(i[c].imcomeValue),o.push(parseInt(i[c].dateName))):l.push(i[c].imcomeValue));e.series_data.series=n,e.series_data.legend=r,e.DoubleColumn(s,l,o);for(var d=a.memberIntegralInfos,u=[],h=[],m=[],v=1;v<=12;v++)m.push(v),u.push(0),h.push(0);for(var f=0;f<d.length;f++)if(0===d[f].integralType)for(var g=0;g<m.length;g++)m[g]===parseInt(d[f].dateName)&&(u[g]=d[f].integral);else if(1===d[f].integralType)for(var p=0;p<m.length;p++)m[p]===parseInt(d[f].dateName)&&(h[p]=d[f].integral);e.EchartsLineColumn(u,h,m)}})})},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler)},methods:{TabClick:function(t){this.default_bar=t},EchartsLineColumn:function(t,e,a){var i=this,n=[{name:"送出积分"},{name:"兑换积分",icon:"circle"}],r={title:{show:t.length<1||e.length<1||a.length<1,textStyle:{color:"#909399",fontWeight:"normal",fontSize:14},text:"暂无数据",left:"center",top:"center"},grid:{left:"20",right:"70",bottom:"50"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){var e="";return e=t[0].name+"月份积分出入情况</br>",t.forEach(function(t){e+=t.marker+" "+t.seriesName+" : "+t.value+"</br>"}),e}},legend:{data:n},color:["#3F6AFF","#A2BCFF"],xAxis:[{name:"月份(月)",type:"category",splitLine:{show:!1},data:a,axisPointer:{type:"shadow"},axisTick:{alignWithLabel:!0,show:!1}}],yAxis:[{type:"value",name:"积分(分)",splitLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:"{value}"}}],series:[{name:"送出积分",type:"line",data:t},{name:"兑换积分",type:"bar",data:e}]};i.echart2=o.a.init(document.getElementById("echartslinecolumn")),r.grid.left=this.getYWidth(Math.max.apply(null,r.series[0].data),Math.max.apply(null,r.series[1].data)),i.echart2.setOption(r),window.addEventListener("resize",i.resizeHandler)},DoubleColumn:function(t,e,a){var i,n={title:{show:a.length<1||t.length<1||e.length<1,textStyle:{color:"#909399",fontWeight:"normal",fontSize:14},text:"暂无数据",left:"center",top:"center"},grid:{left:"20",right:"70",bottom:"50"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){var e="";return e=t[0].name+"年会员活跃度统计</br>",t.forEach(function(t){e+=t.marker+""+t.seriesName+" : "+t.value+"</br>"}),e}},legend:{data:[{name:"活跃会员",icon:"circle"},{name:"沉默会员",icon:"circle"}]},color:["#89A2FF","#A2BCFF"],yAxis:[{type:"value",name:"人数(人)",axisLabel:{formatter:"{value}"},splitLine:{show:!1},axisTick:{show:!1}}],xAxis:[(i={type:"value",name:"日期(年)",splitLine:{show:!1},axisTick:{show:!1}},Object(r["a"])(i,"type","category"),Object(r["a"])(i,"data",a),i)],series:[{name:"活跃会员",type:"bar",barMaxWidth:50,data:t},{name:"沉默会员",type:"bar",barMaxWidth:50,data:e}]},s=this;s.echart3=o.a.init(document.getElementById("doublecolumn"),"light"),n.grid.left=this.getYWidth(Math.max.apply(null,n.series[0].data),Math.max.apply(null,n.series[1].data)),s.echart3.setOption(n),window.addEventListener("resize",s.resizeHandler)},resizeHandler:function(){this.echart2&&this.echart2.resize(),this.echart3&&this.echart3.resize()},getYWidth:function(t,e){return(12*(t>e?t.toString().length:e.toString().length)).toString()}}},u=d,h=(a("ceed"),a("2877")),m=Object(h["a"])(u,i,n,!1,null,"52336610",null);e["default"]=m.exports},ceed:function(t,e,a){"use strict";var i=a("e8e0"),n=a.n(i);n.a},e8e0:function(t,e,a){}}]);