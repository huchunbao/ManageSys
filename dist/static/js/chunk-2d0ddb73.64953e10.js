(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ddb73"],{8324:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"data-wapper",staticStyle:{width:"360px"}},[l("el-form",{ref:"collectionForm",staticClass:"collection",attrs:{disabled:0===e.wapperType&&!e.btnSave,model:e.collectionForm,rules:e.collectionRules,"label-width":"120px",autocomplete:"on",size:"mini"}},[l("el-form-item",{attrs:{label:"数据采集名称",prop:"name"}},[l("el-input",{attrs:{placeholder:"输入数据采集名称"},model:{value:e.collectionForm.name,callback:function(t){e.$set(e.collectionForm,"name",t)},expression:"collectionForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"厂商名称",prop:"company"}},[l("el-input",{attrs:{clearable:"",placeholder:"输入厂商名称"},model:{value:e.collectionForm.company,callback:function(t){e.$set(e.collectionForm,"company",t)},expression:"collectionForm.company"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"子系统名称"}},[l("el-dropdown",{attrs:{type:"primary",placement:"bottom-start",plain:""},on:{command:function(t){return e.handleChildDD.apply(void 0,arguments)}}},[l("el-button",{staticClass:"el-dropdown-link"},[e._v("\n          "+e._s(e.collectionForm.childSys)),l("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.childSysList,function(t){return l("el-dropdown-item",{key:t.id,attrs:{command:t}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"服务器名称或IP",prop:"server"}},[l("el-input",{attrs:{clearable:"",placeholder:"输入服务器名称或IP"},model:{value:e.collectionForm.server,callback:function(t){e.$set(e.collectionForm,"server",t)},expression:"collectionForm.server"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"登录用户名",prop:"username"}},[l("el-input",{attrs:{clearable:"",placeholder:"输入登录用户名"},model:{value:e.collectionForm.username,callback:function(t){e.$set(e.collectionForm,"username",t)},expression:"collectionForm.username"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"密码",prop:"password"}},[l("el-input",{attrs:{clearable:"",placeholder:"输入密码"},model:{value:e.collectionForm.password,callback:function(t){e.$set(e.collectionForm,"password",t)},expression:"collectionForm.password"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"协议类型"}},[l("el-dropdown",{attrs:{type:"primary",placement:"bottom-start",plain:""},on:{command:function(t){return e.handleDD.apply(void 0,arguments)}}},[l("el-button",{staticClass:"el-dropdown-link"},[e._v("\n          "+e._s(e.collectionForm.protocol)),l("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.protocolList,function(t){return l("el-dropdown-item",{key:t.val,attrs:{command:t}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"内容编码",prop:"coding"}},[l("el-input",{attrs:{clearable:"",placeholder:"输入内容编码"},model:{value:e.collectionForm.coding,callback:function(t){e.$set(e.collectionForm,"coding",t)},expression:"collectionForm.coding"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"描述",prop:"remark"}},[l("el-input",{attrs:{type:"textarea",rows:3,clearable:"",placeholder:"输入描述"},model:{value:e.collectionForm.remark,callback:function(t){e.$set(e.collectionForm,"remark",t)},expression:"collectionForm.remark"}})],1)],1),e._v(" "),1===e.wapperType?l("el-button",{staticClass:"el-button-default",staticStyle:{float:"left","margin-left":"120px"},attrs:{round:"",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]):e._e(),e._v(" "),0===e.wapperType?l("el-button",{class:{"el-button-default":e.updateStatus()},staticStyle:{float:"left","margin-left":"120px"},attrs:{disabled:""===e.collectionForm.name||e.btnSave,round:"",size:"mini"},on:{click:function(t){e.btnSave=!0}}},[e._v("修改")]):e._e(),e._v(" "),l("el-button",{class:{"el-button-default":e.btnSave||1===e.wapperType},staticStyle:{float:"right"},attrs:{round:"",size:"mini",loading:e.loading,disabled:0===e.wapperType&&!e.btnSave},on:{click:e.handleSave}},[e._v("保存")])],1)},r=[],a=(l("7f7f"),l("c5f6"),{name:"DataWapper",props:{wapperType:{type:Number,default:0},childSysList:{type:Array,default:function(){return[]}},childSysText:{type:String,default:""}},data:function(){return{collectionForm:{id:0,name:"",company:"",childSys:this.childSysText,childId:1,server:"",username:"",password:"",protocol:"HTTP",coding:"",remark:""},collectionRules:{name:[{required:!0,message:"请输入数据采集名称",trigger:"blur"}],company:[{required:!0,message:"请输入厂商名称",trigger:"blur"}],server:[{required:!0,message:"请输入服务器名称或IP",trigger:"blur"}],username:[{required:!0,message:"请输入登录用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],coding:[{required:!0,message:"请输入内容编码",trigger:"blur"}]},protocolList:[{val:1,name:"HTTP"},{val:2,name:"HTTPS"},{val:3,name:"串口"},{val:4,name:"UDP"}],btnSave:!1,loading:!1}},methods:{handleChildDD:function(e){this.collectionForm.childSys=e.name,this.collectionForm.childId=e.id},handleDD:function(e){this.collectionForm.protocol=e.name},updateStatus:function(){return!this.btnSave&&!(this.collectionForm.id<=0)},handleCancel:function(){this.$emit("cancel")},handleSave:function(){var e=this;this.$refs.collectionForm.validate(function(t){t&&(e.loading=!0,1===e.wapperType?e.$emit("add",e.collectionForm):e.$emit("update",e.collectionForm))})}}}),n=a,i=l("2877"),c=Object(i["a"])(n,o,r,!1,null,null,null);t["default"]=c.exports}}]);