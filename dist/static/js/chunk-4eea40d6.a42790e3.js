(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eea40d6"],{"0d5e":function(t,e,s){"use strict";s.d(e,"b",function(){return n}),s.d(e,"c",function(){return i}),s.d(e,"d",function(){return l}),s.d(e,"a",function(){return c});var a=s("b775");function n(t,e){return Object(a["a"])({url:t,method:"get",params:e})}function i(t,e){return Object(a["a"])({url:t,method:"post",data:e})}function l(t,e){return Object(a["a"])({url:t,method:"put",data:e})}function c(t,e){return Object(a["a"])({url:t,method:"delete",data:e})}},8823:function(t,e,s){"use strict";var a=s("d45a"),n=s.n(a);n.a},af80:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("div",{staticClass:"message_tree"},[t._m(0),t._v(" "),s("div",{staticClass:"list_title"},[t.datas?s("p",[t._v("暂无数据，请添加")]):t._e(),t._v(" "),t.datas?t._e():s("el-scrollbar",{staticClass:"scroll_box",attrs:{tag:"ul"}},[s("div",{staticClass:"text_box message_box2"},[s("ul",t._l(t.list_value,function(e,a){return s("li",{key:a,class:{active:a===t.default_bar},on:{click:function(e){return t.Clickli(a)}}},[s("div",{staticClass:"namea"},[t._v(t._s(e.name))]),t._v(" "),s("el-switch",{staticClass:"selects",attrs:{"active-color":"#3B65FF","inactive-color":"#D4DADF"},on:{change:function(e){return t.switchClick(a)}},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"item.value"}})],1)}),0)])])],1)]),t._v(" "),s("div",{staticClass:"content"},[s("p",{staticClass:"sets"},[t._v("渠道配置")]),t._v(" "),s("ul",[t.contains?s("li",[s("div",{staticClass:"title_name"},[t._v("模板名称")]),t._v(" "),s("el-select",{staticClass:"rights",attrs:{placeholder:"请选择",disabled:t.disabled},on:{change:function(e){return t.onchange(t.name)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),t.contains?s("li",[s("div",{staticClass:"title_name"},[t._v("模板信息 短信开头")]),t._v(" "),s("el-input",{staticClass:"rights",attrs:{placeholder:"请输入内容",disabled:t.disabled},model:{value:t.messages_tart,callback:function(e){t.messages_tart=e},expression:"messages_tart"}})],1):t._e(),t._v(" "),t.contains?s("li",{staticClass:"moreContent"},[s("div",{staticClass:"title_name"},[t._v("短信内容")]),t._v(" "),s("el-input",{staticClass:"rights",attrs:{type:"textarea",rows:2,placeholder:"请输入内容",disabled:t.disabled},model:{value:t.messages_content,callback:function(e){t.messages_content=e},expression:"messages_content"}})],1):t._e(),t._v(" "),t.contains?s("li",[s("div",{staticClass:"title_name"},[t._v("短信结尾")]),t._v(" "),s("el-input",{staticClass:"rights",attrs:{placeholder:"请输入内容",disabled:t.disabled},model:{value:t.messages_end,callback:function(e){t.messages_end=e},expression:"messages_end"}})],1):t._e(),t._v(" "),s("li",[s("div",{staticClass:"title_name"},[t._v("是否启用")]),t._v(" "),s("el-switch",{staticClass:"isuse rights",attrs:{"active-text":"启用","inactive-text":"不启用","active-color":"#3B65FF","inactive-color":"#D4DADF",disabled:t.disabled},model:{value:t.isused,callback:function(e){t.isused=e},expression:"isused"}})],1),t._v(" "),s("li",[s("el-row",[s("el-button",{attrs:{disabled:t.edit,round:""},on:{click:t.changeClick}},[t._v("修改")]),t._v(" "),s("el-button",{attrs:{type:t.save?"primary":"",disabled:!t.save,round:""},on:{click:t.saveClick}},[t._v("保存")])],1)],1)])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"names"},[t._v("渠道")])])}],i=(s("7f7f"),s("0d5e")),l={name:"Tourist",data:function(){return{cpid:null,default_bar:0,name:"",messages_tart:"",messages_content:"",messages_end:"",isused:!1,contains:!1,cities:["短信","手机游景区","手机管景区"],disabled:!0,edit:!1,list_value:[{name:"短信",value:!1},{name:"手机游景区",value:!1},{name:"手机管景区",value:!1}],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}},computed:{datas:function(){return!(this.list_value.length>0)},save:function(){return this.name&&this.messages_tart&&this.messages_content&&this.messages_end}},watch:{},created:function(){this.cpid=this.$store.state.user.companyId},mounted:function(){this.Clickli(0),this.moduleName()},methods:{addClick:function(){var t=this,e=this;this.$prompt("请输入渠道名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S{3,}/,inputErrorMessage:"请检查渠道名称是否正确(不少于三个任意字符)"}).then(function(t){var s=t.value;s&&(e.list_value.push({name:s,value:!1}),e.Clickli(e.list_value.length-1))}).catch(function(){t.$message({type:"info",message:"取消输入"})})},delClick:function(){var t=this,e=this,s=e.list_value[e.default_bar].name;this.$confirm('<span>是否删除:&nbsp;&nbsp;<span style="color: red;">'+s+"</span></span>","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",dangerouslyUseHTMLString:!0,center:!0}).then(function(){(e.default_bar||0===e.default_bar)&&(e.list_value.splice(e.default_bar,1),e.default_bar=null)}).catch(function(){t.$message({type:"message",message:"已取消删除"})})},onchange:function(t){var e=this,s=this.options;console.log(s);for(var a=0;a<s.length;a++)s[a].value===t&&(e.messages_content=s[a].content)},changeClick:function(){this.disabled=!1,console.log("当前修改的是"+this.default_bar)},initChannel:function(){},moduleName:function(){var t=this;Object(i["b"])("/notify-template/"+t.cpid).then(function(e){if(console.log(e),"SUCCESS"===e.msg){for(var s=[],a=e.data,n=0;n<a.length;n++)s.push({value:a[n].id,label:a[n].wayName,content:a[n].content});t.options=s}})},saveClick:function(){this.edit=!1,this.disabled=!0,console.log(this.options),console.log(this.list_value)},Clickli:function(t){this.default_bar=t;for(var e=this,s=0;s<e.list_value.length;s++)s===t&&(e.list_value[s].value=!e.list_value[s].value);this.name=null,this.messages_tart=null,this.messages_content=null,this.messages_end=null,this.isused=!1,this.disabled=!0},switchClick:function(t){var e=this;e.default_bar=t,window.event.stopPropagation()}}},c=l,o=(s("8823"),s("2877")),u=Object(o["a"])(c,a,n,!1,null,"7115e9ab",null);e["default"]=u.exports},d45a:function(t,e,s){}}]);