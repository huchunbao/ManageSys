{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\property\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\property\\index.vue","mtime":1576638137354},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getListByGet } from '@/api/car'\nimport TableTemplate from '@/components/Table/index'\nimport RingChart from '@/components/Charts/RingChart'\n\nexport default {\n  name: 'Property',\n  components: { TableTemplate, RingChart },\n  data() {\n    return {\n      activeName: '全部景区',\n      tabList: [{ id: 0, name: '全部景区' }, { id: 1, name: 'A景区' }, { id: 2, name: 'B景区' }],\n      headList: {\n        table1: [{ label: '类别', prop: 'typeName', width: 'auto' },\n          { label: '总金额(元)', prop: 'money', width: 'auto' }\n        ],\n        table2: [{ label: '名称', prop: 'assetName', width: 'auto' },\n          { label: '类别', prop: 'typeName', width: 'auto' },\n          { label: '单价', prop: 'price', width: 'auto' },\n          { label: '数量', prop: 'num', width: '55' },\n          { label: '金额(元)', prop: 'money', width: '80' },\n          { label: '备注', prop: 'remarks', width: '70' }\n        ]\n      },\n      dataList: {\n        table1: [],\n        table2: [],\n        table3: []\n      },\n      chartList: {\n        ldata: [],\n        sdata: []\n      }\n    }\n  },\n  mounted() {\n    this.$refs.propertyTable1.total = 0\n    this.$refs.propertyTable1.dataList = []\n    this.$refs.propertyTable2.total = 0\n    this.$refs.propertyTable2.dataList = []\n    this.getList('/asset/findAssetList', null).then(data => {\n      for (var i = 0; i < data.data.assetList.length; i++) {\n        if (data.data.assetList[i].scrap === 1) {\n          this.$refs.propertyTable1.dataList.push(data.data.assetList[i])\n        } else {\n          this.$refs.propertyTable2.dataList.push(data.data.assetList[i])\n        }\n      }\n\n      for (var j = 0; j < data.data.assetRate.length; j++) {\n        this.chartList.ldata.push(data.data.assetRate[j].typeName)\n        this.chartList.sdata.push({ name: data.data.assetRate[j].typeName, value: data.data.assetRate[j].money })\n      }\n    })\n    this.getInputList(1)\n  },\n  methods: {\n    getList(url, query) {\n      return new Promise((resolve, reject) => {\n        getListByGet(url, query).then(response => {\n          resolve(response)\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n    getInputList(pages) {\n      this.getList('/asset/findMoneyAssetList?pageNum=' + pages + '&pageSize=5', null).then(data => {\n        var list = data.data.moneyAssetList.content\n        list.forEach(item => {\n          item['price'] = Math.round(item.money / item.num)\n        })\n        this.$refs.propertyTable3.dataList = list\n        this.$refs.propertyTable3.total = data.data.moneyAssetList.totalElements\n      })\n    },\n    pageChange(page) {\n      this.getInputList(page[1].page)\n    }\n  }\n}\n",null]}