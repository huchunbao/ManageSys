{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\structure\\index.vue?vue&type=template&id=5b6801e8&scoped=true&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\structure\\index.vue","mtime":1577252313208},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"structure-container default-container\">\n  <el-row :gutter=\"15\" class=\"first-row\">\n    <el-col :span=\"5\">\n      <div class=\"company bg\">\n        <div class=\"company-title\">\n          <p class=\"title f-l\">公司</p>\n          <p class=\"p-btn f-r\" :class=\"{'btn-disable': !companyDelBtn}\" @click=\"deleteCompany()\">删除</p>\n          <p class=\"p-btn f-r\" :class=\"{'btn-disable': !companyDelBtn}\" @click=\"addCompany(1)\">修改</p>\n          <p class=\"p-btn f-r\" @click=\"addCompany(0)\">增加</p>\n          <p class=\"p-btn f-r\" :class=\"{'btn-disable': !companyDelBtn}\" @click=\"authCompany()\">授权</p>\n        </div>\n        <el-scrollbar class=\"company-tree\">\n          <el-tree\n            ref=\"companyTree\"\n            :data=\"companyData\"\n            :props=\"defaultProps\"\n            node-key=\"companyId\"\n            highlight-current\n            accordion\n            @node-click=\"companyClick\"\n          >\n          </el-tree>\n        </el-scrollbar>\n      </div>\n      <div class=\"department bg\">\n        <div>\n          <p class=\"title f-l\">部门</p>\n          <p class=\"p-btn f-r\" @click=\"deleteDepartment()\">删除</p>\n          <p class=\"p-btn f-r\" @click=\"addDepartment(1)\">修改</p>\n          <p class=\"p-btn f-r\" @click=\"addDepartment(0)\">增加</p>\n        </div>\n        <el-scrollbar class=\"company-tree\">\n          <el-tree\n            ref=\"departmentTree\"\n            :data=\"departmentData\"\n            :props=\"{ children: 'children', label: 'name' }\"\n            node-key=\"id\"\n            highlight-current\n            accordion\n            @node-click=\"departmentClick\"\n          >\n          </el-tree>\n        </el-scrollbar>\n      </div>\n    </el-col>\n    <el-col :span=\"19\">\n      <div class=\"user-info bg\">\n        <div>\n          <p class=\"title f-l\">账号信息</p>\n          <p class=\"p-btn f-l\" @click=\"deleteUser()\">删除</p>\n          <p class=\"p-btn f-l\" @click=\"addUser(0)\">增加</p>\n        </div>\n        <div class=\"user-table\">\n          <el-table\n            ref=\"userTable\"\n            v-loading=\"userLoading\"\n            :data=\"userData\"\n            :row-key=\"userData.userId\"\n            max-height=\"100%\"\n            height=\"100%\"\n            style=\"width: 100%\"\n            header-row-class-name=\"car-table-header\"\n            row-class-name=\"car-table-item\"\n            highlight-current-row\n          >\n            <el-table-column type=\"selection\" align=\"center\" width=\"40\" class-name=\"user-table-check\"></el-table-column>\n            <el-table-column prop=\"cusName\" label=\"姓名\" width=\"80\"></el-table-column>\n            <el-table-column prop=\"dept.name\" label=\"部门\" width=\"90\"></el-table-column>\n            <el-table-column prop=\"postName\" label=\"职位\" width=\"90\"></el-table-column>\n            <el-table-column prop=\"phone\" label=\"手机号\" width=\"110\"></el-table-column>\n            <el-table-column prop=\"username\" label=\"账号\" width=\"110\"></el-table-column>\n            <el-table-column prop=\"roleList[0].showName\" label=\"角色\" width=\"100\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"auto\" class-name=\"user-table-btn\">\n              <template slot-scope=\"scope\">\n                <p class=\"p-btn\" style=\"margin-left:0;\" @click=\"updateUserRole(scope)\">修改角色</p>\n                <p class=\"p-btn\" @click=\"updateUser(scope)\">修改账号</p>\n                <p class=\"p-btn\" @click=\"deleteUserById(scope)\">删除账号</p>\n                <p class=\"p-btn\" @click=\"resetPassword(scope)\">重置密码</p>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n        <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"pageChange(arguments)\" />\n      </div>\n      <div class=\"role-info bg\">\n        <div>\n          <p class=\"title f-l\">角色</p>\n          <p class=\"p-btn f-l\" @click=\"addRole()\">增加</p>\n        </div>\n        <div class=\"role-table\">\n          <el-table\n            ref=\"roleTable\"\n            v-loading=\"roleLoading\"\n            :data=\"roleData\"\n            :row-key=\"roleData.id\"\n            :show-header=\"false\"\n            height=\"100%\"\n            row-class-name=\"role-table-item\"\n            highlight-current-row\n          >\n            <el-table-column prop=\"showName\" label=\"角色\" width=\"100\"></el-table-column>\n            <el-table-column width=\"auto\" fixed=\"right\" class-name=\"user-table-btn\">\n              <template slot-scope=\"scope\">\n                <p class=\"p-btn\" style=\"margin-left:0;\" @click=\"updateRole(scope.row)\">修改</p>\n                <p class=\"p-btn\" @click=\"deleteRole(scope.row)\">删除</p>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </div>\n    </el-col>\n  </el-row>\n  <el-dialog :visible.sync=\"showCompany\" :title=\"addCompanyType === 0 ? '新增公司':'修改公司'\" width=\"30%\">\n    <el-form v-if=\"showCompany\" ref=\"addCompanyForm\" :model=\"addCompanyForm\" :rules=\"addCompanyRules\" hide-required-asterisk label-width=\"80px\" autocomplete=\"on\" size=\"mini\" class=\"add-company-dlg\">\n      <el-form-item v-if=\"addCompanyType === 1\" label=\"原名称\">\n        <el-input v-model=\"addCompanyForm.oldName\" :disabled=\"true\" placeholder=\"原名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"公司名称\" prop=\"name\">\n        <el-input v-model=\"addCompanyForm.name\" clearable placeholder=\"公司名称\"></el-input>\n      </el-form-item>\n      <el-form-item v-if=\"addCompanyType === 0\" label=\"负责人\" prop=\"principal\">\n        <el-input v-model=\"addCompanyForm.principal\" clearable placeholder=\"负责人姓名\"></el-input>\n      </el-form-item>\n      <el-form-item v-if=\"addCompanyType === 0\" label=\"手机号\" prop=\"mobile\">\n        <el-input v-model=\"addCompanyForm.mobile\" clearable placeholder=\"负责人手机号\"></el-input>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button round size=\"mini\" class=\"el-button-default\" @click=\"cancelCompany\">取消</el-button>\n      <el-button round size=\"mini\" type=\"primary\" @click=\"submitCompany\">确定</el-button>\n    </span>\n  </el-dialog>\n  <el-dialog :visible.sync=\"showDepartment\" :title=\"addDepartmentType === 0 ? '新增部门':'修改部门'\" width=\"30%\">\n    <el-form v-if=\"showDepartment\" ref=\"addDepartmentForm\" :model=\"addDepartmentForm\" :rules=\"addDepartmentRules\" hide-required-asterisk label-width=\"80px\" autocomplete=\"on\" size=\"mini\" class=\"add-company-dlg\">\n      <el-form-item v-if=\"addDepartmentType === 1\" label=\"原名称\">\n        <el-input v-model=\"addDepartmentForm.oldName\" :disabled=\"true\" placeholder=\"原名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"部门名称\" prop=\"name\">\n        <el-input v-model=\"addDepartmentForm.name\" clearable placeholder=\"部门名称\"></el-input>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button round size=\"mini\" class=\"el-button-default\" @click=\"cancelDepartment\">取消</el-button>\n      <el-button round size=\"mini\" type=\"primary\" @click=\"submitDepartment\">确定</el-button>\n    </span>\n  </el-dialog>\n  <el-dialog :visible.sync=\"showUser\" :title=\"addUserType === 0 ? '新增用户':'修改用户'\" width=\"700px\">\n    <account v-if=\"showUser\" :user-info=\"addUserInfo\" @canceluser=\"showUser=false\" @submituser=\"submitUser\"></account>\n  </el-dialog>\n  <el-dialog :visible.sync=\"showUserRole\" title=\"修改用户角色\" width=\"300px\">\n    <el-form v-if=\"showUserRole\" label-width=\"80px\" hide-required-asterisk autocomplete=\"on\" class=\"add-company-dlg\" size=\"mini\">\n      <el-form-item label=\"角色名称\">\n        <el-dropdown type=\"primary\" placement=\"bottom-start\" plain @command=\"handleDD(...arguments)\">\n          <el-button class=\"el-dropdown-link\">\n            {{ userRoleForm.showName }}<i class=\"el-icon-caret-bottom el-icon--right\"></i>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item v-for=\"role in roleData\" :key=\"role.id\" :command=\"role\">{{ role.showName }}</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button round size=\"mini\" class=\"el-button-default\" @click=\"cancelUserRole\">取消</el-button>\n      <el-button round size=\"mini\" type=\"primary\" @click=\"submitUserRole\">确定</el-button>\n    </span>\n  </el-dialog>\n  <el-dialog :visible.sync=\"showRole\" :title=\"addRoleType === 0 ? '新增角色':'修改角色'\" width=\"80%\">\n    <role v-if=\"showRole\" ref=\"roleDlg\" :add-type=\"addRoleType\" :role-id=\"addRoleId\" :company-id=\"selectCompanyId\" :role-name=\"addRoleName\" @cancelrole=\"showRole=false\" @submitrole=\"submitRole\"></role>\n  </el-dialog>\n  <el-dialog :visible.sync=\"showAuth\" title=\"子公司授权\" width=\"750px\" class=\"auth-dlg\">\n    <div v-if=\"showAuth\" class=\"auth-wapper\">\n      <tree-transfer ref=\"treeTransfer\" :select-company-id=\"selectCompanyId\" :btn-status=\"1\" @authend=\"authend\"></tree-transfer>\n      <el-button round size=\"mini\" :loading=\"authLoading\" class=\"auth-edit-btn el-button-default\" @click=\"authSave\">保存</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}