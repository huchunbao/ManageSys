{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\structure\\index.vue?vue&type=template&id=1d05fe72&scoped=true&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\structure\\index.vue","mtime":1577252313208},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"structure-container default-container\"},[_c('el-row',{staticClass:\"first-row\",attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"company bg\"},[_c('div',{staticClass:\"company-title\"},[_c('p',{staticClass:\"title f-l\"},[_vm._v(\"公司\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",class:{'btn-disable': !_vm.companyDelBtn},on:{\"click\":function($event){return _vm.deleteCompany()}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",class:{'btn-disable': !_vm.companyDelBtn},on:{\"click\":function($event){return _vm.addCompany(1)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",on:{\"click\":function($event){return _vm.addCompany(0)}}},[_vm._v(\"增加\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",class:{'btn-disable': !_vm.companyDelBtn},on:{\"click\":function($event){return _vm.authCompany()}}},[_vm._v(\"授权\")])]),_vm._v(\" \"),_c('el-scrollbar',{staticClass:\"company-tree\"},[_c('el-tree',{ref:\"companyTree\",attrs:{\"data\":_vm.companyData,\"props\":_vm.defaultProps,\"node-key\":\"companyId\",\"highlight-current\":\"\",\"accordion\":\"\"},on:{\"node-click\":_vm.companyClick}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"department bg\"},[_c('div',[_c('p',{staticClass:\"title f-l\"},[_vm._v(\"部门\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",on:{\"click\":function($event){return _vm.deleteDepartment()}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",on:{\"click\":function($event){return _vm.addDepartment(1)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-r\",on:{\"click\":function($event){return _vm.addDepartment(0)}}},[_vm._v(\"增加\")])]),_vm._v(\" \"),_c('el-scrollbar',{staticClass:\"company-tree\"},[_c('el-tree',{ref:\"departmentTree\",attrs:{\"data\":_vm.departmentData,\"props\":{ children: 'children', label: 'name' },\"node-key\":\"id\",\"highlight-current\":\"\",\"accordion\":\"\"},on:{\"node-click\":_vm.departmentClick}})],1)],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":19}},[_c('div',{staticClass:\"user-info bg\"},[_c('div',[_c('p',{staticClass:\"title f-l\"},[_vm._v(\"账号信息\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-l\",on:{\"click\":function($event){return _vm.deleteUser()}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-l\",on:{\"click\":function($event){return _vm.addUser(0)}}},[_vm._v(\"增加\")])]),_vm._v(\" \"),_c('div',{staticClass:\"user-table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.userLoading),expression:\"userLoading\"}],ref:\"userTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userData,\"row-key\":_vm.userData.userId,\"max-height\":\"100%\",\"height\":\"100%\",\"header-row-class-name\":\"car-table-header\",\"row-class-name\":\"car-table-item\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\",\"width\":\"40\",\"class-name\":\"user-table-check\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cusName\",\"label\":\"姓名\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dept.name\",\"label\":\"部门\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"postName\",\"label\":\"职位\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"手机号\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"账号\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleList[0].showName\",\"label\":\"角色\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"auto\",\"class-name\":\"user-table-btn\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"p-btn\",staticStyle:{\"margin-left\":\"0\"},on:{\"click\":function($event){return _vm.updateUserRole(scope)}}},[_vm._v(\"修改角色\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn\",on:{\"click\":function($event){return _vm.updateUser(scope)}}},[_vm._v(\"修改账号\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn\",on:{\"click\":function($event){return _vm.deleteUserById(scope)}}},[_vm._v(\"删除账号\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn\",on:{\"click\":function($event){return _vm.resetPassword(scope)}}},[_vm._v(\"重置密码\")])]}}])})],1)],1),_vm._v(\" \"),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total>0),expression:\"total>0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.page,\"limit\":_vm.listQuery.limit},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"limit\", $event)},\"pagination\":function($event){return _vm.pageChange(arguments)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"role-info bg\"},[_c('div',[_c('p',{staticClass:\"title f-l\"},[_vm._v(\"角色\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn f-l\",on:{\"click\":function($event){return _vm.addRole()}}},[_vm._v(\"增加\")])]),_vm._v(\" \"),_c('div',{staticClass:\"role-table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.roleLoading),expression:\"roleLoading\"}],ref:\"roleTable\",attrs:{\"data\":_vm.roleData,\"row-key\":_vm.roleData.id,\"show-header\":false,\"height\":\"100%\",\"row-class-name\":\"role-table-item\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"showName\",\"label\":\"角色\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"auto\",\"fixed\":\"right\",\"class-name\":\"user-table-btn\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"p-btn\",staticStyle:{\"margin-left\":\"0\"},on:{\"click\":function($event){return _vm.updateRole(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('p',{staticClass:\"p-btn\",on:{\"click\":function($event){return _vm.deleteRole(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)])])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.showCompany,\"title\":_vm.addCompanyType === 0 ? '新增公司':'修改公司',\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.showCompany=$event}}},[(_vm.showCompany)?_c('el-form',{ref:\"addCompanyForm\",staticClass:\"add-company-dlg\",attrs:{\"model\":_vm.addCompanyForm,\"rules\":_vm.addCompanyRules,\"hide-required-asterisk\":\"\",\"label-width\":\"80px\",\"autocomplete\":\"on\",\"size\":\"mini\"}},[(_vm.addCompanyType === 1)?_c('el-form-item',{attrs:{\"label\":\"原名称\"}},[_c('el-input',{attrs:{\"disabled\":true,\"placeholder\":\"原名称\"},model:{value:(_vm.addCompanyForm.oldName),callback:function ($$v) {_vm.$set(_vm.addCompanyForm, \"oldName\", $$v)},expression:\"addCompanyForm.oldName\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"公司名称\"},model:{value:(_vm.addCompanyForm.name),callback:function ($$v) {_vm.$set(_vm.addCompanyForm, \"name\", $$v)},expression:\"addCompanyForm.name\"}})],1),_vm._v(\" \"),(_vm.addCompanyType === 0)?_c('el-form-item',{attrs:{\"label\":\"负责人\",\"prop\":\"principal\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"负责人姓名\"},model:{value:(_vm.addCompanyForm.principal),callback:function ($$v) {_vm.$set(_vm.addCompanyForm, \"principal\", $$v)},expression:\"addCompanyForm.principal\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.addCompanyType === 0)?_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"负责人手机号\"},model:{value:(_vm.addCompanyForm.mobile),callback:function ($$v) {_vm.$set(_vm.addCompanyForm, \"mobile\", $$v)},expression:\"addCompanyForm.mobile\"}})],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"el-button-default\",attrs:{\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.cancelCompany}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submitCompany}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.showDepartment,\"title\":_vm.addDepartmentType === 0 ? '新增部门':'修改部门',\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.showDepartment=$event}}},[(_vm.showDepartment)?_c('el-form',{ref:\"addDepartmentForm\",staticClass:\"add-company-dlg\",attrs:{\"model\":_vm.addDepartmentForm,\"rules\":_vm.addDepartmentRules,\"hide-required-asterisk\":\"\",\"label-width\":\"80px\",\"autocomplete\":\"on\",\"size\":\"mini\"}},[(_vm.addDepartmentType === 1)?_c('el-form-item',{attrs:{\"label\":\"原名称\"}},[_c('el-input',{attrs:{\"disabled\":true,\"placeholder\":\"原名称\"},model:{value:(_vm.addDepartmentForm.oldName),callback:function ($$v) {_vm.$set(_vm.addDepartmentForm, \"oldName\", $$v)},expression:\"addDepartmentForm.oldName\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"部门名称\"},model:{value:(_vm.addDepartmentForm.name),callback:function ($$v) {_vm.$set(_vm.addDepartmentForm, \"name\", $$v)},expression:\"addDepartmentForm.name\"}})],1)],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"el-button-default\",attrs:{\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.cancelDepartment}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submitDepartment}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.showUser,\"title\":_vm.addUserType === 0 ? '新增用户':'修改用户',\"width\":\"700px\"},on:{\"update:visible\":function($event){_vm.showUser=$event}}},[(_vm.showUser)?_c('account',{attrs:{\"user-info\":_vm.addUserInfo},on:{\"canceluser\":function($event){_vm.showUser=false},\"submituser\":_vm.submitUser}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.showUserRole,\"title\":\"修改用户角色\",\"width\":\"300px\"},on:{\"update:visible\":function($event){_vm.showUserRole=$event}}},[(_vm.showUserRole)?_c('el-form',{staticClass:\"add-company-dlg\",attrs:{\"label-width\":\"80px\",\"hide-required-asterisk\":\"\",\"autocomplete\":\"on\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\"}},[_c('el-dropdown',{attrs:{\"type\":\"primary\",\"placement\":\"bottom-start\",\"plain\":\"\"},on:{\"command\":function($event){return _vm.handleDD.apply(void 0, arguments)}}},[_c('el-button',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n            \"+_vm._s(_vm.userRoleForm.showName)),_c('i',{staticClass:\"el-icon-caret-bottom el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.roleData),function(role){return _c('el-dropdown-item',{key:role.id,attrs:{\"command\":role}},[_vm._v(_vm._s(role.showName))])}),1)],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"el-button-default\",attrs:{\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.cancelUserRole}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submitUserRole}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.showRole,\"title\":_vm.addRoleType === 0 ? '新增角色':'修改角色',\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.showRole=$event}}},[(_vm.showRole)?_c('role',{ref:\"roleDlg\",attrs:{\"add-type\":_vm.addRoleType,\"role-id\":_vm.addRoleId,\"company-id\":_vm.selectCompanyId,\"role-name\":_vm.addRoleName},on:{\"cancelrole\":function($event){_vm.showRole=false},\"submitrole\":_vm.submitRole}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"auth-dlg\",attrs:{\"visible\":_vm.showAuth,\"title\":\"子公司授权\",\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.showAuth=$event}}},[(_vm.showAuth)?_c('div',{staticClass:\"auth-wapper\"},[_c('tree-transfer',{ref:\"treeTransfer\",attrs:{\"select-company-id\":_vm.selectCompanyId,\"btn-status\":1},on:{\"authend\":_vm.authend}}),_vm._v(\" \"),_c('el-button',{staticClass:\"auth-edit-btn el-button-default\",attrs:{\"round\":\"\",\"size\":\"mini\",\"loading\":_vm.authLoading},on:{\"click\":_vm.authSave}},[_vm._v(\"保存\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}