{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\acquisition\\components\\DataWapper.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\acquisition\\components\\DataWapper.vue","mtime":1576811950410},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'DataWapper',\n  props: {\n    wapperType: { // 页面类型1添加 0修改\n      type: Number,\n      default: 0\n    },\n    childSysList: { // 子系统列表\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    childSysText: { // 子系统名称\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      collectionForm: {\n        id: 0,\n        name: '',\n        company: '',\n        childSys: this.childSysText,\n        childId: 1,\n        server: '',\n        username: '',\n        password: '',\n        protocol: 'HTTP',\n        coding: '',\n        remark: ''\n      },\n      collectionRules: {\n        name: [{ required: true, message: '请输入数据采集名称', trigger: 'blur' }],\n        company: [{ required: true, message: '请输入厂商名称', trigger: 'blur' }],\n        server: [{ required: true, message: '请输入服务器名称或IP', trigger: 'blur' }],\n        username: [{ required: true, message: '请输入登录用户名', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n        coding: [{ required: true, message: '请输入内容编码', trigger: 'blur' }]\n      },\n      protocolList: [ // 协议类型\n        { val: 1, name: 'HTTP' },\n        { val: 2, name: 'HTTPS' },\n        { val: 3, name: '串口' },\n        { val: 4, name: 'UDP' }\n      ],\n      btnSave: false,\n      loading: false\n    }\n  },\n  methods: {\n    handleChildDD(item) { // 子系统下拉选择\n      this.collectionForm.childSys = item.name\n      this.collectionForm.childId = item.id\n    },\n    handleDD(item) { // 协议下拉选择\n      this.collectionForm.protocol = item.name\n    },\n    updateStatus: function() {\n      if (this.btnSave) {\n        return false\n      } else if (this.collectionForm.id <= 0) {\n        return false\n      } else {\n        return true\n      }\n    },\n    handleCancel: function() {\n      this.$emit('cancel')\n    },\n    handleSave: function() { // 保存\n      this.$refs.collectionForm.validate((valid) => {\n        if (valid) {\n          this.loading = true\n          if (this.wapperType === 1) {\n            this.$emit('add', this.collectionForm)\n          } else {\n            this.$emit('update', this.collectionForm)\n          }\n        }\n      })\n    }\n  }\n}\n",null]}