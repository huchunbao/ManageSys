{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\fabus.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\fabus.vue","mtime":1576638136778},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'Fabus',\n  components: {},\n  data() {\n    return {\n      // div的大小位置\n      left: 0,\n      top: 0,\n      width: 100,\n      height: 100,\n      dataname: '',\n      taid: '',\n      // 判断有没有点击\n      whtf: false,\n      lttf: false,\n      // 记录鼠标位置\n      shux: false,\n      shuy: false,\n      shux2: false,\n      shuy2: false,\n      data: [],\n      ddata: null\n    }\n  },\n  computed: {},\n  watch: {\n    left() {\n      this.divup()\n    },\n    top() {\n      this.divup()\n    },\n    width() {\n      this.divup()\n    },\n    height() {\n      this.divup()\n    }\n  },\n  mounted() {\n    this.divup()\n  },\n  methods: {\n    // 鼠标点下去记录鼠标当前位置\n    down(data) {\n      this.whtf = true\n      this.shux = data.clientX - this.left\n      this.shuy = data.clientY - this.top\n    },\n    down2(data) {\n      this.lttf = true\n      this.shux2 = data.clientX - this.width\n      this.shuy2 = data.clientY - this.height\n    },\n    // 鼠标松开清空位置信息\n    up() {\n      this.whtf = false\n      this.shux = false\n      this.shuy = false\n      this.lttf = false\n      this.shux2 = false\n      this.shuy2 = false\n      this.data[this.ddata].pointw = this.width\n      this.data[this.ddata].pointh = this.height\n      this.data[this.ddata].pointx = this.left\n      this.data[this.ddata].pointy = this.top\n    },\n    // 移动鼠标改变位置\n    move(data) {\n      if (this.whtf && !this.lttf) {\n        this.left = data.clientX - this.shux\n        this.top = data.clientY - this.shuy\n      }\n    },\n    move2(data) {\n      if (this.lttf) {\n        this.width = data.clientX - this.shux2\n        this.height = data.clientY - this.shuy2\n      }\n    },\n    // 刷新宽高和位置\n    divup() {\n      this.$refs.zhu.style.height = this.height + 'px'\n      this.$refs.zhu.style.width = this.width + 'px'\n      this.$refs.zhu.style.marginTop = this.top + 'px'\n      this.$refs.zhu.style.marginLeft = this.left + 'px'\n    },\n    // 添加文件\n    add(data) {\n      var dta = data.target.files[0]\n      dta.pointw = 100\n      dta.pointy = 0\n      dta.pointx = 0\n      dta.pointh = 100\n      this.data.push(dta)\n      console.log(this.data)\n      this.whxy(\n        dta.pointw,\n        dta.pointh,\n        dta.pointx,\n        dta.pointy,\n        dta.name,\n        this.data.length - 1\n      )\n    },\n    shan() {\n      this.data.splice(this.ddata, 1)\n      this.width = ''\n      this.height = ''\n      this.left = ''\n      this.top = ''\n      this.dataname = ''\n      this.ddata = ''\n    },\n    dataup() {\n      if (this.ddata > 0) {\n        this.data.splice(this.ddata - 1, 0, this.data[this.ddata])\n        this.data.splice(this.ddata + 1, 1)\n        this.ddata = this.ddata - 1\n      } else {\n        alert(this.ddata)\n      }\n    },\n    datadown() {\n      if (this.ddata < this.data.length) {\n        this.data.splice(this.ddata + 2, 0, this.data[this.ddata])\n        this.data.splice(this.ddata, 1)\n        this.ddata = this.ddata + 1\n      } else {\n        alert(this.ddata)\n      }\n    },\n    getdata(i) {},\n    // 改变div\n    whxy(w, h, x, y, n, d) {\n      this.width = w\n      this.height = h\n      this.left = x\n      this.top = y\n      this.dataname = n\n      this.ddata = d\n    },\n    // 传数据\n    chuan() {\n      console.log(this.data)\n      if (this.data.length !== 0) {\n        this.$emit('fabufa', this.data)\n      } else {\n        alert('请添加素材')\n      }\n    },\n    tiao(data) {\n      this.$router.push({ path: '/' + data })\n    }\n  }\n}\n",null]}