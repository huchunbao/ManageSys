{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\baogao\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\baogao\\index.vue","mtime":1576638136911},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport echarts from 'echarts'\n// import { get } from '@/api/axios'\nexport default {\n  name: 'Baogao',\n  data() {\n    const colorlist = this.$store.state.settings.chartColors\n    return {\n      data1: [\n        {\n          name: '广东省',\n          data: 50.5\n        },\n        {\n          name: '山西省',\n          data: 7.5\n        },\n        {\n          name: '浙江省',\n          data: 5.0\n        },\n        {\n          name: '吉林省',\n          data: 4.5\n        },\n        {\n          name: '江苏省',\n          data: 2.7\n        },\n        {\n          name: '海南省',\n          data: 2.4\n        },\n        {\n          name: '广西省',\n          data: 2.2\n        },\n        {\n          name: '福建省',\n          data: 2.0\n        },\n        {\n          name: '湖南省',\n          data: 1.9\n        },\n        {\n          name: '湖北省',\n          data: 1.6\n        }\n      ],\n      data2: [\n        {\n          name: '珠海市',\n          data: 12.1\n        },\n        {\n          name: '广州市',\n          data: 11.0\n        },\n        {\n          name: '北京市',\n          data: 7.5\n        },\n        {\n          name: '佛山市',\n          data: 6.2\n        },\n        {\n          name: '深圳市',\n          data: 5.5\n        },\n        {\n          name: '上海市',\n          data: 5.0\n        },\n        {\n          name: '香港',\n          data: 4.5\n        },\n        {\n          name: '中山市',\n          data: 4.2\n        },\n        {\n          name: '东莞市',\n          data: 3.9\n        },\n        {\n          name: '江门市',\n          data: 1.9\n        }\n      ],\n      data3: [\n        {\n          name: '辽宁省',\n          data: 39.2\n        },\n        {\n          name: '四川省',\n          data: 38.5\n        },\n        {\n          name: '台湾省',\n          data: 35.0\n        },\n        {\n          name: '河南省',\n          data: 32.6\n        },\n        {\n          name: '广西省',\n          data: 31.5\n        },\n        {\n          name: '云南省',\n          data: 30.5\n        },\n        {\n          name: '河北省',\n          data: 29.7\n        },\n        {\n          name: '青海省',\n          data: 29.4\n        },\n        {\n          name: '贵州省',\n          data: 28.7\n        },\n        {\n          name: '山东省',\n          data: 27.5\n        }\n      ],\n      data4: [\n        {\n          name: '泰国',\n          data: 3.7\n        },\n        {\n          name: '马来西亚',\n          data: 3.5\n        },\n        {\n          name: '菲律宾',\n          data: 3.0\n        },\n        {\n          name: '澳大利亚',\n          data: 3.0\n        },\n        {\n          name: '匈牙利',\n          data: 2.2\n        },\n        {\n          name: '新加坡',\n          data: 2.1\n        },\n        {\n          name: '美国',\n          data: 1.4\n        },\n        {\n          name: '老挝',\n          data: 0.9\n        },\n        {\n          name: '日本',\n          data: 0.8\n        },\n        {\n          name: '韩国',\n          data: 0.7\n        }\n      ],\n      option1: {\n        color: colorlist,\n        grid: {\n          left: '6%',\n          right: '30%',\n          top: '10%',\n          bottom: '20%'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross'\n          },\n          formatter: function(a) {\n            var data1 = a[0].axisValue + '<br>'\n            for (var i = 0; i < a.length; i++) {\n              data1 += a[i].marker\n              data1 += a[i].seriesName + ':'\n              data1 += a[i].data + '万人<br>'\n            }\n            return data1\n          }\n        },\n        // toolbox: {\n        //   feature: {\n        //     dataView: { show: true, readOnly: false },\n        //     magicType: { show: true, type: ['line', 'bar'] },\n        //     restore: { show: true },\n        //     saveAsImage: { show: true }\n        //   }\n        // },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '10%',\n          data: ['观音沟生态公园', '火山沟山地公园', '大明寺禅茶公园', '重庆路运动公园', '山林氧吧公园', '田园绿廊公园', '滨河湿地公园']\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: ['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019'],\n            axisPointer: {\n              type: 'shadow'\n            },\n            name: '年份（年）'\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            axisLabel: {\n              formatter: '{value}'\n            },\n            name: '人数（万）'\n          }\n        ],\n        series: [\n          {\n            name: '观音沟生态公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [2.0, 4.9, 4.9, 7.0, 23.2, 25.6, 32.6, 20.0, 6.4, 3.3],\n            itemStyle: {\n              color: '#89A2FF'\n            }\n          },\n          {\n            name: '火山沟山地公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [2.6, 28.7, 70.7, 175.6, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],\n            itemStyle: {\n              color: '#A2BCFF'\n            }\n          },\n          {\n            name: '大明寺禅茶公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [2.0, 2.2, 10.2, 20.3, 23.4, 23.0, 23.0, 16.5, 12.0, 6.2],\n            itemStyle: {\n              color: '#C5D6FF'\n            }\n          },\n          {\n            name: '重庆路运动公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5],\n            itemStyle: {\n              color: '#E4E5FF'\n            }\n          },\n          {\n            name: '山林氧吧公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 16.5, 12.0, 6.2],\n            itemStyle: {\n              color: '#FF9F9C'\n            }\n          },\n          {\n            name: '田园绿廊公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [2.0, 2.2, 3.3, 4.5, 6.3, 6.3, 10.2, 20.3, 12.0, 6.2],\n            itemStyle: {\n              color: '#FFDC79'\n            }\n          },\n          {\n            name: '滨河湿地公园',\n            type: 'bar',\n            stack: '总金额',\n            data: [2.0, 2.2, 3.3, 4.5, 4.5, 23.4, 23.0, 16.5, 12.0, 6.2],\n            itemStyle: {\n              color: '#D4BDF6'\n            }\n          }\n        ]\n      },\n      option2: {\n        color: colorlist,\n        title: {\n          text: '访问频次分布',\n          x: '32%',\n          y: '80%',\n          textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}</br>{b}:{c}人({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '10%',\n          data: ['1次', '2次', '3次', '4-6次', '大于等于7次']\n        },\n        series: [\n          {\n            name: '访问频次分布',\n            type: 'pie',\n            radius: ['30%', '50%'],\n            center: ['38%', '50%'],\n            data: [\n              { value: 1548, name: '1次', itemStyle: { color: '#89a2ff' }},\n              { value: 310, name: '2次', itemStyle: { color: '#a2bcff' }},\n              { value: 234, name: '3次', itemStyle: { color: '#c5d6ff' }},\n              { value: 135, name: '4-6次', itemStyle: { color: '#FF9F9C' }},\n              { value: 335, name: '大于等于7次', itemStyle: { color: '#FFDC79' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      option3: {\n        grid: {\n          left: '15%',\n          right: '1%',\n          top: '10%',\n          bottom: '20%'\n        },\n        tooltip: {\n          formatter: '访问频次分布<br>{b}客流量:{c}人'\n        },\n        xAxis: {\n          type: 'category',\n          data: ['0-3个小时', '3-6个小时', '6-9个小时', '9个小时以上'],\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          }\n        },\n        yAxis: {\n          show: false,\n          type: 'value',\n          axisLabel: { formatter: '{value} 人' }\n        },\n        series: [\n          {\n            data: [120, 200, 150, 80],\n            type: 'bar',\n            color: '#A2BCFF',\n            itemStyle: {\n              normal: {\n                label: {\n                  show: true, // 开启显示\n                  position: 'top', // 在上方显示\n                  textStyle: {\n                    // 数值样式\n                    color: '#A2BCFF',\n                    fontSize: 10\n                  }\n                }\n              }\n            }\n          }\n        ]\n      },\n      option4: {\n        title: {\n          text: '访问日期分布',\n          x: '32%',\n          y: '80%',\n          textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}</br>{b}:{c}人({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '10%',\n          data: ['工作日', '节假日', '周末']\n        },\n        series: [\n          {\n            name: '客流量',\n            type: 'pie',\n            radius: ['30%', '50%'],\n            center: ['38%', '50%'],\n            data: [\n              { value: 155423, name: '工作日', itemStyle: { color: '#89a2ff' }},\n              { value: 154587, name: '节假日', itemStyle: { color: '#FF9F9C' }},\n              { value: 156425, name: '周末', itemStyle: { color: '#FFDC79' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      option5: {\n        grid: {\n          left: '13%',\n          right: '1%',\n          top: '5%',\n          bottom: '20%'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross'\n          },\n          formatter: '访问时刻分布<br>{b}客流量:{c}人'\n        },\n        xAxis: {\n          type: 'category',\n          data: [\n            '0:00',\n            '2:00',\n            '4:00',\n            '6:00',\n            '8:00',\n            '10:00',\n            '12:00',\n            '14:00',\n            '16:00',\n            '18:00',\n            '20:00',\n            '22:00'\n          ],\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          }\n        },\n        yAxis: {\n          type: 'value',\n          show: false,\n          axisLabel: { formatter: '{value} 人' }\n        },\n        series: [\n          {\n            data: [\n              0,\n              23000,\n              24000,\n              35000,\n              23000,\n              21354,\n              35000,\n              52135,\n              24000,\n              35000,\n              22000,\n              13000\n            ],\n            type: 'line',\n            color: '#3F6AFF',\n            smooth: 'smoothMonotone',\n            areaStyle: {\n              color: {\n                type: 'linear',\n                x: 0,\n                y: 0,\n                x2: 0,\n                y2: 1,\n                colorStops: [{\n                  offset: 0, color: '#6578FF' // 0% 处的颜色\n                }, {\n                  offset: 0.9, color: '#fff' // 100% 处的颜色\n                }],\n                global: false // 缺省为 false\n              }\n            }\n          }\n        ]\n      }\n    }\n  },\n  computed: {\n  },\n  watch: {\n  },\n  mounted() {\n    this.getData(this.$store.state.user.companyId)\n    this.ech1()\n  },\n  methods: {\n    getData(id) {\n      echarts.init(document.getElementById('ech1')).setOption(this.option1)\n      echarts.init(document.getElementById('ech2')).setOption(this.option2)\n      /* var that = this\n      get('/data-center-statistic/tourist-flow/' + id, null).then((response) => { // 年度景点比例\n        if (response.status === 0) {\n          that.option1.legend.data = response.data.name\n          that.option1.xAxis[0].data = Object.keys(response.data.data)\n          var value = Object.values(response.data.data)\n          var bCount = response.data.name.length\n          var sData = []\n          for (var j = 0; j < bCount; j++) {\n            sData[j] = []\n            for (var n = 0; n < value.length; n++) {\n              sData[j][n] = (value[n][j] / 10000).toFixed(2)\n            }\n          }\n\n          for (var i = 0; i < response.data.name.length; i++) {\n            that.option1.series.push({\n              name: response.data.name[i],\n              type: 'bar',\n              stack: '总金额',\n              data: sData[i]\n            })\n          }\n          echarts.init(document.getElementById('ech1')).setOption(this.option1)\n        }\n      })\n\n      get('/data-center-statistic/visit-frequency/' + id, null).then((response) => { // 访问频次\n        console.log(response)\n        if (response.status === 0 && response.data.length > 0) {\n          for (var fre = 0; fre < response.data.length; fre++) {\n            if (response.data[fre].times === 1) {\n              that.option2.series[0].data[0].value += response.data[fre].cnt\n            } else if (response.data[fre].times === 2) {\n              that.option2.series[0].data[1].value += response.data[fre].cnt\n            } else if (response.data[fre].times === 3) {\n              that.option2.series[0].data[2].value += response.data[fre].cnt\n            } else if (response.data[fre].times >= 4 && response.data[fre].times < 7) {\n              that.option2.series[0].data[3].value += response.data[fre].cnt\n            } else if (response.data[fre].times >= 7) {\n              that.option2.series[0].data[4].value += response.data[fre].cnt\n            }\n          }\n          echarts.init(document.getElementById('ech2')).setOption(this.option2)\n        }\n      })\n\n      get('/data-center-statistic/visit-duration/' + id, null).then((response) => { // 停留时长\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      })\n\n      get('/data-center-statistic/visit-day/' + id, null).then((response) => { // 访问时间\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      })\n\n      get('/data-center-statistic/visit-hour/' + id, null).then((response) => { // 访问时刻\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      })\n\n      get('/data-center-statistic/source-province/' + id, null).then((response) => { // 游客来源省份\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      })\n\n      get('/data-center-statistic/source-city/' + id, null).then((response) => { // 游客来源城市\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      })\n\n      get('/data-center-statistic/target-province/' + id, null).then((response) => { // 游客出行省份\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      })\n\n      get('/data-center-statistic/target-nation/' + id, null).then((response) => { // 游客出行国家\n        console.log(response)\n        if (response.status === 0) {\n\n        }\n      }) */\n    },\n    ech1() {\n      const echarts3 = echarts.init(document.getElementById('ech3'))\n      const echarts4 = echarts.init(document.getElementById('ech4'))\n      const echarts5 = echarts.init(document.getElementById('ech5'))\n      echarts3.setOption(this.option3)\n      echarts4.setOption(this.option4)\n      echarts5.setOption(this.option5)\n    }\n  }\n}\n",null]}