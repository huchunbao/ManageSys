{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\components\\EchartRing.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\components\\EchartRing.vue","mtime":1576638136689},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n\nimport echarts from 'echarts'\n// import resize from './mixins/resize'\nexport default {\n  // mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    getdata: {\n      type: Object,\n      default: () => {\n        return {\n          id: 'echar',\n          series: [],\n          legend: [],\n          height: '',\n          width: ''\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      chart: null,\n      colorlist: this.$store.state.settings.chartColors // 扇形区域以及列表颜色\n    }\n  },\n  watch: {\n    getdata: {\n      // immediate: true,\n      handler(val) {\n        this.$nextTick(() => {\n          this.EchartsRing(val)\n        })\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.chart = echarts.init(document.getElementById(this.getdata.id))\n  },\n  beforeDestroy() {\n    if (!this.chart) {\n      return\n    }\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    EchartsRing(data) {\n      // console.log(data)\n      var series = [\n        { 'name': '在线', 'value': 333 },\n        { 'name': '离线', 'value': 32 },\n        { 'name': '未知', 'value': 444 }\n      ]\n      var legend = ['在线', '离线', '未知']\n      var that = this\n      // console.log(series)\n      // console.log(legend)\n      // console.log(id)\n      var option = {\n        /* eslint-disable */\n        tooltip: {\n        trigger: 'item',\n        formatter:\n          function(params) {\n            var result = ''\n            result += params.seriesName + '</br>' + params.marker + '' + params.data.name + ' : ' + params.data.value + '(' + params.percent + '%' + ')' + '</br>'\n            return result\n          }\n        },\n        legend: {\n          orient: 'horizontal',\n          icon: 'rect',\n          bottom: 0,\n          data: legend,\n          textStyle: { // 图例文字的样式\n            color: '#fff'\n          }\n        },\n        color: this.$store.state.settings.chartColors,\n        series: [{\n          name: '消费来源',\n          type: 'pie',\n          radius: ['38%', '68%'],\n          center: ['50%', '45%'],\n          avoidLabelOverlap: false,\n          hoverAnimation: true,\n          labelLine: { // 设置延长线的长度\n            normal: {\n              show: true,\n              length: 15 // 设置延长线的长度// length2: 10,//设置第二段延长线的长度\n            }\n          },\n          label: {\n            normal: {\n              show: true,\n              formatter:\n                function(params) {\n                  var result = '' // result =params.seriesName+''+\"</br>\"\n                  result += params.data.value + '(' + params.percent + '%' + ')'\n                  return result\n                }\n            },\n            emphasis: {\n              show: true,\n              textStyle: {\n                // fontSize: '16',\n                // fontWeight: 'bold'\n              }\n            }\n          },\n          data: series\n        }]\n      }\n      that.chart.setOption(option)\n      window.addEventListener('resize', function() {\n        that.chart.resize()\n      })\n    }\n  }\n}\n",null]}