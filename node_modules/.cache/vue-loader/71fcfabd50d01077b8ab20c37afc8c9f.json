{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\chabo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\chabo.vue","mtime":1576638136800},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport daoy from '../daoyou.vue'\nexport default {\n  name: 'Chabo',\n  components: {\n    daoy\n  },\n  data() {\n    return {\n      pdata: [],\n      ptab: 0,\n      data: [],\n      // 选中节目\n      jtab: false,\n      all: 0, // 总页数\n      cur: 1// 当前页码\n    }\n  },\n  computed: {\n    // 实时更新展示的页码\n    indexs() {\n      var left = 1\n      var right = this.all\n      var ar = []\n      if (this.all >= 5) {\n        if (this.cur > 3 && this.cur < this.all - 2) {\n          left = this.cur - 2\n          right = this.cur + 2\n        } else {\n          if (this.cur <= 3) {\n            left = 1\n            right = 5\n          } else {\n            right = this.all\n            left = this.all - 4\n          }\n        }\n        while (left <= right) {\n          ar.push(left)\n          left++\n        }\n      } else {\n        left = 1\n        right = this.all\n        while (left <= right) {\n          ar.push(left)\n          left++\n        }\n      }\n      return ar\n    }\n  },\n  watch: {\n    // 当选择屏幕发生改变时触发\n    ptab() {\n      this.huoj()\n    },\n    // 页码发生改变时触发\n    cur(oldValue, newValue) {\n      this.huoj()\n    }\n  },\n  mounted() {\n    this.huop()\n  },\n  methods: {\n    // 获取屏幕\n    huop() {\n      this.$axios({\n        url: 'http://192.168.1.121:8081/LedScreen/getEquipmentList',\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(response => {\n        console.log(response, 13212)\n        this.pdata = response.data.data\n      })\n    },\n    huoj() { // 请求节目\n      var cur = this.cur - 1\n      console.log(12321312)\n      this.$axios({\n        url: 'http://192.168.1.121:8081/RadioProgramme/getRadioProgrammeByScreenId?id=' + this.ptab + '&pageNumber=' + cur + '&pageSize=10',\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(response => {\n        // console.log(response,this.resolvingDate('2019-07-17T08:21:00.000+0000'))\n        this.data = response.data.data.content\n        this.all = Math.ceil(response.data.data.totalElements / 10)\n      })\n    },\n    btnClick(data) { // 页码点击事件\n      if (data !== this.cur) {\n        this.cur = data\n      }\n    },\n    // 删除\n    sel() {\n      // /RadioProgramme/delRadioProgrammeByScreenId\n      this.$axios({\n        url: 'http://192.168.1.121:8081/RadioProgramme/delRadioProgrammeByScreenId?id=' + this.jtab,\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(response => {\n        this.huoj()\n      })\n    },\n    tiao(i) {\n      this.$router.push({\n        path: i\n      })\n    }\n\n  }\n}\n",null]}