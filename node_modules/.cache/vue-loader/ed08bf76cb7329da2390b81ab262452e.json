{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\datacenter\\components\\linemore.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\datacenter\\components\\linemore.vue","mtime":1576638136848},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n\r\nimport echarts from 'echarts'\r\n// import resize from './mixins/resize'\r\nexport default {\r\n  // mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: 'chart'\r\n    },\r\n    getdata: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          id: 'echar',\r\n          height: '100%',\r\n          width: '100%',\r\n          data_color: [],\r\n          lengend: [],\r\n          datax: [],\r\n          series: []\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      colorlist: ['#89A2FF', '#A2BCFF', '#FF9F9C', '#FFDC79'] // 扇形区域以及列表颜色\r\n    }\r\n  },\r\n  watch: {\r\n    getdata: {\r\n      immediate: true,\r\n      handler(val) {\r\n        this.$nextTick(() => {\r\n          this.moreline(val)\r\n        })\r\n      }\r\n      // deep: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.chart = echarts.init(document.getElementById(this.getdata.id))\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return\r\n    }\r\n    this.chart.dispose()\r\n    this.chart = null\r\n  },\r\n  methods: {\r\n    moreline(data) {\r\n      var that = this\r\n      var data_color = data.data_color // ['#89A2FF', '#A2BCFF', '#FF9F9C', '#FFDC79'] // 扇形区域以及列表颜色\r\n      var legend = data.legend // ['OTA', '官微', '旅行社', '预订部']\r\n      var datax = data.datax // ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']\r\n      var series = data.series\r\n      var name = '人数(万)'\r\n      var option = {\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'cross'\r\n          },\r\n          formatter:\r\n            function(params) {\r\n              var result = ''\r\n              result = params[0].name + '月各区域客流' + '</br>'\r\n              params.forEach(function(item) {\r\n                result += item.marker + '' + item.seriesName + ' : ' + item.value + '</br>'\r\n              })\r\n              return result\r\n            }\r\n        },\r\n        legend: {\r\n          icon: 'rect',\r\n          left: '20%',\r\n          top: 0,\r\n          data: legend,\r\n          textStyle: {\r\n            fontSize: 10, // 字体大小\r\n            color: '#fff' // 字体颜色\r\n          }\r\n        },\r\n        color: data_color,\r\n        grid: {\r\n          x: 60,\r\n          y: 30,\r\n          x2: 10,\r\n          y2: 25,\r\n          borderWidth: 1\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          // name: '日期(日)',\r\n          nameTextStyle: {\r\n            color: '#fff'\r\n          },\r\n          splitLine: {\r\n            show: false\r\n          },\r\n          // data: datax,\r\n          axisTick: { // 是否显示刻度\r\n            alignWithLabel: true,\r\n            show: false\r\n          },\r\n          axisLine: { // 轴线style\r\n            lineStyle: {\r\n              color: '#0E85C7'\r\n            }\r\n          },\r\n          axisLabel: { // 0E85C7\r\n            formatter: '{value}',\r\n            textStyle: {\r\n              color: '#fff'\r\n            }\r\n          },\r\n          data: datax\r\n        },\r\n        yAxis: {\r\n          name: name,\r\n          type: 'value',\r\n          nameTextStyle: {\r\n            color: '#fff'\r\n          },\r\n          splitLine: {\r\n            show: false\r\n          },\r\n          axisTick: {\r\n            show: false\r\n          },\r\n          axisLine: { // 轴线style\r\n            lineStyle: {\r\n              color: '#0E85C7'\r\n            }\r\n          },\r\n          axisLabel: {\r\n            formatter: '{value}',\r\n            textStyle: {\r\n              color: '#fff'\r\n            }\r\n          }\r\n        },\r\n        series: series\r\n      }\r\n      that.chart.setOption(option)\r\n      window.addEventListener('resize', function() {\r\n        that.chart.resize()\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}