{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\components\\ChartDoubleRing.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\components\\ChartDoubleRing.vue","mtime":1576638136653},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n\r\nimport echarts from 'echarts'\r\n// import resize from './mixins/resize'\r\nexport default {\r\n  // mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: 'chart'\r\n    },\r\n    getdata: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          id: 'echar',\r\n          series1: [],\r\n          series2: [],\r\n          legend: [],\r\n          height: '100%',\r\n          width: '100%'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chart: null\r\n    }\r\n  },\r\n  watch: {\r\n    getdata: {\r\n      // immediate: true,\r\n      handler(val) {\r\n        this.$nextTick(() => {\r\n          this.EchartsRing(val)\r\n        })\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.chart = echarts.init(document.getElementById(this.getdata.id))\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return\r\n    }\r\n    this.chart.dispose()\r\n    this.chart = null\r\n  },\r\n  methods: {\r\n    EchartsRing(data) {\r\n      var series1 = data.series1\r\n      var series2 = data.series2\r\n      var legend1 = data.legend1\r\n      var legend2 = data.legend2\r\n      var that = this\r\n      var option = {\r\n        /* eslint-disable */\r\n        tooltip: {\r\n        trigger: 'item',\r\n        formatter:\r\n          function(params) {\r\n            var result = ''\r\n            result += params.seriesName + '</br>' + params.marker + '' + params.data.name + ' : ' + params.data.value + '(' + params.percent + '%' + ')' + '</br>'\r\n            return result\r\n          }\r\n        },\r\n        legend: [\r\n          {\r\n            x: 'center',\r\n            icon: 'rect',\r\n            bottom: 20 ,\r\n            data: legend1,\r\n            textStyle: { // 图例文字的样式\r\n                color: '#fff'\r\n            }\r\n          },\r\n          {\r\n            icon: 'rect',\r\n            x: 'center',\r\n            bottom: 0,\r\n            data: legend2,\r\n            textStyle: { // 图例文字的样式\r\n              color: '#fff'\r\n            }\r\n          }\r\n        ],\r\n        color: ['#03E8FD', '#E1FEAF', '#E1FEAF', '#FB7702', '#F8CC34', '#B0F51B'],\r\n        series: [{\r\n          name: '总进水量占比',\r\n          type: 'pie',\r\n          radius: ['20%', '50%'],\r\n          center: ['25%', '45%'],\r\n          avoidLabelOverlap: false,\r\n          hoverAnimation: true,\r\n          labelLine: { // 设置延长线的长度\r\n            normal: {\r\n              show: true,\r\n              length: 5,// 设置延长线的长度// length2: 10,//设置第二段延长线的长度\r\n              length2: 10\r\n            }\r\n          },\r\n          label: {\r\n            normal: {\r\n              show: true,\r\n              formatter:\r\n                function(params) {\r\n                  var result = '' // result =params.seriesName+''+\"</br>\"\r\n                  result += params.percent + '%'\r\n                  // result += params.data.value + '(' + params.percent + '%' + ')'\r\n                  return result\r\n                }\r\n            },\r\n            emphasis: {\r\n              show: true,\r\n              textStyle: {\r\n                // fontSize: '16',\r\n                // fontWeight: 'bold'\r\n              }\r\n            }\r\n          },\r\n          data: series1\r\n        },\r\n        {\r\n          name: '总出水量占比',\r\n          type: 'pie',\r\n          radius: ['20%', '50%'],\r\n          center: ['75%', '45%'],\r\n          avoidLabelOverlap: false,\r\n          hoverAnimation: true,\r\n          labelLine: { // 设置延长线的长度\r\n            normal: {\r\n              show: true,\r\n              length: 5,// 设置延长线的长度// length2: 10,//设置第二段延长线的长度\r\n              length2: 10\r\n            }\r\n          },\r\n          label: {\r\n            normal: {\r\n              show: true,\r\n              formatter:\r\n                function(params) {\r\n                  var result = '' // result =params.seriesName+''+\"</br>\"\r\n                  // result += params.data.value + '(' + params.percent + '%' + ')'\r\n                  result += params.percent + '%'\r\n                  return result\r\n                }\r\n            },\r\n            emphasis: {\r\n              show: true,\r\n              textStyle: {\r\n                // fontSize: '16',\r\n                // fontWeight: 'bold'\r\n              }\r\n            }\r\n          },\r\n          data: series2\r\n        }]\r\n      }\r\n      that.chart.setOption(option)\r\n      window.addEventListener('resize', function() {\r\n        that.chart.resize()\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}