{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\devmanagement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\devmanagement\\index.vue","mtime":1576811950153},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { get, post } from '@/api/axios'\nimport echarts from 'echarts'\nexport default {\n  name: 'About',\n  data() {\n    return {\n      // 分页\n      pagesize: 1,\n      pageNumber: 10,\n      options2: [],\n      options: [\n        {\n          value: '选项1',\n          label: '全部'\n        },\n        {\n          value: '选项2',\n          label: '主动报警'\n        },\n        {\n          value: '选项3',\n          label: '触发报警'\n        },\n        {\n          value: '选项4',\n          label: '异常报警'\n        },\n        {\n          value: '选项5',\n          label: '断电报警'\n        },\n        {\n          value: '选项6',\n          label: '超速报警'\n        },\n        {\n          value: '选项7',\n          label: '越界报警'\n        },\n        {\n          value: '选项8',\n          label: '超时报警'\n        },\n        {\n          value: '选项9',\n          label: '求助报警'\n        }\n      ],\n      value5: [],\n      value11: [],\n      cities: [\n        {\n          value1: 'haikang',\n          label: '垃圾桶'\n        },\n        {\n          value1: 'dahua',\n          label: '密度摄像机'\n        },\n        {\n          value1: 'huawei',\n          label: '客流相机'\n        }\n      ],\n      value6: '',\n      value10: [],\n      arr: [],\n      zhdata: {},\n      xiu: {},\n      zh: false,\n      xgdata: [],\n      chedata: [],\n      xgtype: '',\n      xg: false,\n      //   修改\n      tb: false,\n      //   同步\n      quanck: false,\n      //    分页\n      all: 100 / 10, //      总页数\n      cur: 1,\n      mingc: '',\n      ip: '',\n      zuzhi: '',\n      // online:'',\n      type: '',\n      data: {},\n      orgname: '',\n      equipment_type: '',\n      firm: '',\n      multipleSelection: [],\n      option1: {\n        title: {\n          text: '',\n          x: 'left',\n          textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}<br/>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '0%',\n          data: ['在线率', '离线率', '故障率']\n        },\n        series: [\n          {\n            name: '设备状态统计',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            center: ['35%', '50%'],\n            data: [\n              { value: 4, name: '在线率', itemStyle: { color: '#89A2FF' }},\n              { value: 1, name: '故障率', itemStyle: { color: '#FF9F9c ' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      option2: {\n        color: [\n          '#89a2ff ',\n          '#a2bcff',\n          '#c5d6ff ',\n          '#e4e5ff ',\n          '#ff9f9c',\n          '#ffdc79',\n          '#fec379 ',\n          '#a0d9de',\n          '#d4bdf6'\n        ],\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}<br/>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '0%',\n          data: ['大华', '海康', '华康']\n        },\n        series: [\n          {\n            name: '设备厂商占比',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            center: ['35%', '50%'],\n            data: [\n              { value: 4, name: '兰州拉面', itemStyle: { color: '#89A2FF' }},\n              { value: 3, name: '海康', itemStyle: { color: '#A2BCFF' }},\n              { value: 1, name: '黄焖鸡米饭', itemStyle: { color: '#FF9F9c' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      option3: {\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}</br>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '0%',\n          data: ['监控', '网络', '广播', '报警', 'LED', '巡更']\n        },\n        series: [\n          {\n            name: '设备类型占比',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            center: ['35%', '50%'],\n            data: [\n              { value: 3, name: '监控', itemStyle: { color: '#89A2FF' }},\n              { value: 1, name: '网络', itemStyle: { color: '#A2BCFF' }},\n              { value: 0, name: '广播', itemStyle: { color: '#C5D6FF' }},\n              { value: 1, name: '报警', itemStyle: { color: '#ff9f9c' }},\n              { value: 1, name: 'LED', itemStyle: { color: '#E4E5FF' }},\n              { value: 0, name: '巡更', itemStyle: { color: '#FFDC79' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      yan: ['#89A2FF', '#A2BCFF', '#C5D6FF', '#ff9f9c', '#E4E5FF', '#FFDC79']\n    }\n  },\n  computed: {},\n  watch: {},\n  mounted() {\n    this.shua()\n    var that = this\n    get('/camara/selectMore', {}).then(response => {\n      // console.log(112)\n      this.options2 = response\n    })\n    get('/camara/selectCountFirm', {\n    }).then(res => {\n      // console.log(res)\n      this.option2.series[0].data = []\n      that.option2.legend.data = []\n      for (var i = 0; i < res.length; i++) {\n        that.option2.legend.data.push(res[i].firm)\n        that.option2.series[0].data.push(\n          {\n            value: res[i]['count(*)'],\n            name: res[i].firm,\n            itemStyle: res.itemStyle\n          }\n        )\n        this.shua()\n        // console.log(that.option2.series[0].data, res)\n      }\n      this.echaers2fund()\n    })\n  },\n  methods: {\n    xgfa1() {\n      if (!this.tiao) {\n        if (this.multipleSelection.length >= 1) {\n          this.xg = true\n        } else {\n          this.$message({\n            message: '请选中记录,再进行操作',\n            type: 'warning'\n          })\n        }\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach(row => {\n          this.$refs.multipleTable.toggleRowSelection(row)\n        })\n      } else {\n        this.$refs.multipleTable.clearSelection()\n      }\n    },\n    btnClick(data) {\n      this.cur = data\n      this.shua()\n    },\n    shua() {\n      var that = this\n      get('/camara/getpoint', {\n        pageNumber: this.cur - 1,\n        pageSize: 6\n      }).then(res => {\n        that.arr = res.data.content\n        this.all = Math.ceil(res.data.totalElements)\n        // console.log(this.all)\n        this.clickok()\n      })\n      get('/camara/selectCountOnline', {}).then(res => {\n        that.option1.series[0].data[0].value = res[0]['在线']\n        that.option1.series[0].data[1].value = res[0]['故障']\n        // console.log(res, that.option1)\n        this.echaers1fund()\n      })\n      get('/camara/selectMoreAnd', {}).then(response => {\n        // console.log(111)\n        this.options = response\n      })\n      get('/camara/selectCountEquType', {\n      }).then(res => {\n        // console.log(res)\n        this.option3.series[0].data = []\n        that.option3.legend.data = []\n        for (var i = 0; i < res.length; i++) {\n          that.option3.legend.data.push(res[i].equipment_type)\n          that.option3.series[0].data.push(\n            {\n              value: res[i]['count(*)'],\n              name: res[i].equipment_type,\n              itemStyle: res.itemStyle\n            }\n          )\n          // console.log(that.option3.series[0].data, res)\n        }\n        this.echaers3fund()\n      })\n    },\n    clickok() {\n      this.zh = false\n      this.zhdata = []\n      this.xg = false\n      this.tb = false\n      this.qxa = false\n      this.chedata = []\n      this.xgdata = []\n      this.xgtype = ''\n    },\n    echaers1fund() {\n      const echarts1 = echarts.init(document.getElementById('echarts1'))\n      echarts1.setOption(this.option1)\n    },\n    echaers3fund() {\n      const echarts3 = echarts.init(document.getElementById('echarts3'))\n      echarts3.setOption(this.option3)\n    },\n    echaers2fund() {\n      const echarts2 = echarts.init(document.getElementById('echarts2'))\n      echarts2.setOption(this.option2)\n    },\n    ychu(i) {\n      get('/camara/delpoint', {\n        pid: this.arr[i].pid\n      }).then(response => {\n        this.shua()\n        // console.log(1112341)\n      })\n    },\n    sou() {\n      var that = this\n      get('/camara/SelPointBy', {\n        pageNum: this.cur - 1,\n        pageSize: 8,\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(res => {\n        this.arr = res.content\n        this.all = res.numberOfElements\n        // console.log(this.arr, res, 123321)\n      })\n      get('/camara/selectCountEquType', {\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(res => {\n        // console.log(res)\n        this.option3.series[0].data = []\n        that.option3.legend.data = []\n        for (var i = 0; i < res.length; i++) {\n          that.option3.legend.data.push(res[i].equipment_type)\n          that.option3.series[0].data.push(\n            {\n              value: res[i]['count(*)'],\n              name: res[i].equipment_type,\n              itemStyle: res.itemStyle\n            }\n          )\n          // console.log(that.option3.series[0].data, res)\n        }\n        this.echaers3fund()\n      })\n      get('/camara/selectCountOnline', {\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(res => {\n        that.option1.series[0].data[0].value = res[0]['在线']\n        that.option1.series[0].data[1].value = res[0]['故障']\n        // console.log(res, that.option1)\n        this.echaers1fund()\n      })\n      get('/camara/selectCountFirm', {\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(res => {\n        // console.log(res)\n        this.option2.series[0].data = []\n        that.option2.legend.data = []\n        for (var i = 0; i < res.length; i++) {\n          that.option2.legend.data.push(res[i].firm)\n          that.option2.series[0].data.push(\n            {\n              value: res[i]['count(*)'],\n              name: res[i].firm,\n              itemStyle: res.itemStyle\n            }\n          )\n          // console.log(that.option2.series[0].data, res)\n        }\n        this.echaers2fund()\n      })\n    },\n    shan() {\n      const that = this\n      var pids = []\n      for (var i = 0; i < that.multipleSelection.length; i++) {\n        if (i === 0) {\n          pids += that.multipleSelection[i].pid\n        } else {\n          pids += ',' + that.multipleSelection[i].pid\n        }\n      }\n      get('/camara/delAllpointByPids?pids=' + pids).then(res => {\n        this.shua()\n      })\n    },\n    xgai() {\n      post('/camara/updpoint', {\n        pid: this.zhdata.pid,\n        equipmentType: this.zhdata.equipmentType,\n        remark: this.zhdata.remark\n      }).then(response => {\n        this.arr = response\n        var data = response.data.data\n        for (var i = 0; i < this.arr.length; i++) {\n          if (this.arr[i].pid === data.pid) {\n            this.arr[i] = data\n          }\n        }\n        this.shua()\n        this.clickok()\n      })\n    },\n    xgfa() {\n      var data = []\n      for (var y = 0; y < this.multipleSelection.length; y++) {\n        data.push({ pid: this.multipleSelection[y].pid, equipmentType: this.xgtype })\n      }\n      post('/camara/updapoints', data).then(response => {\n        this.arr = response\n        this.shua()\n        this.clickok()\n        // console.log(11)\n      })\n    },\n    zhfa(i) {\n      // console.log(i)\n      this.zh = true\n      this.zhdata = this.arr[i]\n    },\n    chefa(i) {\n      var pid = this.arr[i].pid\n      if (!this.chedata[i]) {\n        this.xgdata.push(pid)\n      } else {\n        this.xgdata.remove(pid)\n        this.xgdata.forEach(function(item, index, arr) {\n          if (item === pid) {\n            arr.splice(index, 1)\n          }\n        })\n      }\n    },\n    tong() {\n      get('/camara/getHikvisionOrg?nodeIndexCode=001007', {}).then(response => {\n        this.shua()\n      })\n    }\n  }\n}\n",null]}