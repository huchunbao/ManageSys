{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\more.vue?vue&type=script&scoped=true&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\more.vue","mtime":1576638136807},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport daoy from './daoyou.vue'\nexport default {\n  components: {\n    daoy\n  },\n  data() {\n    return {\n      map: null,\n      ce: 'jing1',\n      marker: null,\n      dh: false,\n      date: '',\n      data: {\n        date: null\n      },\n      data1: {\n        date: null\n      },\n      data2: {\n        username: 'admin',\n        password: '111111'\n      },\n      // 温湿度\n      wenshi: {\n        wen: 0,\n        shi: 0\n      },\n\n      // 人群\n      turnover: null,\n      // 人群数据\n      niandata: {\n        color: ['#fd04de', '#03e8fd'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#e2027e'\n        },\n        legend: {\n          orient: 'vertical',\n          x: 'left',\n          textStyle: {\n            color: '#e2027e'\n          }\n        },\n        toolbox: {\n          show: true,\n          feature: {\n            magicType: {\n              option: {\n                funnel: {\n                  x: '25%',\n                  width: '50%',\n                  funnelAlign: 'center',\n                  max: 1548\n                }\n              }\n            }\n          }\n        },\n        calculable: true,\n        series: [\n          {\n            //   name:'访问来源',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            itemStyle: {\n              emphasis: {\n                label: {\n                  show: true,\n                  position: 'center',\n                  textStyle: {\n                    fontSize: '20',\n                    fontWeight: 'bold'\n                  }\n                }\n              }\n            },\n            data: [\n              { value: 38.32, name: '女性' },\n              { value: 61.68, name: '男性' }\n            ]\n          }\n        ]\n      },\n      // 能耗\n      hao: null,\n      // 能耗数据\n      haodata: {\n        color: ['#16c7fb'],\n\n        tooltip: {\n          trigger: 'axis'\n        },\n        textStyle: {\n          color: '#fff'\n        },\n        legend: {\n          data: [],\n          textStyle: {\n            color: '#feffff'\n          }\n        },\n        toolbox: {\n          show: true\n        },\n\n        calculable: true,\n        xAxis: [\n          {\n            type: 'value',\n            axisLine: {\n              show: true,\n              lineStyle: {\n                color: '#1589c4'\n              }\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'category',\n            data: [\n              '设备1',\n              '设备2',\n              '设备3',\n              '设备4',\n              '设备5',\n              '设备6',\n              '设备7'\n            ],\n            lineStyle: {\n              color: '#fff'\n            }\n          }\n        ],\n        series: [\n          {\n            type: 'bar',\n            stack: '总量',\n            data: [120, 132, 101, 134, 90, 230, 210]\n          }\n        ]\n      },\n      // 电能\n      tu: null,\n      // 电能消耗数据\n      tudata: {\n        color: ['#2f7ffa'],\n        tooltip: {\n          trigger: 'axis'\n        },\n        textStyle: {\n          color: '#fff'\n        },\n        legend: {\n          data: ['度数']\n        },\n        toolbox: {},\n        // 电能消耗横轴\n        xAxis: [\n          {\n            type: 'category',\n            data: [\n              '1月',\n              '2月',\n              '3月',\n              '4月',\n              '5月',\n              '6月',\n              '7月',\n              '8月',\n              '9月',\n              '10月',\n              '11月',\n              '12月'\n            ]\n          },\n          {\n            type: 'value',\n            axisLine: {\n              lineStyle: {\n                color: '#fff'\n              }\n            }\n          }\n        ],\n        // 电能消耗纵轴\n        yAxis: [\n          {\n            type: 'value',\n            axisLine: {\n              // show: true,\n              lineStyle: {\n                color: '#1589c4'\n              }\n            }\n          }\n        ],\n        // 电量消耗数值\n        series: [\n          {\n            // name:'度数',\n            type: 'bar',\n            label: {},\n            name: '2',\n            data: [\n              '1200',\n              '2000',\n              '1500',\n              '1800',\n              '2300',\n              '1890',\n              '2346',\n              '1225',\n              '2033',\n              '2103',\n              '1490',\n              '1908'\n            ],\n            markPoint: {\n              data: []\n            },\n            markLine: {\n              data: []\n            },\n            barWidth: '10',\n            radius: '70%'\n          }\n\n          // {\n          //   // name:'金额',\n          //   type: 'bar',\n          //   name:'1',\n          //   data: [\n          //     '2200',\n          //     '3000',\n          //     '2500',\n          //     '1800',\n          //     '2600',\n          //     '2890',\n          //     '2346',\n          //     '2225',\n          //     '2033',\n          //     '2103',\n          //     '1890',\n          //     '2908'\n          //   ],\n          //   markPoint: {\n          //     data: []\n          //   },\n          //   markLine: {\n          //     data: []\n          //   },\n          //   barWidth: '10',\n          //   radius: '50%'\n          // }\n        ]\n      }\n    }\n  },\n  mounted() {\n    console.log(this.$route)\n    this.can = this.$route.query\n    console.log(this.can)\n    var now1 = new Date()\n    // 格式化日，如果小于9，前面补0\n    var day = ('0' + now1.getDate()).slice(-2)\n    // 格式化月，如果小于9，前面补0\n    var month = ('0' + (now1.getMonth() + 1)).slice(-2)\n    // var str = '今天是星期' + l[d]\n    var str = '星期' + '日一二三四五六'.charAt(new Date().getDay())\n\n    // 拼装完整日期格式\n    var today = now1.getFullYear() + '年' + '' + month + '月' + '' + day + '日' + '' + str\n    // 完成赋值\n    this.data.date = today\n    console.log(this.$route)\n    this.can = this.$route.query0\n    console.log(this.can)\n    // 登陆\n    // this.login()\n    this.fa()\n    this.data1.date = today\n    this.turnover = this.$echarts.init(document.getElementById('turnover'))\n    this.turnoverf()\n    this.hao = this.$echarts.init(document.getElementById('hao'))\n    this.haof()\n    this.biao()\n    this.biao1()\n    this.biao2()\n    this.biao3()\n    this.tu = this.$echarts.init(document.getElementById('tu'))\n    this.tuf()\n\n    var map = new AMap.Map('container', {\n      resizeEnable: true,\n      center: [116.418261, 39.921984],\n      zoom: 11\n    })\n\n    if (!isSupportCanvas()) {\n      alert(\n        '热力图仅对支持canvas的浏览器适用,您所使用的浏览器不能使用热力图功能,请换个浏览器试试~'\n      )\n    }\n    // var heatmap\n    map.plugin(['AMap.Heatmap'], function() {\n    //   // 初始化heatmap对象\n    //   heatmap = new AMap.Heatmap(map, {\n    //     radius: 25, // 给定半径\n    //     opacity: [0, 0.8]\n    //   })\n\n    //   // heatmap.setDataSet({\n    //   //   data: [[]],\n    //   //   max: 100\n    //   // })\n    })\n\n    // 判断浏览区是否支持canvas\n    function isSupportCanvas() {\n      var elem = document.createElement('canvas')\n      return !!(elem.getContext && elem.getContext('2d'))\n    }\n    this.map = new AMap.Map('kfk', {\n      resizeEnable: true, // 是否监控地图容器尺寸变化\n      zoom: 11, // 初始化地图层级\n      center: [100.266116, 25.643582] // 初始化地图中心点\n    })\n    this.marker = new AMap.Marker({\n      icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n      position: [100.191787, 25.906117]\n    })\n    this.map.add(this.marker)\n    this.map.setFitView()\n  },\n  methods: {\n    fa() {\n      // var the = this\n      // 温湿度\n      // the.$axios({\n      //     url: 'http://192.168.1.17:8081/notifyDate/getTemperatureNotify',\n      //     method: 'get'\n      //   })\n      //   .then(response => {\n      //     console.log(response, 1234)\n      //     the.wenshi = {\n      //       wen: (response.data.data.dwTemperature * 1) / 10,\n      //       shi: (response.data.data.dwHumidity * 1) / 10\n      //     }\n      //   })\n      // 请求报警信息\n      // the.$axios({\n      //   url: 'http://192.168.1.17:8081/notifyDate/getVigilanceNotify',\n      //   method: 'get'\n      // })\n      // .then(response => {\n      //   console.log(response, 12)\n      //   the.baojing = response.data.data\n      // })\n      // var ddate = new Date()\n      // var hao = ddate.getTime()\n      // var kaihao = hao - 360000000\n\n      // 3600000\n      // 实时客流量\n      // the.$axios({\n      //   url:\n      //     'http://192.168.1.17:8081/PassengerFlow/getPassengerFlow?startTime=' +\n      //     kaihao +\n      //     '&endTime=' +\n      //     hao +\n      //     '&groupId',\n      //   method: 'get'\n      // })\n      // .then(response => {\n      //   var dat = JSON.parse(response.data.data)\n      //   the.potion.series[0].data = [\n      //     dat.data.enteringNumber,\n      //     dat.data.leaveNumber,\n      //     dat.data.baseHold\n      //   ]\n      //   this.keliu.setOption(this.potion)\n      // })\n      // this.$axios({\n      //   url: 'http://192.168.1.17:8081/dispatchtype/getSysDispatchType',\n      //   method: 'get'\n      // }).then(response => {\n      //   console.log(response)\n      // })\n    },\n    login() {\n      // var qs = require('querystring')\n      // var data = { username: 'admin', password: '111111' }\n      // this.$axios({\n      //   url: 'http://192.168.1.17:8081/user/login',\n      //   method: 'post',\n      //   data: qs.stringify(data),\n      //   headers: {\n      //     'Content-Type': 'application/x-www-form-urlencoded'\n      //   }\n      // }).then(response => {\n      //   console.log(response, 123)\n      // })\n    },\n    dhf() {\n      this.dh = !this.dh\n    },\n    // 人像\n    age() {\n      this.niandata.color = [\n        '#fd04de',\n        '#03e8fd',\n        '#fc8622',\n        '#e8fd5a',\n        '#63fd9b'\n      ]\n      this.niandata.series[0].data = [\n        { value: 38.32, name: '0~17' },\n        { value: 61.68, name: '17~24' },\n        { value: 61.68, name: '24~35' },\n        { value: 61.68, name: '35~50' },\n        { value: 61.68, name: '50~70' }\n      ]\n      this.turnoverf()\n    },\n    sex() {\n      this.niandata.color = ['#fd04de', '#03e8fd']\n      this.niandata.series[0].data = [\n        { value: 38.32, name: '女性' },\n        { value: 61.68, name: '男性' }\n      ]\n      this.turnoverf()\n    },\n    turnoverf() {\n      // 年龄\n      this.turnover.resize()\n      this.turnover.setOption(this.niandata)\n    },\n    // 人像结束\n    // 能耗\n    yer() {\n      this.haodata.color = ['#04f594']\n      this.haodata.series[0].data = [320, 302, 301, 334, 390, 330, 320]\n      this.haof()\n    },\n    month() {\n      this.haodata.color = ['#16c7fb']\n      this.haodata.series[0].data = [120, 132, 101, 134, 90, 230, 210]\n      this.haof()\n    },\n    haof() {\n      this.hao.resize()\n      this.hao.setOption(this.haodata)\n    },\n    biao() {\n      var biao = this.$echarts.init(document.getElementById('biao'))\n      biao.resize()\n      window.addEventListener('resize', () => {\n        biao.resize()\n      })\n      biao.setOption({\n        color: ['#4f81bd', 'red'],\n        tooltip: {\n          trigger: 'axis',\n\n          axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#4f81bd'\n        },\n\n        legend: {},\n        toolbox: {\n          show: true\n        },\n        series: [\n          {\n            type: 'gauge',\n            detail: { formatter: '{value}%' },\n            data: [{ value: 20 }]\n          }\n        ]\n      })\n    },\n    biao1() {\n      var biao1 = this.$echarts.init(document.getElementById('biao1'))\n      biao1.resize()\n      window.addEventListener('resize', () => {\n        biao1.resize()\n      })\n      biao1.setOption({\n        color: ['#4f81bd', 'red'],\n\n        tooltip: {\n          trigger: 'axis',\n\n          axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#4f81bd'\n        },\n\n        legend: {},\n        toolbox: {\n          show: true\n        },\n        series: [\n          {\n            type: 'gauge',\n            detail: { formatter: '{value}%' },\n            data: [{ value: 40 }]\n          }\n        ]\n      })\n    },\n    biao2() {\n      var biao2 = this.$echarts.init(document.getElementById('biao2'))\n      biao2.resize()\n      window.addEventListener('resize', () => {\n        biao2.resize()\n      })\n      biao2.setOption({\n        color: ['#4f81bd', 'red'],\n\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#4f81bd'\n        },\n        legend: {},\n        toolbox: {\n          show: true\n        },\n        series: [\n          {\n            type: 'gauge',\n            detail: { formatter: '{value}%' },\n            data: [{ value: 60 }]\n          }\n        ]\n      })\n    },\n    //  转盘\n    biao3() {\n      var biao3 = this.$echarts.init(document.getElementById('biao3'))\n      biao3.resize()\n      window.addEventListener('resize', () => {\n        biao3.resize()\n      })\n      biao3.setOption({\n        color: ['#4f81bd', 'red'],\n\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#4f81bd'\n        },\n\n        legend: {},\n        toolbox: {\n          show: true\n        },\n        series: [\n          {\n            type: 'gauge',\n            detail: { formatter: '{value}%' },\n            data: [{ value: 90 }]\n          }\n        ]\n      })\n    },\n    // 电能消耗\n    dian() {\n      this.tudata.color = ['#2f7ffa']\n      this.tudata.series[0].data = [\n        '1200',\n        '2000',\n        '1500',\n        '1800',\n        '2300',\n        '1890',\n        '2346',\n        '1225',\n        '2033',\n        '2103',\n        '1490',\n        '1908'\n      ]\n      this.tuf()\n    },\n    yuan() {\n      this.tudata.color = ['#e2d936']\n      this.tudata.series[0].data = [\n        '2200',\n        '3000',\n        '2500',\n        '1800',\n        '2600',\n        '2890',\n        '2346',\n        '2225',\n        '2033',\n        '2103',\n        '1890',\n        '2908'\n      ]\n      this.tuf()\n    },\n    tuf() {\n      // 电量消耗\n      console.log(this.tudata)\n      this.tu.resize()\n      this.tu.setOption(this.tudata)\n    },\n    jing1() {\n      this.map.remove(this.marker)\n      this.map.setFitView()\n      this.ce = 'jing1'\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.397094, 25.944405]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.412715, 25.944227]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.405162, 25.930489]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.424731, 25.929253]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.383189, 25.923078]\n        })\n      )\n      this.map.add(this.marker)\n      this.map.setFitView()\n    },\n    jing2() {\n      this.map.remove(this.marker)\n      this.map.setFitView()\n      this.ce = 'jing2'\n\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.162261, 25.6953135]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.181144, 25.690804]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.123122, 25.672549]\n        })\n      )\n      this.map.add(this.marker)\n      this.map.setFitView()\n    },\n    jing3() {\n      this.map.remove(this.marker)\n      this.map.setFitView()\n      this.ce = 'jing3'\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.47726, 25.912425]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.48507, 25.917211]\n        })\n      )\n      this.map.add(this.marker)\n      this.map.setFitView()\n    },\n    jing4() {\n      this.map.remove(this.marker)\n      this.map.setFitView()\n      this.ce = 'jing4'\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.325253, 25.622627]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.340188, 25.622759]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          position: [100.347226, 25.618734]\n        })\n      )\n      this.map.add(this.marker)\n      this.map.setFitView()\n    },\n    tiao(i) {\n      this.$router.push({\n        path: i\n      })\n    }\n  }\n}\n",null]}