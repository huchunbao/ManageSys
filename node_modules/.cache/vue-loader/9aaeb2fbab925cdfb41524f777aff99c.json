{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\dianwei.vue?vue&type=script&scoped=true&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\dianwei.vue","mtime":1576638136622},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport daoy from './daoyou.vue'\r\nexport default {\r\n  name: 'About',\r\n  components: {\r\n    // Ditu,\r\n    daoy\r\n  },\r\n  data() {\r\n    return {\r\n      dh: false,\r\n      map: null,\r\n      ce: '监控',\r\n      marker: [],\r\n      // 删除\r\n      sid: null,\r\n      stab: false,\r\n      sming: '',\r\n      // 添加点位信息\r\n      diantp: '1',\r\n      name: '',\r\n      jie: '',\r\n      bei: '',\r\n      jing: '',\r\n      wei: '',\r\n      shexiang: '',\r\n      shexdata: []\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {\r\n    var the = this\r\n    this.log()\r\n    this.shexdataup()\r\n    this.map = new AMap.Map('container', {\r\n      resizeEnable: true, // 是否监控地图容器尺寸变化\r\n      zoom: 11, // 初始化地图层级\r\n      center: [100.194439, 25.90931] // 初始化地图中心点\r\n    })\r\n    this.map.on('click', function(e) {\r\n      // the.value = e.lnglat.toString();\r\n      the.jing = e.lnglat.toString().split(',')[0]\r\n      the.wei = e.lnglat.toString().split(',')[1]\r\n    })\r\n    this.qingmark()\r\n  },\r\n  methods: {\r\n    dhf() {\r\n      this.dh = !this.dh\r\n    },\r\n    jing1(dat) {\r\n      this.ce = dat\r\n      this.qingmark()\r\n    },\r\n    jing2(dat) {\r\n      this.map.remove(this.marker)\r\n      this.map.setFitView()\r\n      this.marker = []\r\n      this.ce = dat\r\n      // this.$axios({\r\n      //   url: 'http://192.168.1.17:8081/notifyDate/getPatrolNotify',\r\n      //   method: 'get',\r\n      //   headers: {\r\n      //     'Content-Type': 'application/x-www-form-urlencoded'\r\n      //   }\r\n      // }).then(response => {\r\n      //   this.marker.push(\r\n      //     new AMap.Marker({\r\n      //       icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\r\n      //       position: [\r\n      //         response.data.data.Longitude / 360000 + 0.006216,\r\n      //         response.data.data.Latitude / 360000 + 0.001256\r\n      //       ]\r\n      //     })\r\n      //   )\r\n      //   // this.marker[i].DeviceName\r\n      //   this.marker[0].setTitle(response.data.data.DeviceName)\r\n      //   this.map.add(this.marker)\r\n      //   this.map.setFitView()\r\n      // })\r\n    },\r\n    cun() {\r\n      if (\r\n        this.diantp !== '' &&\r\n        this.name !== '' &&\r\n        this.jie !== '' &&\r\n        this.jing !== '' &&\r\n        this.wei !== ''\r\n      ) {\r\n        // var qs = require('querystring')\r\n        // var data = {\r\n        //   cpid: this.diantp,\r\n        //   pointtype:\r\n        //     this.diantp === 1 ? '监控' : this.diantp === 2\r\n        //       ? '享单车' : this.diantp === 4\r\n        //         ? '观景台' : this.diantp === 8\r\n        //           ? '景点' : this.diantp === 9\r\n        //             ? '出入口' : this.diantp === 10\r\n        //               ? '停车场' : this.diantp === 11\r\n        //                 ? '公厕' : this.diantp === 12\r\n        //                   ? '驿站' : this.diantp === 13\r\n        //                     ? '垃圾桶' : '',\r\n        //   pointname: this.name,\r\n        //   isuse: 1,\r\n        //   remarks: this.bei,\r\n        //   introduce: this.jie,\r\n        //   latitude: this.jing,\r\n        //   longitude: this.wei,\r\n        //   carema: this.shexiang\r\n        // }\r\n        // this.$axios({\r\n        //   url: 'http://192.168.1.17:8081/dispatch/saveSysDispatch',\r\n        //   method: 'post',\r\n        //   data: qs.stringify(data),\r\n        //   headers: {\r\n        //     'Content-Type': 'application/x-www-form-urlencoded'\r\n        //   }\r\n        // }).then(response => {\r\n        //   console.log(response)\r\n        //   this.tiao('map')\r\n        // })\r\n      } else {\r\n        alert('信息未填完整')\r\n      }\r\n    },\r\n    jcun() {\r\n      if (\r\n        this.diantp !== '' &&\r\n        this.name !== '' &&\r\n        this.jie !== '' &&\r\n        this.jing !== '' &&\r\n        this.wei !== ''\r\n      ) {\r\n        // var qs = require('querystring')\r\n        // var data = {\r\n        //   cpid: this.diantp,\r\n        //   pointtype:\r\n        //   this.diantp === 1 ? '监控' : this.diantp === 2\r\n        //     ? '共享单车' : this.diantp === 4\r\n        //       ? '观景台' : this.diantp === 8\r\n        //         ? '景点' : this.diantp === 9\r\n        //           ? '出入口' : this.diantp === 10\r\n        //             ? '停车场' : this.diantp === 11\r\n        //               ? '公厕' : this.diantp === 12\r\n        //                 ? '驿站' : this.diantp === 13\r\n        //                   ? '垃圾桶' : '',\r\n        //   pointname: this.name,\r\n        //   isuse: 1,\r\n        //   remarks: this.bei,\r\n        //   introduce: this.jie,\r\n        //   latitude: this.jing,\r\n        //   longitude: this.wei,\r\n        //   carema: this.shexiang\r\n        // }\r\n        // this.$axios({\r\n        //   url: 'http://192.168.1.17:8081/dispatch/saveSysDispatch',\r\n        //   method: 'post',\r\n        //   data: qs.stringify(data),\r\n        //   headers: {\r\n        //     'Content-Type': 'application/x-www-form-urlencoded'\r\n        //   }\r\n        // }).then(response => {\r\n        //   console.log(response)\r\n        //   this.diantp = 1\r\n        //   this.name = ''\r\n        //   this.bei = ''\r\n        //   this.jie = ''\r\n        //   this.jing = ''\r\n        //   this.wei = ''\r\n        //   this.shexiang = ''\r\n        //   this.qingmark()\r\n        //   // this.tiao('map')\r\n        // })\r\n      } else {\r\n        alert('信息未填完整')\r\n      }\r\n    },\r\n    log() {\r\n      // var qs = require(\"querystring\");\r\n    },\r\n    // 请求点位\r\n    qingmark() {\r\n      // var the = this\r\n      // var qs = require('querystring')\r\n      // var data = {\r\n      //   pointtype: this.ce\r\n      // }\r\n      // this.$axios({\r\n      //   url: 'http://192.168.1.17:8081/dispatch/getDispatchByPointtype',\r\n      //   method: 'post',\r\n      //   data: qs.stringify(data),\r\n      //   headers: {\r\n      //     'Content-Type': 'application/x-www-form-urlencoded'\r\n      //   }\r\n      // }).then(response => {\r\n      //   // this.tiao('map')\r\n      //   console.log(response.data.data)\r\n      //   this.map.remove(this.marker)\r\n      //   this.map.setFitView()\r\n      //   this.marker = []\r\n      //   for (let i = 0; i < response.data.data.length; i++) {\r\n      //     this.marker.push(\r\n      //       new AMap.Marker({\r\n      //         icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\r\n      //         position: [\r\n      //           response.data.data[i].latitude,\r\n      //           response.data.data[i].longitude\r\n      //         ]\r\n      //       })\r\n      //     )\r\n      //     the.marker[i].setTitle(response.data.data[i].pointname)\r\n      //     this.marker[i].on('rightclick', function(event) {\r\n      //       console.log(event)\r\n      //       the.sid = response.data.data[i].id\r\n      //       the.stab = true\r\n      //       the.sming = response.data.data[i].pointname\r\n      //     })\r\n      //   }\r\n      //   this.map.add(this.marker)\r\n      //   this.map.setFitView()\r\n      // })\r\n    },\r\n    shexdataup() {\r\n      // this.$axios({\r\n      //   url:\r\n      //     'http://192.168.1.17:8081/camara/getHikvisionOrg?nodeIndexCode=001007',\r\n      //   method: 'get',\r\n      //   headers: {\r\n      //     'Content-Type': 'application/x-www-form-urlencoded'\r\n      //   }\r\n      // }).then(response => {\r\n      //   // console.log(response.data.data)\r\n      //   var data = response.data.data\r\n      //   for (let i = 0; i < data.length; i++) {\r\n      //     for (let y = 0; y < data[i].hikSurveillancePoint.length; y++) {\r\n      //       this.shexdata.push(data[i].hikSurveillancePoint[y])\r\n      //     }\r\n      //   }\r\n      //   console.log(this.shexdata)\r\n      // })\r\n    },\r\n    // 删除\r\n    shanc() {\r\n      // http://localhost:8081/dispatchtype/deleteByTypename\r\n      // this.$axios({\r\n      //   url:\r\n      //     'http://192.168.1.17:8081/dispatch/deleteDispatchById?id=' + this.sid,\r\n      //   method: 'get',\r\n      //   headers: {\r\n      //     'Content-Type': 'application/x-www-form-urlencoded'\r\n      //   }\r\n      // }).then(response => {\r\n      //   console.log(response)\r\n      this.stab = false\r\n      this.sid = null\r\n      this.sming = ''\r\n      this.qingmark()\r\n      // })\r\n    },\r\n    tiao(i) {\r\n      this.$router.push({\r\n        path: i\r\n      })\r\n    }\r\n    // container2lnglat() {\r\n    //     if(!pixelInput.value) return\r\n    //     var inputVal = pixelInput.value.split(',');\r\n    //     var pixel = new AMap.Pixel(inputVal[0],inputVal[1]);\r\n    //     var lnglat = map.containerToLngLat(pixel);\r\n    //     lnglatInput.value = lnglat;\r\n    // }\r\n  }\r\n}\r\n",null]}