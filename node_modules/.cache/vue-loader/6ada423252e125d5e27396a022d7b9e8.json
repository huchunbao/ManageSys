{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\face\\bmd.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\face\\bmd.vue","mtime":1577669128823},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import touxiang from '@/assets/images/touxiang.png'\nimport { get, post, get2 } from '../../api/bmd.js'\nexport default {\n  name: 'About',\n  data() {\n    return {\n      noNum: '',\n      yesNum: '',\n      sumNum: '',\n      xm: '',\n      lxfs: '',\n      bh: '',\n      bm: '',\n      id: 0,\n      // 分页\n      multipleTable: [],\n      arr: [],\n      fudata: {\n        cpid: this.$store.state.user.companyId\n      },\n      //    分页\n      pagesize: 1,\n      pageNumber: 10,\n      all: 100 / 10, //      总页数\n      cur: 1,\n      data: {},\n      multipleSelection: []\n    }\n  },\n  computed: {},\n  watch: {},\n  mounted() {\n    this.chax()\n  },\n  methods: {\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    shua() {\n      console.log(this.cur, this.arrdata)\n      this.arrdata = []\n      for (var i = 0; i < 4; i++) {\n        if (i < this.arr.length && this.arr[i + (this.cur * 2) - 2]) {\n          this.arrdata.push(this.arr[i + (this.cur * 2) - 2])\n        }\n      }\n    },\n    btnClick(data) {\n      console.log(data)\n      this.cur = data\n      this.chax()\n    },\n    chax() {\n      var that = this\n      if (that.data.xm || that.lxfs || that.bh || that.bm) {\n        var data = {\n          cpid: this.$store.state.user.companyId,\n          pageNumber: that.cur - 1,\n          pageSize: 8,\n          faceType: 0\n        }\n        if (that.data.xm) {\n          data.faceName = that.data.xm\n        }\n        console.log(that.lxfs, 123)\n        if (that.lxfs) {\n          data.phone = that.lxfs\n        }\n        if (that.bh) {\n          data.certificateNum = that.bh\n        }\n        if (that.bm) {\n          data.department = that.bm\n        }\n        get2('/faceInfo/selectWhitePage', data).then(res => {\n          that.arr = res.content\n          that.all = res.totalElements\n        })\n      } else {\n        get2('/faceInfo/selectWhite', {\n          cpid: this.$store.state.user.companyId,\n          pageNumber: that.cur - 1,\n          pageSize: 8\n        }).then(res => {\n          console.log(res)\n          that.arr = res.content\n          that.all = res.totalElements\n        })\n        console.log(that.arr, 1233123)\n      }\n      this.shua()\n    },\n    schu(i) {\n      console.log(i)\n      get('/faceInfo/delface', {\n        id: this.arr[i].id\n      }).then(response => {\n        this.chax()\n        console.log(response.data)\n      })\n    },\n    plsc() {\n      const that = this\n      var ids = []\n      for (var i = 0; i < that.multipleSelection.length; i++) {\n        if (i === 0) {\n          ids += that.multipleSelection[i].id\n        } else {\n          ids += ',' + that.multipleSelection[i].id\n        }\n      }\n      get('/faceInfo/delete', { ids: ids }).then(res => {\n        console.log(res)\n        this.chax()\n      })\n    },\n    daochu() {\n      get('/faceInfo/deriveWhiteList?exclePath').then(res => {\n        var blob = new Blob([res], { type: 'application/vnd.ms-excel,charset=utf-8' })\n        var url = window.URL.createObjectURL(blob)\n        var link = document.createElement('a')\n        link.download = '白名单.xlsx'\n        link.href = url\n        link.click()\n        console.log(res, 1111111)\n      })\n    },\n    updata(data) {\n      var formData = new FormData()\n      formData.append('file', data)\n      post('/faceInfo/upload/1', formData).then(res => {\n        console.log(res)\n        this.chax()\n        alert('失败条数为' + res.data[0] + ',成功条数为' + res.data[1] + ', 总条数为' + res.data[2])\n      })\n      return false\n    }\n  }\n}\n",null]}