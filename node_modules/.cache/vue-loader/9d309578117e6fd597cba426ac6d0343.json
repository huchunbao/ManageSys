{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\more1.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\more1.vue","mtime":1576638136628},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport daoy from './daoyou.vue'\nimport echarts from 'echarts'\nexport default {\n  name: 'More',\n  components: {\n    daoy\n  },\n  data() {\n    return {\n      ce: 'jing1',\n      reli: '',\n      erhai: null,\n      marker: [],\n      wen: null,\n      shi: null,\n      today: null,\n      shij: null,\n      // 路线图\n      polyline: [],\n      // 人群画像\n      renq: null,\n      renqtab: 1,\n      renqdata: {\n        color: ['#fd04de', '#03e8fd'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#e2027e'\n        },\n        legend: {\n          orient: 'vertical',\n          x: 'left',\n          textStyle: {\n            color: '#e2027e'\n          }\n        },\n        toolbox: {\n          show: true,\n          feature: {\n            magicType: {\n              option: {\n                funnel: {\n                  x: '25%',\n                  width: '50%',\n                  funnelAlign: 'center',\n                  max: 1548\n                }\n              }\n            }\n          }\n        },\n        calculable: true,\n        series: [\n          {\n            //   name:'访问来源',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            itemStyle: {\n              emphasis: {\n                label: {\n                  show: true,\n                  position: 'center',\n                  textStyle: {\n                    fontSize: '20',\n                    fontWeight: 'bold'\n                  }\n                }\n              }\n            },\n            data: [\n              { value: 38.32, name: '女性' },\n              { value: 61.68, name: '男性' }\n            ]\n          }\n        ]\n      },\n      // 设备能耗\n      sheb: null,\n      shetab: 0,\n      shedata: {\n        color: ['#16c7fb'],\n        textStyle: {\n          color: '#fff'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          top: '10%',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: ['设备1', '设备2', '设备3', '设备4', '设备5', '设备6', '设备7'],\n            axisTick: {\n              alignWithLabel: true\n            },\n            axisLine: {\n              show: true,\n              lineStyle: {\n                color: '#1589c4'\n              }\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            axisLine: {\n              show: true,\n              lineStyle: {\n                color: '#1589c4'\n              }\n            }\n          }\n        ],\n        series: [\n          {\n            name: '能耗',\n            type: 'bar',\n            barWidth: '20%',\n            data: [390, 334, 330, 220, 200, 150, 100]\n          }\n        ]\n      },\n      // 能源趋势\n      qushi: null,\n      qutab: 0,\n      qushidata: {\n        color: ['#3398DB', '#eacd72'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#fff'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          top: '10%',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: ['8月', '9月', '10月', '11月', '12月', '1月', '2月', '3月', '4月', '5月', '6月', '7月'],\n            axisTick: {\n              alignWithLabel: true\n            },\n            axisLine: {\n              show: true,\n              lineStyle: {\n                color: '#1589c4'\n              }\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            axisLine: {\n              lineStyle: {\n                color: '#1589c4'\n              }\n            }\n          }\n        ],\n        series: [\n          {\n            name: '金额',\n            type: 'bar',\n            barWidth: '20%',\n            data: [10, 52, 200, 334, 390, 330, 300, 120, 340, 452, 134, 214]\n          },\n          {\n            name: '消耗',\n            type: 'bar',\n            barWidth: '20%',\n            data: [15, 22, 270, 234, 396, 340, 213, 423, 132, 241, 321, 120]\n          }\n        ]\n      }\n    }\n  },\n  mounted() {\n    // this.login()\n    this.shijf()\n    setInterval(this.shijf(), 1000)\n    this.relimap()\n    this.erhaif()\n    this.renq = echarts.init(this.$refs.renqun)\n    this.rqhx()\n    this.qushi = echarts.init(this.$refs.qushi)\n    this.qus()\n    this.sheb = echarts.init(this.$refs.shebei)\n    this.sbnh()\n    // this.$axios({\n    //   url: 'http://192.168.1.17:8081/notifyDate/getTemperatureNotify',\n    //   method: 'get'\n    // }).then(response => {\n    //   console.log(response, 1234)\n    //   this.wen = (response.data.data.dwTemperature * 1) / 10\n    //   this.shi = (response.data.data.dwHumidity * 1) / 10\n    // })\n  },\n  methods: {\n    // 时间\n    shijf() {\n      var now1 = new Date()\n      // 格式化日，如果小于9，前面补0\n      var day = ('0' + now1.getDate()).slice(-2)\n      // 格式化月，如果小于9，前面补0\n      var month = ('0' + (now1.getMonth() + 1)).slice(-2)\n      // let str = \"今天是星期\" + l[d];\n      var str = '星期' + '日一二三四五六'.charAt(new Date().getDay())\n      // 拼装完整日期格式\n      this.today = now1.getFullYear() + '年' + '' + month + '月' + '' + day + '日' + '' + str\n      var fen = now1.getMinutes() < 10 ? '0' + now1.getMinutes() : now1.getMinutes()\n      this.shij = now1.getHours() + ':' + fen\n    },\n    // 热力地图绘制\n    relimap() {\n      var the = this\n      the.reli = new AMap.Map('reli', {\n        resizeEnable: true,\n        center: [100.169978, 25.786059],\n        zoom: 9\n      })\n      var heatmap\n      var styleName = 'amap://styles/' + 'darkblue'\n      this.reli.setMapStyle(styleName)\n      the.reli.plugin(['AMap.Heatmap'], function() {\n        heatmap = new AMap.Heatmap(the.reli, {\n          radius: 35, // 给定半径\n          opacity: [0, 0.8]\n        })\n        heatmap.setDataSet({\n          data: [\n            {\n              lng: 100.244161,\n              lat: 25.835082,\n              count: 8\n            },\n            {\n              lng: 100.236945,\n              lat: 25.831451,\n              count: 5\n            },\n            {\n              lng: 100.236973,\n              lat: 25.831456,\n              count: 10\n            },\n            {\n              lng: 100.236945,\n              lat: 25.831467,\n              count: 80\n            },\n            {\n              lng: 100.232345,\n              lat: 25.831451,\n              count: 5\n            },\n            {\n              lng: 100.276973,\n              lat: 25.831366,\n              count: 10\n            },\n            {\n              lng: 100.237845,\n              lat: 25.832347,\n              count: 80\n            }\n          ],\n          max: 100\n        })\n      })\n    },\n    // 洱海地图\n    erhaif() {\n      var the = this\n      the.erhai = new AMap.Map('amapa', {\n        resizeEnable: true, // 是否监控地图容器尺寸变化\n        zoom: 11, // 初始化地图层级\n        center: [100.266116, 25.643582] // 初始化地图中心点\n      })\n      this.erhai.setFitView()\n      this.jing1()\n    },\n    rqhx() {\n      this.renq.resize()\n      this.renq.setOption(this.renqdata)\n    },\n    qus() {\n      console.log()\n      this.qushi.resize()\n      this.qushi.setOption(this.qushidata)\n    },\n    sbnh() {\n      this.sheb.resize()\n      this.sheb.setOption(this.shedata)\n    },\n    // 人群画像\n    sex(i) {\n      this.renqdata.color = [\n        '#fd04de',\n        '#03e8fd',\n        '#fc8622',\n        '#e8fd5a',\n        '#63fd9b'\n      ]\n      console.log(i)\n      this.renqtab = i\n      if (i) {\n        this.renqdata.legend.data = ['男', '女']\n        this.renqdata.series[0].data = [\n          { value: 335, name: '男' },\n          { value: 310, name: '女' }\n        ]\n      } else {\n        this.renqdata.legend.data = [\n          '0~17岁',\n          '17~24岁',\n          '24~35岁',\n          '35~45岁',\n          '45岁+'\n        ]\n        this.renqdata.series[0].data = [\n          { value: 335, name: '0~17岁' },\n          { value: 310, name: '17~24岁' },\n          { value: 234, name: '24~35岁' },\n          { value: 135, name: '35~45岁' },\n          { value: 1548, name: '45岁+' }\n        ]\n      }\n      console.log(this.renqdata)\n      this.rqhx()\n    },\n    // 设备能耗\n    sex1(i) {\n      console.log(i)\n      this.shetab = i\n      if (i) {\n        this.shedata.series[0].data = [990, 934, 930, 820, 800, 750, 700]\n      } else {\n        this.shedata.series[0].data = [390, 334, 330, 220, 200, 150, 100]\n      }\n      console.log(this.shedata)\n      this.sbnh()\n    },\n    // 设备趋势\n    sex2(i) {\n      this.qutab = i\n      if (i === 1) {\n        this.qushidata.xAxis = [\n          {\n            type: 'category',\n            data: [\n              '1月',\n              '2月',\n              '3月',\n              '4月',\n              '5月',\n              '6月',\n              '7月',\n              '8月',\n              '9月',\n              '10月',\n              '11月',\n              '12月'\n            ],\n            axisTick: {\n              alignWithLabel: true\n            }\n          }\n        ]\n        this.qushidata.series = [\n          {\n            name: '消耗',\n            type: 'bar',\n            barWidth: '20%',\n            data: [423, 123, 451, 135, 123, 321, 423, 123, 234, 314, 243, 214]\n          },\n          {\n            name: '金额',\n            type: 'bar',\n            barWidth: '20%',\n            data: []\n          }\n        ]\n      } else {\n        this.qushidata.xAxis = [\n          {\n            type: 'category',\n            data: [\n              '8月',\n              '9月',\n              '10月',\n              '11月',\n              '12月',\n              '1月',\n              '2月',\n              '3月',\n              '4月',\n              '5月',\n              '6月',\n              '7月'\n            ],\n            axisTick: {\n              alignWithLabel: true\n            }\n          }\n        ]\n        this.qushidata.series = [\n          {\n            name: '金额',\n            type: 'bar',\n            barWidth: '20%',\n            data: [10, 52, 200, 334, 390, 330, 300, 120, 340, 452, 134, 214]\n          },\n          {\n            name: '消耗',\n            type: 'bar',\n            barWidth: '20%',\n            data: [15, 22, 270, 234, 396, 340, 213, 423, 132, 241, 321, 120]\n          }\n        ]\n      }\n      this.qus()\n    },\n    jing1() {\n      this.erhai.remove(this.marker)\n      this.erhai.remove(this.polyline)\n      this.erhai.setFitView()\n      this.ce = 'jing1'\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/yizhan.png'),\n          position: [100.397094, 25.944405]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/yizhan.png'),\n          position: [100.412715, 25.944227]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/yizhan.png'),\n          position: [100.405162, 25.930489]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/yizhan.png'),\n          position: [100.424731, 25.929253]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/yizhan.png'),\n          position: [100.383189, 25.923078]\n        })\n      )\n      this.erhai.add(this.marker)\n      this.erhai.setFitView()\n    },\n    jing2() {\n      this.erhai.remove(this.marker)\n      this.erhai.setFitView()\n      this.ce = 'jing2'\n      var lineArr = [\n        [100.183865, 25.683261],\n        [100.179058, 25.693858],\n        [100.176655, 25.698344],\n        [100.172535, 25.703912]\n      ]\n      this.polyline = new AMap.Polyline({\n        path: lineArr, // 设置线覆盖物路径\n        strokeColor: '#3366FF', // 线颜色\n        strokeOpacity: 1, // 线透明度\n        strokeWeight: 5, // 线宽\n        strokeStyle: 'solid', // 线样式\n        strokeDasharray: [10, 5] // 补充线样式\n      })\n      this.erhai.add(this.polyline)\n      this.erhai.setFitView()\n    },\n    jing3() {\n      this.erhai.remove(this.marker)\n      this.erhai.remove(this.polyline)\n      this.erhai.setFitView()\n      this.ce = 'jing3'\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/laji.png'),\n          position: [100.47726, 25.912425]\n        })\n      )\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/laji.png'),\n          position: [100.48507, 25.917211]\n        })\n      )\n      this.erhai.add(this.marker)\n      this.erhai.setFitView()\n    },\n    jing4() {\n      this.erhai.remove(this.marker)\n      this.erhai.remove(this.polyline)\n      this.erhai.setFitView()\n      this.ce = 'jing4'\n      this.marker = []\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/cesuo.png'),\n          position: [100.325253, 25.622627]\n        })\n      )\n      this.marker[0].setTitle('当前可用5个')\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/cesuo.png'),\n          position: [100.340188, 25.622759]\n        })\n      )\n      this.marker[1].setTitle('当前可用2个')\n      this.marker.push(\n        new AMap.Marker({\n          icon: require('../../assets/yingzhi/cesuo.png'),\n          position: [100.347226, 25.618734]\n        })\n      )\n      this.marker[2].setTitle('当前可用0个')\n      this.erhai.add(this.marker)\n      this.erhai.setFitView()\n    }\n  }\n}\n",null]}