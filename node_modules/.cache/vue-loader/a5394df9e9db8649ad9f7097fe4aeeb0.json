{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\facilit\\linfenxi.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\facilit\\linfenxi.vue","mtime":1578016623779},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { get } from '../../api/axios.js'\nimport echarts from 'echarts'\nexport default {\n  name: 'Traffic',\n  data() {\n    return {\n      data2: {\n        ren: 0,\n        liu: 0,\n        topliu: '0M',\n        downliu: '0M'\n      },\n      seldata: '2',\n      data: [\n        {\n          shu: 15,\n          gb: 12,\n          name: 'TP_LINK_334F'\n        },\n        {\n          shu: 8,\n          gb: 4,\n          name: 'TP_LINK_324F'\n        },\n        {\n          shu: 10,\n          gb: 6,\n          name: 'TP_LINK_314F'\n        }\n      ],\n      option1: {\n        // title: {\n        //   text: '设备状态统计',\n        //   x: 'left',\n        //   textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        // },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}<br/>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '15%',\n          data: ['在线率', '故障率']\n        },\n        series: [\n          {\n            name: '设备状态统计',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            center: ['35%', '50%'],\n            data: [\n              { value: 4, name: '在线率', itemStyle: { color: '#89A2FF' }},\n              { value: 1, name: '故障率', itemStyle: { color: '#FF9F9c ' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      option3: {\n        // title: {\n        //   text: '设备类型占比',\n        //   x: 'left',\n        //   textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        // },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}</br>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '15%',\n          data: ['监控', '网络', '广播', '报警', 'LED', '巡更']\n        },\n        series: [\n          {\n            name: '设备类型占比',\n            type: 'pie',\n            radius: ['50%', '70%'],\n            center: ['35%', '50%'],\n            data: [\n              { value: 3, name: '监控', itemStyle: { color: '#89A2FF' }},\n              { value: 1, name: '网络', itemStyle: { color: '#A2BCFF' }},\n              { value: 0, name: '广播', itemStyle: { color: '#C5D6FF' }},\n              { value: 1, name: '报警', itemStyle: { color: '#ff9f9c' }},\n              { value: 1, name: 'LED', itemStyle: { color: '#E4E5FF' }},\n              { value: 0, name: '巡更', itemStyle: { color: '#FFDC79' }}\n            ],\n            label: {\n              position: 'outside',\n              formatter: '{d}%'\n            },\n            itemStyle: {\n              emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      },\n      yan: ['#89A2FF', '#A2BCFF', '#C5D6FF', '#ff9f9c', '#E4E5FF', '#FFDC79']\n    }\n  },\n  watch: {\n    seldata() {\n      // console.log(this.seldata)\n    }\n  },\n  mounted() {\n    var that = this\n    get('/camara/selectCountOnline', {\n      cpid: this.$store.state.user.companyId\n    }).then(res => {\n      that.option1.series[0].data[0].value = res[0]['在线']\n      that.option1.series[0].data[1].value = res[0]['故障']\n      console.log(res)\n      this.echaers1fund()\n    })\n    get('/camara/selectCountEquType', {\n      cpid: this.$store.state.user.companyId\n    }).then(res => {\n      console.log(res)\n      this.option3.series[0].data = []\n      that.option3.legend.data = []\n      for (var i = 0; i < res.length; i++) {\n        that.option3.legend.data.push(res[i].equipment_type)\n        that.option3.series[0].data.push(\n          {\n            value: res[i]['count(*)'],\n            name: res[i].equipment_type\n          }\n        )\n        console.log(that.option3.series[0].data, res)\n      }\n      this.echaers3fund()\n    })\n    get('/camara/getWifi', {\n      pageNumber: 0,\n      pageSize: 3\n    }).then(res => {\n      that.data = res\n      that.data2.topliu = res[0].upload\n      that.data2.downliu = res[0].download\n      console.log(res, 12212)\n    })\n    get('camara/getWifiSum').then(res => {\n      that.data2.ren = res['人数']\n      that.data2.liu = res['总流量']\n    })\n  },\n  methods: {\n    login() {\n    },\n    echaers1fund() {\n      this.login()\n      const echarts1 = echarts.init(document.getElementById('echarts1'))\n      echarts1.setOption(this.option1)\n      window.addEventListener('resize', () => {\n        echarts1.resize()\n      })\n    },\n    echaers3fund() {\n      const echarts3 = echarts.init(document.getElementById('echarts3'))\n      echarts3.setOption(this.option3)\n      window.addEventListener('resize', () => {\n        echarts3.resize()\n      })\n    }\n  }\n}\n",null]}