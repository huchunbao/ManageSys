{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\Parkingadmin\\parking.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\Parkingadmin\\parking.vue","mtime":1578275513759},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PieChart from '@/components/Charts/PieChart'\nimport CarChart from '@/components/Charts/CarChart'\nimport LineChart from '@/components/Charts/LineChart'\nimport { get } from '../../api/axios.js'\n\nexport default {\n  name: 'Parking',\n  components: { PieChart, CarChart, LineChart },\n  data() {\n    return {\n      chartList1: {\n        title: '南门停车场',\n        subText: '今日停车场营业额：2306元',\n        lData: ['已用', '剩余'],\n        lselected: { 已用: 245, 剩余: 55 },\n        sData: [{ name: '已用', value: 245 }, { name: '剩余', value: 55 }]\n      },\n      chartList2: {\n        title: '北门停车场',\n        subText: '今日停车场营业额：1522元',\n        lData: ['已用', '剩余'],\n        lselected: { 已用: 165, 剩余: 35 },\n        sData: [{ name: '已用', value: 245 }, { name: '剩余', value: 55 }]\n      },\n      chartList3: {\n        ldata: ['南门停车场', '北门停车场'],\n        sdata: [\n          [1499, 1515, 1510, 1658, 1774, 1540, 1614, 1515, 1648, 1357],\n          [1452, 1480, 1448, 1658, 1404, 1580, 1615, 1710, 1528, 1108]\n        ]\n      },\n      chartList4: [\n      ],\n      chartList5: [\n        ['product', '车辆来源'],\n        ['四川', 0],\n        ['广西', 0],\n        ['云南', 0],\n        ['广东', 0],\n        ['湖南', 0],\n        ['江西', 0],\n        ['贵州', 0],\n        ['重庆', 0],\n        ['山西', 0]\n      ]\n    }\n  },\n  mounted() {\n    this.geng()\n  },\n  methods: {\n    geng() {\n      var that = this\n      get('/parkinfo/getParkinfomessage', { cpid: this.$store.state.user.companyId }).then(res => {\n        that.chartList1.subText = '今日停车场营业额：' + (res.data.parkinfolist[0].turnover || '0') + '元'\n        that.chartList2.subText = '今日停车场营业额：' + (res.data.parkinfolist[1].turnover || '0') + '元'\n        that.chartList1.sData = [\n          { name: '已用', value: res.data.parkinfolist[0].usedplace || 0 },\n          { name: '剩余', value: res.data.parkinfolist[0].freeplace || 0 }\n        ]\n        that.chartList2.sData = [\n          { name: '已用', value: res.data.parkinfolist[1].usedplace || 0 },\n          { name: '剩余', value: res.data.parkinfolist[1].freeplace || 0 }\n        ]\n        var data1 = []\n        var dataname = []\n        var data2 = [['product'], ['1月'], ['2月'], ['3月'], ['4月'], ['5月'], ['6月'], ['7月'], ['8月'], ['9月'], ['10月'], ['11月'], ['12月']]\n        for (var i = 0; i < res.data.maplist.length; i++) {\n          dataname.push(res.data.maplist[i].parkname)\n          data1.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n          data2[0].push(res.data.maplist[i].parkname)\n          for (var i2 = 1; i2 < data2.length; i2++) {\n            data2[i2].push(0)\n          }\n          for (var y = 0; y < res.data.maplist[i].datalist.length; y++) {\n            data2[res.data.maplist[i].datalist[y].month][i + 1] = (res.data.maplist[i].datalist[y].receipts)\n            data1[i][res.data.maplist[i].datalist[y].month - 1] = res.data.maplist[i].datalist[y].num\n          }\n        }\n        // console.log(data2)\n        this.chartList3.ldata = dataname\n        this.chartList3.sdata = data1\n        this.chartList4 = data2\n        this.$refs.parkingchart4.chartData = this.chartList4\n        this.$refs.parkingchart4.initChart()\n        this.chartList5 = [['product', '车辆来源']]\n        for (var i3 = 0; i3 < res.data.originmap.length; i3++) {\n          this.chartList5.push([\n            res.data.originmap[i3].areaname,\n            res.data.originmap[i3].count\n          ])\n        }\n        // console.log(this.chartList5, 12321)\n        this.$refs.parkingchart5.chartData = this.chartList5\n        this.$refs.parkingchart5.initChart()\n      })\n    }\n  }\n}\n",null]}