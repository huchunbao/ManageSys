{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\fabu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\fabu.vue","mtime":1576638136774},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport fabuw from './fabuw'\nimport fabut from './fabut'\nimport fabus from './fabus'\nimport fabuy from './fabuy'\nimport daoy from '../daoyou.vue'\nexport default {\n  name: 'Fabu',\n  components: {\n    fabuw,\n    fabut,\n    fabus,\n    fabuy,\n    daoy\n  },\n  data() {\n    return {\n      dataname: '',\n      fenb: '',\n      bei: '',\n      pid: [],\n      // 开始时间\n      kai: {\n        nian: '',\n        yue: '',\n        ri: '',\n        shi: '',\n        fen: '',\n        miao: ''\n      },\n      // 结束时间\n      jie: {\n        nian: '',\n        yue: '',\n        ri: '',\n        shi: '',\n        fen: '',\n        miao: ''\n      },\n      // 类型切换\n      tab: 1,\n      // 传过来的素材\n      data: null,\n      pdata: [],\n      // 打开显示屏选择\n      tab2: 0\n    }\n  },\n  computed: {},\n  watch: {},\n  mounted() {\n    this.shijian()\n    // 获取屏幕\n    this.$axios({\n      url: 'http://192.168.1.121:8081/LedScreen/getEquipmentList',\n      method: 'get',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }).then(response => {\n      console.log(response, 13212)\n      this.pdata = response.data.data\n    })\n  },\n  methods: {\n    jief(data) {\n      console.log(data, 123)\n      if (this.dataname !== '' && this.fenb !== '') {\n        this.data = data\n        this.tab2 = 1\n      } else {\n        alert('请将资料填写完整')\n      }\n    },\n    shangc() {\n      let date1 =\n        this.kai.nian +\n        '-' +\n        this.kai.yue +\n        '-' +\n        this.kai.ri +\n        ' ' +\n        this.kai.shi +\n        ':' +\n        this.kai.fen\n      let date2 =\n        this.jie.nian +\n        '-' +\n        this.jie.yue +\n        '-' +\n        this.jie.ri +\n        ' ' +\n        this.jie.shi +\n        ':' +\n        this.jie.fen\n      date1 = date1.replace(/-/g, '/')\n      date2 = date2.replace(/-/g, '/')\n      date1 = Date.parse(date1)\n      date2 = Date.parse(date2)\n      var qs = require('qs')\n      var data = JSON.stringify({\n        programmename: this.dataname,\n        resolutionratio: this.fenb,\n        equipment: this.pid.id,\n        showstarttime: date1,\n        showendtime: date2,\n        remark: this.bei,\n        showmaterial: this.data\n      })\n      console.log(data, JSON.parse(data))\n      this.$axios({\n        url: 'http://192.168.1.121:8081/RadioProgramme/saveLedSceenList',\n        method: 'post',\n        data: qs.stringify({\n          jsondata: data\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(response => {\n        console.log(response)\n        this.tiao('xinxi')\n      })\n    },\n    tiao(data) {\n      this.$router.push({ path: '/' + data })\n    },\n    // 获取当前时间\n    shijian() {\n      var date = new Date()\n      console.log(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes()\n      )\n      this.kai = {\n        dqnian: date.getFullYear(),\n        nian: date.getFullYear(),\n        yue: date.getMonth() + 1,\n        ri: date.getDate(),\n        shi: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\n        fen:\n          date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\n      }\n      this.jie = {\n        dqnian: date.getFullYear(),\n        nian: date.getFullYear(),\n        yue: date.getMonth() + 1,\n        ri: date.getDate(),\n        shi: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\n        fen:\n          date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\n      }\n    }\n  }\n}\n",null]}