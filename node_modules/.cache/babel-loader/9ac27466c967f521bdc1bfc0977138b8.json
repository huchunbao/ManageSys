{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\devmanagement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\devmanagement\\index.vue","mtime":1577669128583},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\\\u529E\\u516C\\\\projectwc\\\\\\u524D\\u7AEF\\\\ManageSys\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _axios = require(\"@/api/axios\");\n\nvar _echarts = _interopRequireDefault(require(\"echarts\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'About',\n  data: function data() {\n    return {\n      // 分页\n      $index: '',\n      options2: [],\n      options: [{\n        value: '选项1',\n        label: '全部'\n      }, {\n        value: '选项2',\n        label: '主动报警'\n      }, {\n        value: '选项3',\n        label: '触发报警'\n      }, {\n        value: '选项4',\n        label: '异常报警'\n      }, {\n        value: '选项5',\n        label: '断电报警'\n      }, {\n        value: '选项6',\n        label: '超速报警'\n      }, {\n        value: '选项7',\n        label: '越界报警'\n      }, {\n        value: '选项8',\n        label: '超时报警'\n      }, {\n        value: '选项9',\n        label: '求助报警'\n      }],\n      value5: [],\n      value11: [],\n      cities: [{\n        value1: 'haikang',\n        label: '垃圾桶'\n      }, {\n        value1: 'dahua',\n        label: '密度摄像机'\n      }, {\n        value1: 'huawei',\n        label: '客流相机'\n      }],\n      value6: '',\n      value10: [],\n      arr: [],\n      zhdata: {},\n      xiu: {},\n      zh: false,\n      xgdata: [],\n      chedata: [],\n      xgtype: '',\n      xg: false,\n      //   修改\n      tb: false,\n      //   同步\n      quanck: false,\n      //    分页\n      all: 100 / 10,\n      //      总页数\n      cur: 1,\n      mingc: '',\n      ip: '',\n      zuzhi: '',\n      // online:'',\n      type: '',\n      data: {},\n      orgname: '',\n      equipment_type: '',\n      firm: '',\n      multipleSelection: [],\n      option1: {\n        title: {\n          text: '',\n          x: 'left',\n          textStyle: {\n            fontSize: '1rem',\n            color: 'rgba(29,33,51,1)'\n          }\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}<br/>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '0%',\n          data: ['在线率', '离线率', '故障率']\n        },\n        series: [{\n          name: '设备状态统计',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          center: ['35%', '50%'],\n          data: [{\n            value: 4,\n            name: '在线率',\n            itemStyle: {\n              color: '#89A2FF'\n            }\n          }, {\n            value: 1,\n            name: '故障率',\n            itemStyle: {\n              color: '#FF9F9c '\n            }\n          }],\n          label: {\n            position: 'outside',\n            formatter: '{d}%'\n          },\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      },\n      option2: {\n        color: ['#89a2ff ', '#a2bcff', '#c5d6ff ', '#e4e5ff ', '#ff9f9c', '#ffdc79', '#fec379 ', '#a0d9de', '#d4bdf6'],\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}<br/>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '0%',\n          data: ['大华', '海康', '华康']\n        },\n        series: [{\n          name: '设备厂商占比',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          center: ['35%', '50%'],\n          data: [{\n            value: 4,\n            name: '兰州拉面',\n            itemStyle: {\n              color: '#89A2FF'\n            }\n          }, {\n            value: 3,\n            name: '海康',\n            itemStyle: {\n              color: '#A2BCFF'\n            }\n          }, {\n            value: 1,\n            name: '黄焖鸡米饭',\n            itemStyle: {\n              color: '#FF9F9c'\n            }\n          }],\n          label: {\n            position: 'outside',\n            formatter: '{d}%'\n          },\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      },\n      option3: {\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}</br>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '0%',\n          data: ['监控', '网络', '广播', '报警', 'LED', '巡更']\n        },\n        series: [{\n          name: '设备类型占比',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          center: ['35%', '50%'],\n          data: [{\n            value: 3,\n            name: '监控',\n            itemStyle: {\n              color: '#89A2FF'\n            }\n          }, {\n            value: 1,\n            name: '网络',\n            itemStyle: {\n              color: '#A2BCFF'\n            }\n          }, {\n            value: 0,\n            name: '广播',\n            itemStyle: {\n              color: '#C5D6FF'\n            }\n          }, {\n            value: 1,\n            name: '报警',\n            itemStyle: {\n              color: '#ff9f9c'\n            }\n          }, {\n            value: 1,\n            name: 'LED',\n            itemStyle: {\n              color: '#E4E5FF'\n            }\n          }, {\n            value: 0,\n            name: '巡更',\n            itemStyle: {\n              color: '#FFDC79'\n            }\n          }],\n          label: {\n            position: 'outside',\n            formatter: '{d}%'\n          },\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      },\n      yan: ['#89A2FF', '#A2BCFF', '#C5D6FF', '#ff9f9c', '#E4E5FF', '#FFDC79']\n    };\n  },\n  computed: {},\n  watch: {},\n  mounted: function mounted() {\n    var _this = this;\n\n    this.shua();\n    var that = this;\n    (0, _axios.get)('/camara/selectMore', {\n      cpid: this.$store.state.user.companyId\n    }).then(function (response) {\n      // console.log(112)\n      _this.options2 = response;\n    });\n    (0, _axios.get)('/camara/selectCountFirm', {\n      cpid: this.$store.state.user.companyId\n    }).then(function (res) {\n      // console.log(res)\n      _this.option2.series[0].data = [];\n      that.option2.legend.data = [];\n\n      for (var i = 0; i < res.length; i++) {\n        that.option2.legend.data.push(res[i].firm);\n        that.option2.series[0].data.push({\n          value: res[i]['count(*)'],\n          name: res[i].firm,\n          itemStyle: res.itemStyle\n        });\n\n        _this.shua(); // console.log(that.option2.series[0].data, res)\n\n      }\n\n      _this.echaers2fund();\n    });\n  },\n  methods: {\n    xgfa1: function xgfa1() {\n      if (!this.tiao) {\n        if (this.multipleSelection.length >= 1) {\n          this.xg = true;\n        } else {\n          this.$message({\n            message: '请选中记录,再进行操作',\n            type: 'warning'\n          });\n        }\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    toggleSelection: function toggleSelection(rows) {\n      var _this2 = this;\n\n      if (rows) {\n        rows.forEach(function (row) {\n          _this2.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    btnClick: function btnClick(data) {\n      this.cur = data;\n      this.shua();\n    },\n    shua: function shua() {\n      var _this3 = this;\n\n      var that = this;\n      (0, _axios.get)('/camara/getpoint', {\n        cpid: this.$store.state.user.companyId,\n        pageNumber: this.cur - 1,\n        pageSize: 6\n      }).then(function (res) {\n        that.arr = res.data.content;\n        _this3.all = Math.ceil(res.data.totalElements); // console.log(this.all)\n\n        _this3.clickok();\n      });\n      (0, _axios.get)('/camara/selectCountOnline', {\n        cpid: this.$store.state.user.companyId\n      }).then(function (res) {\n        that.option1.series[0].data[0].value = res[0]['在线'];\n        that.option1.series[0].data[1].value = res[0]['故障']; // console.log(res, that.option1)\n\n        _this3.echaers1fund();\n      });\n      (0, _axios.get)('/camara/selectMoreAnd', {\n        cpid: this.$store.state.user.companyId\n      }).then(function (response) {\n        // console.log(111)\n        _this3.options = response;\n      });\n      (0, _axios.get)('/camara/selectCountEquType', {\n        cpid: this.$store.state.user.companyId\n      }).then(function (res) {\n        // console.log(res)\n        _this3.option3.series[0].data = [];\n        that.option3.legend.data = [];\n\n        for (var i = 0; i < res.length; i++) {\n          that.option3.legend.data.push(res[i].equipment_type);\n          that.option3.series[0].data.push({\n            value: res[i]['count(*)'],\n            name: res[i].equipment_type,\n            itemStyle: res.itemStyle\n          }); // console.log(that.option3.series[0].data, res)\n        }\n\n        _this3.echaers3fund();\n      });\n    },\n    clickok: function clickok() {\n      this.zh = false;\n      this.zhdata = [];\n      this.xg = false;\n      this.tb = false;\n      this.qxa = false;\n      this.chedata = [];\n      this.xgdata = [];\n      this.xgtype = '';\n    },\n    echaers1fund: function echaers1fund() {\n      var echarts1 = _echarts.default.init(document.getElementById('echarts1'));\n\n      echarts1.setOption(this.option1);\n    },\n    echaers3fund: function echaers3fund() {\n      var echarts3 = _echarts.default.init(document.getElementById('echarts3'));\n\n      echarts3.setOption(this.option3);\n    },\n    echaers2fund: function echaers2fund() {\n      var echarts2 = _echarts.default.init(document.getElementById('echarts2'));\n\n      echarts2.setOption(this.option2);\n    },\n    ychu: function ychu(i) {\n      var _this4 = this;\n\n      (0, _axios.get)('/camara/delpoint', {\n        pid: this.arr[i].pid\n      }).then(function (response) {\n        if (response.msg !== 'SUCCESS') {\n          alert(response.msg);\n        }\n\n        _this4.shua();\n      });\n    },\n    sou: function sou() {\n      var _this5 = this;\n\n      var that = this;\n      (0, _axios.get)('/camara/SelPointBy', {\n        cpid: this.$store.state.user.companyId,\n        pageNum: this.cur - 1,\n        pageSize: 6,\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(function (res) {\n        _this5.arr = res.content;\n        _this5.all = res.numberOfElements; // console.log(this.arr, res, 123321)\n      });\n      (0, _axios.get)('/camara/selectCountEquType', {\n        cpid: this.$store.state.user.companyId,\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(function (res) {\n        // console.log(res)\n        _this5.option3.series[0].data = [];\n        that.option3.legend.data = [];\n\n        for (var i = 0; i < res.length; i++) {\n          that.option3.legend.data.push(res[i].equipment_type);\n          that.option3.series[0].data.push({\n            value: res[i]['count(*)'],\n            name: res[i].equipment_type,\n            itemStyle: res.itemStyle\n          }); // console.log(that.option3.series[0].data, res)\n        }\n\n        _this5.echaers3fund();\n      });\n      (0, _axios.get)('/camara/selectCountOnline', {\n        cpid: this.$store.state.user.companyId,\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(function (res) {\n        that.option1.series[0].data[0].value = res[0]['在线'];\n        that.option1.series[0].data[1].value = res[0]['故障']; // console.log(res, that.option1)\n\n        _this5.echaers1fund();\n      });\n      (0, _axios.get)('/camara/selectCountFirm', {\n        cpid: this.$store.state.user.companyId,\n        name: this.mingc,\n        deviceip: this.ip,\n        equipmentType: this.equipment_type,\n        orgname: this.zuzhi,\n        firm: this.firm\n      }).then(function (res) {\n        // console.log(res)\n        _this5.option2.series[0].data = [];\n        that.option2.legend.data = [];\n\n        for (var i = 0; i < res.length; i++) {\n          that.option2.legend.data.push(res[i].firm);\n          that.option2.series[0].data.push({\n            value: res[i]['count(*)'],\n            name: res[i].firm,\n            itemStyle: res.itemStyle\n          }); // console.log(that.option2.series[0].data, res)\n        }\n\n        _this5.echaers2fund();\n      });\n    },\n    shan: function shan() {\n      var _this6 = this;\n\n      if (!this.tiao) {\n        if (this.multipleSelection.length >= 1) {// this.xg = true\n        } else {\n          this.$message({\n            message: '请选中记录,再进行操作',\n            type: 'warning'\n          });\n        }\n      }\n\n      var that = this;\n      var pids = [];\n\n      for (var i = 0; i < that.multipleSelection.length; i++) {\n        if (i === 0) {\n          pids += that.multipleSelection[i].pid;\n        } else {\n          pids += ',' + that.multipleSelection[i].pid;\n        }\n      }\n\n      (0, _axios.get)('/camara/delAllpointByPids?pids=' + pids).then(function (res) {\n        if (res.msg !== 'SUCCESS') {\n          alert(res.msg);\n        }\n\n        alert('总条数' + res.data[0] + '条,成功删除' + res.data[1] + '条, 剩余条数为' + res.data[2]);\n\n        _this6.shua();\n      });\n    },\n    xgai: function xgai() {\n      var _this7 = this;\n\n      (0, _axios.post)('/camara/updpoint', {\n        pid: this.zhdata.pid,\n        equipmentType: this.zhdata.equipmentType,\n        remark: this.zhdata.remark\n      }).then(function (response) {\n        _this7.arr = response;\n        var data = response.data.data;\n\n        for (var i = 0; i < _this7.arr.length; i++) {\n          if (_this7.arr[i].pid === data.pid) {\n            _this7.arr[i] = data;\n          }\n        }\n\n        _this7.shua();\n\n        _this7.clickok();\n      });\n    },\n    xgfa: function xgfa() {\n      var _this8 = this;\n\n      var data = [];\n\n      for (var y = 0; y < this.multipleSelection.length; y++) {\n        data.push({\n          pid: this.multipleSelection[y].pid,\n          equipmentType: this.xgtype\n        });\n      }\n\n      (0, _axios.post)('/camara/updapoints', data).then(function (response) {\n        _this8.arr = response;\n\n        _this8.shua();\n\n        _this8.clickok(); // console.log(11)\n\n      });\n    },\n    zhfa: function zhfa(i) {\n      // console.log(i)\n      this.zh = true;\n      this.zhdata = this.arr[i];\n    },\n    chefa: function chefa(i) {\n      var pid = this.arr[i].pid;\n\n      if (!this.chedata[i]) {\n        this.xgdata.push(pid);\n      } else {\n        this.xgdata.remove(pid);\n        this.xgdata.forEach(function (item, index, arr) {\n          if (item === pid) {\n            arr.splice(index, 1);\n          }\n        });\n      }\n    },\n    tong: function tong() {\n      var _this9 = this;\n\n      (0, _axios.get)('/camara/getHikvisionOrg?nodeIndexCode=001007', {}).then(function (response) {\n        _this9.shua();\n      });\n    }\n  }\n};\nexports.default = _default;",null]}