{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\facilit\\linfenxi.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\facilit\\linfenxi.vue","mtime":1578016623779},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { get } from \"../../api/axios.js\";\nimport echarts from 'echarts';\nexport default {\n  name: 'Traffic',\n  data: function data() {\n    return {\n      data2: {\n        ren: 0,\n        liu: 0,\n        topliu: '0M',\n        downliu: '0M'\n      },\n      seldata: '2',\n      data: [{\n        shu: 15,\n        gb: 12,\n        name: 'TP_LINK_334F'\n      }, {\n        shu: 8,\n        gb: 4,\n        name: 'TP_LINK_324F'\n      }, {\n        shu: 10,\n        gb: 6,\n        name: 'TP_LINK_314F'\n      }],\n      option1: {\n        // title: {\n        //   text: '设备状态统计',\n        //   x: 'left',\n        //   textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        // },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}<br/>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '15%',\n          data: ['在线率', '故障率']\n        },\n        series: [{\n          name: '设备状态统计',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          center: ['35%', '50%'],\n          data: [{\n            value: 4,\n            name: '在线率',\n            itemStyle: {\n              color: '#89A2FF'\n            }\n          }, {\n            value: 1,\n            name: '故障率',\n            itemStyle: {\n              color: '#FF9F9c '\n            }\n          }],\n          label: {\n            position: 'outside',\n            formatter: '{d}%'\n          },\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      },\n      option3: {\n        // title: {\n        //   text: '设备类型占比',\n        //   x: 'left',\n        //   textStyle: { fontSize: '1rem', color: 'rgba(29,33,51,1)' }\n        // },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a}</br>{b}:{c}台({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          y: 'center',\n          right: '15%',\n          data: ['监控', '网络', '广播', '报警', 'LED', '巡更']\n        },\n        series: [{\n          name: '设备类型占比',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          center: ['35%', '50%'],\n          data: [{\n            value: 3,\n            name: '监控',\n            itemStyle: {\n              color: '#89A2FF'\n            }\n          }, {\n            value: 1,\n            name: '网络',\n            itemStyle: {\n              color: '#A2BCFF'\n            }\n          }, {\n            value: 0,\n            name: '广播',\n            itemStyle: {\n              color: '#C5D6FF'\n            }\n          }, {\n            value: 1,\n            name: '报警',\n            itemStyle: {\n              color: '#ff9f9c'\n            }\n          }, {\n            value: 1,\n            name: 'LED',\n            itemStyle: {\n              color: '#E4E5FF'\n            }\n          }, {\n            value: 0,\n            name: '巡更',\n            itemStyle: {\n              color: '#FFDC79'\n            }\n          }],\n          label: {\n            position: 'outside',\n            formatter: '{d}%'\n          },\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      },\n      yan: ['#89A2FF', '#A2BCFF', '#C5D6FF', '#ff9f9c', '#E4E5FF', '#FFDC79']\n    };\n  },\n  watch: {\n    seldata: function seldata() {// console.log(this.seldata)\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var that = this;\n    get('/camara/selectCountOnline', {\n      cpid: this.$store.state.user.companyId\n    }).then(function (res) {\n      that.option1.series[0].data[0].value = res[0]['在线'];\n      that.option1.series[0].data[1].value = res[0]['故障'];\n      console.log(res);\n\n      _this.echaers1fund();\n    });\n    get('/camara/selectCountEquType', {\n      cpid: this.$store.state.user.companyId\n    }).then(function (res) {\n      console.log(res);\n      _this.option3.series[0].data = [];\n      that.option3.legend.data = [];\n\n      for (var i = 0; i < res.length; i++) {\n        that.option3.legend.data.push(res[i].equipment_type);\n        that.option3.series[0].data.push({\n          value: res[i]['count(*)'],\n          name: res[i].equipment_type\n        });\n        console.log(that.option3.series[0].data, res);\n      }\n\n      _this.echaers3fund();\n    });\n    get('/camara/getWifi', {\n      pageNumber: 0,\n      pageSize: 3\n    }).then(function (res) {\n      that.data = res;\n      that.data2.topliu = res[0].upload;\n      that.data2.downliu = res[0].download;\n      console.log(res, 12212);\n    });\n    get('camara/getWifiSum').then(function (res) {\n      that.data2.ren = res['人数'];\n      that.data2.liu = res['总流量'];\n    });\n  },\n  methods: {\n    login: function login() {},\n    echaers1fund: function echaers1fund() {\n      this.login();\n      var echarts1 = echarts.init(document.getElementById('echarts1'));\n      echarts1.setOption(this.option1);\n      window.addEventListener('resize', function () {\n        echarts1.resize();\n      });\n    },\n    echaers3fund: function echaers3fund() {\n      var echarts3 = echarts.init(document.getElementById('echarts3'));\n      echarts3.setOption(this.option3);\n      window.addEventListener('resize', function () {\n        echarts3.resize();\n      });\n    }\n  }\n};",null]}