{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\components\\Charts\\StackChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\components\\Charts\\StackChart.vue","mtime":1576638136375},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\nimport echarts from 'echarts';\nimport resize from \"./mixins/resize\";\nexport default {\n  mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    id: {\n      type: String,\n      default: 'chart'\n    },\n    width: {\n      type: String,\n      default: '200px'\n    },\n    height: {\n      type: String,\n      default: '200px'\n    },\n    chartData: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tipTitle: {\n      type: String,\n      default: ''\n    },\n    showLegend: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    var now = new Date();\n    return {\n      chart: null,\n      colorlist: this.$store.state.settings.chartColors,\n      yearData: [now.getFullYear() - 2 + '年', now.getFullYear() - 1 + '年', now.getFullYear() + '年']\n    };\n  },\n  watch: {\n    chartData: {\n      immediate: true,\n      handler: function handler(val) {\n        var _this = this;\n\n        if (!val) return;\n        this.$nextTick(function () {\n          _this.initChart(val);\n        });\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    this.chart = echarts.init(document.getElementById(this.id));\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n\n    this.chart.dispose();\n    this.chart = null;\n  },\n  methods: {\n    initChart: function initChart(option) {\n      var that = this;\n\n      var xData = function () {\n        var data = [];\n        var datalen = option.ldata.length;\n\n        for (var i = 0, j = 0; i < datalen; i++) {\n          if (j >= that.colorlist.length) {\n            j = 0;\n          } // console.log(option.ldata[i])\n\n\n          data.push({\n            name: option.ldata[i],\n            type: 'bar',\n            stack: '总量',\n            barMaxWidth: 40,\n            itemStyle: {\n              normal: {\n                color: that.colorlist[j]\n              }\n            },\n            label: {\n              show: false,\n              position: 'insideRight'\n            },\n            data: option.sdata[i]\n          });\n          j++;\n        }\n\n        return data;\n      }();\n\n      that.chart.setOption({\n        title: {\n          show: xData.length <= 0,\n          textStyle: {\n            color: '#909399',\n            fontWeight: 'normal',\n            fontSize: 14\n          },\n          text: '暂无数据',\n          left: 'center',\n          top: 'center'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          },\n          formatter: function formatter(params) {\n            var relVal = params[0].name + that.tipTitle.replace('历年', '');\n\n            for (var i = 0; i < params.length; i++) {\n              relVal += '<div class=\"circle\" >' + params[i].marker + params[i].seriesName + ' : ' + params[i].value + '元</div>';\n            }\n\n            return relVal;\n          }\n        },\n        legend: {\n          show: that.showLegend,\n          data: option.ldata\n        },\n        grid: {\n          left: '15%',\n          bottom: 20\n        },\n        xAxis: {\n          name: '日期(年)',\n          type: 'category',\n          axisLine: {\n            lineStyle: {\n              color: '#90979c'\n            }\n          },\n          data: that.yearData\n        },\n        yAxis: {\n          type: 'value',\n          name: '营业额(元)',\n          axisLine: {\n            lineStyle: {\n              color: '#90979c'\n            }\n          },\n          axisLabel: {\n            formatter: '{value}元'\n          }\n        },\n        series: xData\n      });\n    }\n  }\n};",null]}