{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\datacenter\\components\\pie.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\datacenter\\components\\pie.vue","mtime":1576638136845},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\\\u529E\\u516C\\\\projectwc\\\\\\u524D\\u7AEF\\\\ManageSys\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nvar _echarts = _interopRequireDefault(require(\"echarts\"));\n\n//\n//\n//\n//\n// import resize from './mixins/resize'\nvar _default2 = {\n  // mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    getdata: {\n      type: Object,\n      default: function _default() {\n        return {\n          id: 'echar',\n          height: '100%',\n          width: '100%',\n          legend: [],\n          datas: [],\n          color: []\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      chart: null\n    };\n  },\n  watch: {\n    getdata: {\n      immediate: true,\n      handler: function handler(val) {\n        var _this = this;\n\n        this.$nextTick(function () {\n          _this.chartpie(val);\n        });\n      } // deep: true\n\n    }\n  },\n  mounted: function mounted() {\n    this.chart = _echarts.default.init(document.getElementById(this.getdata.id));\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n\n    this.chart.dispose();\n    this.chart = null;\n  },\n  methods: {\n    chartpie: function chartpie(val) {\n      var that = this;\n      var datas = val.datas; // [\n      //         { value: 335, name: '月满西楼南' },\n      //         { value: 310, name: '月满西楼北' },\n      //         { value: 274, name: '湿地公园南' },\n      //         { value: 235, name: '陶然田社北' },\n      //         { value: 400, name: '智慧跑道' }\n      //       ]\n\n      var legend = val.legend; // ['月满西楼南', '月满西楼北', '湿地公园南', '陶然田社北', '智慧跑道']\n\n      var color = val.color; // ['#587CF1', '#3AE3BC', '#FAD972', '#F88582', '#9299F3'],\n\n      var option = {\n        color: color,\n        legend: {\n          orient: 'vertical',\n          icon: 'rect',\n          right: 0,\n          data: legend,\n          textStyle: {\n            fontSize: 10,\n            // 字体大小\n            color: '#fff' // 字体颜色\n\n          }\n        },\n        title: {\n          left: 'center',\n          top: 20,\n          textStyle: {\n            color: '#ccc'\n          }\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)'\n        },\n        series: [{\n          name: '设备类型',\n          type: 'pie',\n          radius: '65%',\n          center: ['30%', '50%'],\n          data: datas.sort(function (a, b) {\n            return a.value - b.value;\n          }),\n          roseType: 'radius',\n          label: {\n            normal: {\n              textStyle: {\n                color: '#fff'\n              }\n            }\n          },\n          labelLine: {\n            normal: {\n              lineStyle: {\n                color: '#fff'\n              },\n              // smooth: 0.2, // 弯曲程度\n              length: 10,\n              length2: 10\n            }\n          },\n          itemStyle: {} // normal: {\n          //   color: function(params) {\n          //     console.log(params)\n          //     var colorlist = ['#587CF1', '#3AE3BC', '#FAD972', '#F88582', '#9299F3']\n          //     return colorlist[params.dataIndex]\n          //   },\n          //   shadowBlur: 10,\n          //   shadowColor: 'rgba(0, 0, 0, 0.5)'\n          // }\n          // animationType: 'scale',\n          // animationEasing: 'elasticOut',\n          // animationDelay: function(idx) {\n          //   return Math.random() * 200\n          // }\n\n        }]\n      };\n      that.chart.setOption(option);\n      window.addEventListener('resize', function () {\n        that.chart.resize();\n      });\n    }\n  }\n};\nexports.default = _default2;",null]}