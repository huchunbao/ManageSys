{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\maps\\linjingxi.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\maps\\linjingxi.vue","mtime":1576638137542},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\\\u529E\\u516C\\\\projectwc\\\\\\u524D\\u7AEF\\\\ManageSys\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vueAmap = _interopRequireDefault(require(\"vue-amap\"));\n\nvar _axios = require(\"@/api/axios\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar amapManager = new _vueAmap.default.AMapManager();\nvar _default = {\n  name: 'Map',\n  data: function data() {\n    return {\n      name: '电子地图管理',\n      tab: [],\n      zoom: 16,\n      center: [116.336496, 39.942178],\n      mapStyle1: 'amap://styles/whitesmoke',\n      activeName: 'qing',\n      tape: 1,\n      amapManager: amapManager,\n      events: {},\n      overlayGroups: [],\n      data: [{\n        name: '游客中心',\n        path: [[116.337033, 39.938723], [116.32993, 39.941471], [116.339023, 39.938841]],\n        icon: require(\"../../assets/icon/icon_youke.png\")\n      }, {\n        name: '景点',\n        path: [[116.333878, 39.941471], [116.333943, 39.942655], [116.333878, 39.941471], [116.335574, 39.941322]],\n        icon: require(\"../../assets/icon/icon_jingdian.png\")\n      }, {\n        name: '休息区',\n        path: [[116.337483, 39.942754]],\n        icon: require(\"../../assets/icon/icon_xiuxi.png\")\n      }, {\n        name: '观景台',\n        path: [[116.32993, 39.941536]],\n        icon: require(\"../../assets/icon/icon_guanjingtai.png\")\n      }, {\n        name: '餐饮',\n        path: [[116.341689, 39.93869]],\n        icon: require(\"../../assets/icon/icon_canyin.png\")\n      }, {\n        name: '商城',\n        path: [[116.329866, 39.939151]],\n        icon: require(\"../../assets/icon/icon_shangcheng.png\")\n      }, {\n        name: '酒店',\n        path: [[116.338706, 39.946373], [116.341904, 39.946225]],\n        icon: require(\"../../assets/icon/icon_jiudian.png\")\n      }, {\n        name: '停车场',\n        path: [[116.337269, 39.93869], [116.340809, 39.93874]],\n        icon: require(\"../../assets/icon/icon_p.png\")\n      }, {\n        name: '驿站',\n        path: [[116.340659, 39.944563]],\n        icon: require(\"../../assets/icon/icon_yizhan.png\")\n      }, {\n        name: '售票处',\n        path: [[116.330359, 39.943905]],\n        icon: require(\"../../assets/icon/icon_shoupiao.png\")\n      }, {\n        name: '卫生间',\n        path: [[116.331776, 39.942425], [116.338771, 39.942721]],\n        icon: require(\"../../assets/icon/icon_wc.png\")\n      }, {\n        name: '出入口',\n        path: [[116.329651, 39.943297], [116.334651, 39.94402]],\n        icon: require(\"../../assets/icon/icon_churukou.png\")\n      }, {\n        name: '乘车点',\n        path: [[116.337075, 39.939215], [116.341581, 39.940893], [116.330992, 39.943854]],\n        icon: require(\"../../assets/icon/icon_chengche.png\")\n      }, // {\n      //   name: '路况',\n      //   path: []\n      // },\n      // {\n      //   name: '观光车路线',\n      //   path: []\n      // },\n      // {\n      //   name: '巡更路线',\n      //   path: []\n      // },\n      // {\n      //   name: '推荐路线',\n      //   path: []\n      // },\n      {\n        name: '广播',\n        path: [[116.336603, 39.942102], [116.330745, 39.943566], [116.333438, 39.944216]],\n        icon: require(\"../../assets/icon/icon_guangbo.png\")\n      }, {\n        name: '人员',\n        path: [[116.33847, 39.942662], [116.335455, 39.939762], [116.332178, 39.943168], [116.341716, 39.939877]],\n        icon: require(\"../../assets/icon/icon_renyuan.png\")\n      }, {\n        name: '报警柱',\n        path: [[116.338647, 39.940478], [116.332596, 39.939799], [116.338315, 39.945076]],\n        icon: require(\"../../assets/icon/icon_baojinzhu.png\")\n      }, {\n        name: 'LED显示',\n        path: [[116.330729, 39.943492], [116.333454, 39.944138]],\n        icon: require(\"../../assets/icon/icon_LED.png\")\n      }, {\n        name: '其他定位',\n        path: [[116.335069, 39.943875], [116.33692, 39.943604]],\n        icon: require(\"../../assets/icon/icon_qitadingwei.png\")\n      }, {\n        name: '检测',\n        path: [[116.334431, 39.94202], [116.337429, 39.94035], [116.340621, 39.941197], [116.330402, 39.941448]],\n        icon: require(\"../../assets/icon/icon_jiance.png\")\n      }, {\n        name: '监控',\n        path: [[116.331121, 39.943114], [116.333578, 39.945146], [116.337612, 39.945212], [116.341635, 39.942802], [116.340144, 39.940128]],\n        icon: require(\"../../assets/icon/icon_jiankong.png\")\n      }, {\n        name: '医务室',\n        path: [[116.339023, 39.938841], [116.340284, 39.939138]],\n        icon: require(\"../../assets/icon/icon_yiwushi.png\")\n      }],\n      dataid: 0\n    };\n  },\n  watch: {},\n  created: function created() {\n    this.data = [];\n    this.leishua();\n  },\n  methods: {\n    leishua: function leishua() {\n      var that = this;\n      (0, _axios.get)('/mngpoint/selectUsedPointType', {\n        cpid: this.$store.state.user.companyId\n      }).then(function (res) {\n        for (var i = 0; i < res.data.length; i++) {\n          res.data[i].icon = process.env.VUE_APP_BASE_API + '/mngpoint/img/icon/' + res.data[i].url + '?t=' + new Date().getTime();\n          that.data.push(res.data[i]);\n        }\n      }); // get('/mngpoint/getpointtypeByProperties', { cpid: this.$store.state.user.companyId, properties: 1 }).then(res => {\n      //   console.log(res)\n      //   for (var i = 0; i < res.data.length; i++) {\n      //     res.data[i].icon = process.env.VUE_APP_BASE_API + '/mngpoint/img/icon/' + res.data[i].url + '?t=' + new Date().getTime()\n      //     that.data.push(res.data[i])\n      //   }\n      // })\n      // get('/mngpoint/getpointtypeByProperties', { cpid: this.$store.state.user.companyId, properties: 2 }).then(res => {\n      //   console.log(res)\n      //   for (var i = 0; i < res.data.length; i++) {\n      //     res.data[i].icon = process.env.VUE_APP_BASE_API + '/mngpoint/img/icon/' + res.data[i].url + '?t=' + new Date().getTime()\n      //     that.data.push(res.data[i])\n      //   }\n      // })\n      // get('/mngpoint/getpointtypeByProperties', { cpid: this.$store.state.user.companyId, properties: 3 }).then(res => {\n      //   console.log(res)\n      //   for (var i = 0; i < res.data.length; i++) {\n      //     res.data[i].icon = process.env.VUE_APP_BASE_API + '/mngpoint/img/icon/' + res.data[i].url + '?t=' + new Date().getTime()\n      //     that.data.push(res.data[i])\n      //   }\n      // })\n      // get('/mngpoint/getpointtypeByProperties', { cpid: this.$store.state.user.companyId, properties: 4 }).then(res => {\n      //   console.log(res)\n      //   for (var i = 0; i < res.data.length; i++) {\n      //     res.data[i].icon = process.env.VUE_APP_BASE_API + '/mngpoint/img/icon/' + res.data[i].url + '?t=' + new Date().getTime()\n      //     that.data.push(res.data[i])\n      //   }\n      // })\n    },\n    addmarker: function addmarker(data) {\n      var _this = this;\n\n      var that = this;\n      var markers = [];\n      var o = amapManager.getMap();\n      o.remove(that.overlayGroups);\n\n      if (this.tab.indexOf(data.id) !== -1) {\n        this.tab.splice(this.tab.indexOf(data.id), 1);\n      } else {\n        that.tab.push(data.id);\n      }\n\n      console.log(that.tab, 123312221);\n\n      for (var y = 0; y < that.tab.length; y++) {\n        (0, _axios.get)('/mngpoint/getPointInfoByTypeId', {\n          cpid: this.$store.state.user.companyId,\n          typeid: that.tab[y]\n        }).then(function (res) {\n          console.log(res.data[0], that.tab[y]);\n          var icon;\n\n          for (var i1 = 0; i1 < that.data.length; i1++) {\n            if (that.data[i1].id === res.data[0].pointTypeId) {\n              icon = that.data[i1].icon;\n            }\n          }\n\n          for (var i = 0; i < res.data.length; i++) {\n            var marker = new AMap.Marker({\n              position: [res.data[i].mngPointLon, res.data[i].mngPointLat],\n              icon: icon\n            });\n            markers.push(marker);\n            _this.overlayGroups = new AMap.OverlayGroup(markers);\n            o.add(that.overlayGroups);\n          }\n        });\n      } // for (let y = 0; y < that.tab.length; y++) {\n      //   for (let x = 0; x < that.data[that.tab[y]].path.length; x++) {\n      //     var marker = new AMap.Marker({\n      //       position: that.data[that.tab[y]].path[x],\n      //       icon: that.data[that.tab[y]].icon\n      //     })\n      //     markers.push(marker)\n      //   }\n      // }\n\n    },\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    tabfa: function tabfa(i) {\n      var that = this;\n\n      for (var i1 = 0; i1 < that.tab.length; i1++) {\n        if (that.tab[i1] === i) {\n          return true;\n        }\n      }\n    }\n  }\n};\nexports.default = _default;",null]}