{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\patrol\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\patrol\\index.vue","mtime":1578287501894},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nvar _axios = require(\"@/api/axios\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'About',\n  data: function data() {\n    return {\n      // 分页\n      lx: '',\n      bc: [new Date(2019, 9, 1), new Date()],\n      zdl: '',\n      xzrq: '',\n      mes: '',\n      sjlx: '1',\n      pagesize: 1,\n      chatab: 1,\n      pageNumber: 10,\n      arr: [],\n      lxx: [],\n      //    分页\n      all: 0,\n      //      总页数\n      cur: 1\n    };\n  },\n  computed: {},\n  watch: {\n    chatab: function chatab() {\n      this.sou();\n    },\n    sjlx: function sjlx() {\n      this.cur = 1;\n      this.sou();\n    }\n  },\n  mounted: function mounted() {\n    this.shua();\n  },\n  methods: {\n    btnClick: function btnClick(data) {\n      console.log(data);\n      this.cur = data;\n      this.sou();\n    },\n    shua: function shua() {\n      var _this = this;\n\n      (0, _axios.get)('/mngCircuitInfo/getmngcircuitinfobytype', {\n        cpid: this.$store.state.user.companyId,\n        typeid: 1\n      }).then(function (res) {\n        _this.lxx = res.data;\n        _this.lx = _this.lxx[0].id;\n\n        _this.sou();\n      }); // console.log(this.cur, this.arrdata)\n      // this.arrdata = []\n      // for (var i = 0; i < 10; i++) {\n      //   if (i < this.arr.length && this.arr[i + (this.cur * 8) - 8]) {\n      //     this.arrdata.push(this.arr[i + (this.cur * 8) - 8])\n      //   }\n      // }\n    },\n    sou: function sou() {\n      var _this2 = this;\n\n      if (this.chatab === 1) {\n        var data = {\n          circuitid: this.lx,\n          pageNumber: this.cur - 1,\n          pageSize: 10,\n          starttime: this.shi2(this.bc[0]),\n          endtime: this.shi2(this.bc[1])\n        };\n\n        if (this.zdl !== '') {\n          data.equimentid = this.zdl;\n        }\n\n        (0, _axios.get)('/mngpatrol/getMngPatrolLogPointlist', data).then(function (res) {\n          _this2.arr = res.data.content;\n          _this2.all = res.data.totalElements;\n\n          for (var i = 0; i < _this2.arr.length; i++) {\n            _this2.arr[i].planTime = _this2.arr[i].planTime.trim().split(/\\s+/);\n            _this2.arr[i].arriveTime = _this2.arr[i].arriveTime.trim().split(/\\s+/);\n          }\n\n          console.log(_this2.arr, 12321);\n        });\n      } else {\n        (0, _axios.get)('/mngpatrol/getPerlist', {\n          circuitid: this.lx,\n          datetype: this.sjlx,\n          pageNumber: this.cur - 1,\n          pageSize: 10,\n          starttime: this.shi2(this.bc[0]),\n          endtime: this.shi2(this.bc[1])\n        }).then(function (res) {\n          _this2.arr = res.data;\n          _this2.all = res.data[0]['总条数'];\n\n          for (var i = 0; i < _this2.arr.length; i++) {\n            _this2.arr[i]['日期'] = _this2.arr[i]['日期'].trim().split(/\\s+/);\n            _this2.arr[i].yue = _this2.arr[i]['日期'][0].substring(0, _this2.arr[i]['日期'][0].length - 3);\n            _this2.arr[i]['准点率'] = _this2.arr[i]['准点率'].toFixed(2);\n          }\n        });\n      }\n    },\n    shi2: function shi2(date) {\n      var n = date.getFullYear();\n      var y = date.getMonth() + 1;\n      var r = date.getDate();\n      var s = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n      var f = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n      var m = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n      return n + '-' + y + '-' + r + ' ' + s + ':' + f + ':' + m;\n    }\n  }\n};\nexports.default = _default;",null]}