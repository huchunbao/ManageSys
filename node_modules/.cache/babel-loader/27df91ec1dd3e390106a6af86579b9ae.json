{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\alarm\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\alarm\\search.vue","mtime":1577669128498},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _axios = require(\"../../api/axios.js\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      data: {},\n      arrdata: [],\n      arr: [],\n      pagesize: 3,\n      pageNumber: 2,\n      all: 0,\n      //      总页数\n      cur: 1,\n      pickerOptions1: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n        shortcuts: [{\n          text: '今天',\n          onClick: function onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      value1: '',\n      value2: '',\n      value: '',\n      shij: [],\n      options: [{\n        value: '0',\n        label: '确认'\n      }, {\n        value: '1',\n        label: '取消确认'\n      }],\n      options2: [],\n      lx: [],\n      cities: [{\n        value: 'haikang',\n        label: '设备告警'\n      }, {\n        value: 'dahua',\n        label: '环境告警'\n      }, {\n        value: 'huawei',\n        label: '主动告警'\n      }, {\n        value: 'bxgj',\n        label: '报修告警'\n      }, {\n        value: 'tjgj',\n        label: '统计告警'\n      }, {\n        value: 'clgj',\n        label: '车辆告警'\n      }],\n      value6: '',\n      value7: '',\n      options5: [{\n        value: 'pc',\n        label: 'PC端'\n      }, {\n        value: 'mobile',\n        label: '移动端'\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var that = this;\n    (0, _axios.get)('/assetlogs/selectAlarmLogs', {\n      cpid: this.$store.state.user.companyId,\n      pageNumber: that.cur - 1,\n      pageSize: 8\n    }).then(function (res) {\n      that.arrdata = res.content;\n      that.all = res.numberOfElements;\n      console.log(res, 12212);\n    });\n    (0, _axios.get)('/alarmInfo/selectCountAlarmType', {\n      cpid: this.$store.state.user.companyId\n    }).then(function (res) {\n      _this.options2 = res;\n      console.log(111);\n    });\n  },\n  methods: {\n    sou: function sou() {\n      var _this2 = this;\n\n      var that = this;\n      var data = {\n        cpid: this.$store.state.user.companyId,\n        pageNumber: that.cur - 1,\n        pageSize: 8,\n        operate_type: this.data.value5,\n        alarm_type: this.data.alarm_type,\n        operate_man: this.data.name\n      };\n\n      if (that.shij.length > 0) {\n        console.log(that.shij);\n        data.startTime = this.shi2(that.shij[0]);\n        data.endTime = this.shi2(that.shij[1]);\n      }\n\n      (0, _axios.get)('/assetlogs/selectAlarmLogs', data).then(function (res) {\n        that.arrdata = res.content;\n        _this2.all = res.numberOfElements;\n        console.log(res, 100);\n      });\n    },\n    clickok: function clickok() {\n      this.zh = false;\n      this.zhdata = [];\n    },\n    zhfa: function zhfa(i) {\n      console.log(i);\n      this.zh = true;\n      this.zhdata = this.arr[i];\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    btnClick: function btnClick(data) {\n      console.log(data);\n      this.cur = data;\n      this.shua();\n    },\n    shua: function shua() {// console.log(this.cur, this.arrdata)\n      // this.arrdata = []\n      // for (var i = 0; i < 10; i++) {\n      //   if (i < this.arr.length && this.arr[i + this.cur * 8 - 8]) {\n      //     this.arrdata.push(this.arr[i + this.cur * 8 - 8])\n      //   }\n      // }\n    },\n    shi: function shi(value) {\n      var s = value / 1000;\n      var m = parseInt(s % 60);\n      s = parseInt(s / 60);\n      var f = parseInt(s % 60);\n      s = parseInt(s / 60);\n      var date = (s < 10 ? '0' + s : s) + ':' + (f < 10 ? '0' + f : f) + ':' + (m < 10 ? '0' + m : m);\n      return date;\n    },\n    shi2: function shi2(date) {\n      var n = date.getFullYear();\n      var y = date.getMonth() + 1;\n      var r = date.getDate();\n      var s = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n      var f = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n      var m = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n      return n + '-' + y + '-' + r + ' ' + s + ':' + f + ':' + m;\n    }\n  }\n};\nexports.default = _default;",null]}