{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\property\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\property\\index.vue","mtime":1576638137354},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getListByGet } from '@/api/car';\nimport TableTemplate from '@/components/Table/index';\nimport RingChart from '@/components/Charts/RingChart';\nexport default {\n  name: 'Property',\n  components: {\n    TableTemplate: TableTemplate,\n    RingChart: RingChart\n  },\n  data: function data() {\n    return {\n      activeName: '全部景区',\n      tabList: [{\n        id: 0,\n        name: '全部景区'\n      }, {\n        id: 1,\n        name: 'A景区'\n      }, {\n        id: 2,\n        name: 'B景区'\n      }],\n      headList: {\n        table1: [{\n          label: '类别',\n          prop: 'typeName',\n          width: 'auto'\n        }, {\n          label: '总金额(元)',\n          prop: 'money',\n          width: 'auto'\n        }],\n        table2: [{\n          label: '名称',\n          prop: 'assetName',\n          width: 'auto'\n        }, {\n          label: '类别',\n          prop: 'typeName',\n          width: 'auto'\n        }, {\n          label: '单价',\n          prop: 'price',\n          width: 'auto'\n        }, {\n          label: '数量',\n          prop: 'num',\n          width: '55'\n        }, {\n          label: '金额(元)',\n          prop: 'money',\n          width: '80'\n        }, {\n          label: '备注',\n          prop: 'remarks',\n          width: '70'\n        }]\n      },\n      dataList: {\n        table1: [],\n        table2: [],\n        table3: []\n      },\n      chartList: {\n        ldata: [],\n        sdata: []\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$refs.propertyTable1.total = 0;\n    this.$refs.propertyTable1.dataList = [];\n    this.$refs.propertyTable2.total = 0;\n    this.$refs.propertyTable2.dataList = [];\n    this.getList('/asset/findAssetList', null).then(function (data) {\n      for (var i = 0; i < data.data.assetList.length; i++) {\n        if (data.data.assetList[i].scrap === 1) {\n          _this.$refs.propertyTable1.dataList.push(data.data.assetList[i]);\n        } else {\n          _this.$refs.propertyTable2.dataList.push(data.data.assetList[i]);\n        }\n      }\n\n      for (var j = 0; j < data.data.assetRate.length; j++) {\n        _this.chartList.ldata.push(data.data.assetRate[j].typeName);\n\n        _this.chartList.sdata.push({\n          name: data.data.assetRate[j].typeName,\n          value: data.data.assetRate[j].money\n        });\n      }\n    });\n    this.getInputList(1);\n  },\n  methods: {\n    getList: function getList(url, query) {\n      return new Promise(function (resolve, reject) {\n        getListByGet(url, query).then(function (response) {\n          resolve(response);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    getInputList: function getInputList(pages) {\n      var _this2 = this;\n\n      this.getList('/asset/findMoneyAssetList?pageNum=' + pages + '&pageSize=5', null).then(function (data) {\n        var list = data.data.moneyAssetList.content;\n        list.forEach(function (item) {\n          item['price'] = Math.round(item.money / item.num);\n        });\n        _this2.$refs.propertyTable3.dataList = list;\n        _this2.$refs.propertyTable3.total = data.data.moneyAssetList.totalElements;\n      });\n    },\n    pageChange: function pageChange(page) {\n      this.getInputList(page[1].page);\n    }\n  }\n};",null]}