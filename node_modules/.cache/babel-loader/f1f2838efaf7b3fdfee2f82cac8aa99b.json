{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\more1.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\more1.vue","mtime":1576638136628},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport daoy from \"./daoyou.vue\";\nimport echarts from 'echarts';\nexport default {\n  name: 'More',\n  components: {\n    daoy: daoy\n  },\n  data: function data() {\n    return {\n      ce: 'jing1',\n      reli: '',\n      erhai: null,\n      marker: [],\n      wen: null,\n      shi: null,\n      today: null,\n      shij: null,\n      // 路线图\n      polyline: [],\n      // 人群画像\n      renq: null,\n      renqtab: 1,\n      renqdata: {\n        color: ['#fd04de', '#03e8fd'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n\n          }\n        },\n        textStyle: {\n          color: '#e2027e'\n        },\n        legend: {\n          orient: 'vertical',\n          x: 'left',\n          textStyle: {\n            color: '#e2027e'\n          }\n        },\n        toolbox: {\n          show: true,\n          feature: {\n            magicType: {\n              option: {\n                funnel: {\n                  x: '25%',\n                  width: '50%',\n                  funnelAlign: 'center',\n                  max: 1548\n                }\n              }\n            }\n          }\n        },\n        calculable: true,\n        series: [{\n          //   name:'访问来源',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          itemStyle: {\n            emphasis: {\n              label: {\n                show: true,\n                position: 'center',\n                textStyle: {\n                  fontSize: '20',\n                  fontWeight: 'bold'\n                }\n              }\n            }\n          },\n          data: [{\n            value: 38.32,\n            name: '女性'\n          }, {\n            value: 61.68,\n            name: '男性'\n          }]\n        }]\n      },\n      // 设备能耗\n      sheb: null,\n      shetab: 0,\n      shedata: {\n        color: ['#16c7fb'],\n        textStyle: {\n          color: '#fff'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          top: '10%',\n          containLabel: true\n        },\n        xAxis: [{\n          type: 'category',\n          data: ['设备1', '设备2', '设备3', '设备4', '设备5', '设备6', '设备7'],\n          axisTick: {\n            alignWithLabel: true\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: '#1589c4'\n            }\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: '#1589c4'\n            }\n          }\n        }],\n        series: [{\n          name: '能耗',\n          type: 'bar',\n          barWidth: '20%',\n          data: [390, 334, 330, 220, 200, 150, 100]\n        }]\n      },\n      // 能源趋势\n      qushi: null,\n      qutab: 0,\n      qushidata: {\n        color: ['#3398DB', '#eacd72'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        textStyle: {\n          color: '#fff'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          top: '10%',\n          containLabel: true\n        },\n        xAxis: [{\n          type: 'category',\n          data: ['8月', '9月', '10月', '11月', '12月', '1月', '2月', '3月', '4月', '5月', '6月', '7月'],\n          axisTick: {\n            alignWithLabel: true\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: '#1589c4'\n            }\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          axisLine: {\n            lineStyle: {\n              color: '#1589c4'\n            }\n          }\n        }],\n        series: [{\n          name: '金额',\n          type: 'bar',\n          barWidth: '20%',\n          data: [10, 52, 200, 334, 390, 330, 300, 120, 340, 452, 134, 214]\n        }, {\n          name: '消耗',\n          type: 'bar',\n          barWidth: '20%',\n          data: [15, 22, 270, 234, 396, 340, 213, 423, 132, 241, 321, 120]\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    // this.login()\n    this.shijf();\n    setInterval(this.shijf(), 1000);\n    this.relimap();\n    this.erhaif();\n    this.renq = echarts.init(this.$refs.renqun);\n    this.rqhx();\n    this.qushi = echarts.init(this.$refs.qushi);\n    this.qus();\n    this.sheb = echarts.init(this.$refs.shebei);\n    this.sbnh(); // this.$axios({\n    //   url: 'http://192.168.1.17:8081/notifyDate/getTemperatureNotify',\n    //   method: 'get'\n    // }).then(response => {\n    //   console.log(response, 1234)\n    //   this.wen = (response.data.data.dwTemperature * 1) / 10\n    //   this.shi = (response.data.data.dwHumidity * 1) / 10\n    // })\n  },\n  methods: {\n    // 时间\n    shijf: function shijf() {\n      var now1 = new Date(); // 格式化日，如果小于9，前面补0\n\n      var day = ('0' + now1.getDate()).slice(-2); // 格式化月，如果小于9，前面补0\n\n      var month = ('0' + (now1.getMonth() + 1)).slice(-2); // let str = \"今天是星期\" + l[d];\n\n      var str = '星期' + '日一二三四五六'.charAt(new Date().getDay()); // 拼装完整日期格式\n\n      this.today = now1.getFullYear() + '年' + '' + month + '月' + '' + day + '日' + '' + str;\n      var fen = now1.getMinutes() < 10 ? '0' + now1.getMinutes() : now1.getMinutes();\n      this.shij = now1.getHours() + ':' + fen;\n    },\n    // 热力地图绘制\n    relimap: function relimap() {\n      var the = this;\n      the.reli = new AMap.Map('reli', {\n        resizeEnable: true,\n        center: [100.169978, 25.786059],\n        zoom: 9\n      });\n      var heatmap;\n      var styleName = 'amap://styles/' + 'darkblue';\n      this.reli.setMapStyle(styleName);\n      the.reli.plugin(['AMap.Heatmap'], function () {\n        heatmap = new AMap.Heatmap(the.reli, {\n          radius: 35,\n          // 给定半径\n          opacity: [0, 0.8]\n        });\n        heatmap.setDataSet({\n          data: [{\n            lng: 100.244161,\n            lat: 25.835082,\n            count: 8\n          }, {\n            lng: 100.236945,\n            lat: 25.831451,\n            count: 5\n          }, {\n            lng: 100.236973,\n            lat: 25.831456,\n            count: 10\n          }, {\n            lng: 100.236945,\n            lat: 25.831467,\n            count: 80\n          }, {\n            lng: 100.232345,\n            lat: 25.831451,\n            count: 5\n          }, {\n            lng: 100.276973,\n            lat: 25.831366,\n            count: 10\n          }, {\n            lng: 100.237845,\n            lat: 25.832347,\n            count: 80\n          }],\n          max: 100\n        });\n      });\n    },\n    // 洱海地图\n    erhaif: function erhaif() {\n      var the = this;\n      the.erhai = new AMap.Map('amapa', {\n        resizeEnable: true,\n        // 是否监控地图容器尺寸变化\n        zoom: 11,\n        // 初始化地图层级\n        center: [100.266116, 25.643582] // 初始化地图中心点\n\n      });\n      this.erhai.setFitView();\n      this.jing1();\n    },\n    rqhx: function rqhx() {\n      this.renq.resize();\n      this.renq.setOption(this.renqdata);\n    },\n    qus: function qus() {\n      console.log();\n      this.qushi.resize();\n      this.qushi.setOption(this.qushidata);\n    },\n    sbnh: function sbnh() {\n      this.sheb.resize();\n      this.sheb.setOption(this.shedata);\n    },\n    // 人群画像\n    sex: function sex(i) {\n      this.renqdata.color = ['#fd04de', '#03e8fd', '#fc8622', '#e8fd5a', '#63fd9b'];\n      console.log(i);\n      this.renqtab = i;\n\n      if (i) {\n        this.renqdata.legend.data = ['男', '女'];\n        this.renqdata.series[0].data = [{\n          value: 335,\n          name: '男'\n        }, {\n          value: 310,\n          name: '女'\n        }];\n      } else {\n        this.renqdata.legend.data = ['0~17岁', '17~24岁', '24~35岁', '35~45岁', '45岁+'];\n        this.renqdata.series[0].data = [{\n          value: 335,\n          name: '0~17岁'\n        }, {\n          value: 310,\n          name: '17~24岁'\n        }, {\n          value: 234,\n          name: '24~35岁'\n        }, {\n          value: 135,\n          name: '35~45岁'\n        }, {\n          value: 1548,\n          name: '45岁+'\n        }];\n      }\n\n      console.log(this.renqdata);\n      this.rqhx();\n    },\n    // 设备能耗\n    sex1: function sex1(i) {\n      console.log(i);\n      this.shetab = i;\n\n      if (i) {\n        this.shedata.series[0].data = [990, 934, 930, 820, 800, 750, 700];\n      } else {\n        this.shedata.series[0].data = [390, 334, 330, 220, 200, 150, 100];\n      }\n\n      console.log(this.shedata);\n      this.sbnh();\n    },\n    // 设备趋势\n    sex2: function sex2(i) {\n      this.qutab = i;\n\n      if (i === 1) {\n        this.qushidata.xAxis = [{\n          type: 'category',\n          data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n          axisTick: {\n            alignWithLabel: true\n          }\n        }];\n        this.qushidata.series = [{\n          name: '消耗',\n          type: 'bar',\n          barWidth: '20%',\n          data: [423, 123, 451, 135, 123, 321, 423, 123, 234, 314, 243, 214]\n        }, {\n          name: '金额',\n          type: 'bar',\n          barWidth: '20%',\n          data: []\n        }];\n      } else {\n        this.qushidata.xAxis = [{\n          type: 'category',\n          data: ['8月', '9月', '10月', '11月', '12月', '1月', '2月', '3月', '4月', '5月', '6月', '7月'],\n          axisTick: {\n            alignWithLabel: true\n          }\n        }];\n        this.qushidata.series = [{\n          name: '金额',\n          type: 'bar',\n          barWidth: '20%',\n          data: [10, 52, 200, 334, 390, 330, 300, 120, 340, 452, 134, 214]\n        }, {\n          name: '消耗',\n          type: 'bar',\n          barWidth: '20%',\n          data: [15, 22, 270, 234, 396, 340, 213, 423, 132, 241, 321, 120]\n        }];\n      }\n\n      this.qus();\n    },\n    jing1: function jing1() {\n      this.erhai.remove(this.marker);\n      this.erhai.remove(this.polyline);\n      this.erhai.setFitView();\n      this.ce = 'jing1';\n      this.marker = [];\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/yizhan.png\"),\n        position: [100.397094, 25.944405]\n      }));\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/yizhan.png\"),\n        position: [100.412715, 25.944227]\n      }));\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/yizhan.png\"),\n        position: [100.405162, 25.930489]\n      }));\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/yizhan.png\"),\n        position: [100.424731, 25.929253]\n      }));\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/yizhan.png\"),\n        position: [100.383189, 25.923078]\n      }));\n      this.erhai.add(this.marker);\n      this.erhai.setFitView();\n    },\n    jing2: function jing2() {\n      this.erhai.remove(this.marker);\n      this.erhai.setFitView();\n      this.ce = 'jing2';\n      var lineArr = [[100.183865, 25.683261], [100.179058, 25.693858], [100.176655, 25.698344], [100.172535, 25.703912]];\n      this.polyline = new AMap.Polyline({\n        path: lineArr,\n        // 设置线覆盖物路径\n        strokeColor: '#3366FF',\n        // 线颜色\n        strokeOpacity: 1,\n        // 线透明度\n        strokeWeight: 5,\n        // 线宽\n        strokeStyle: 'solid',\n        // 线样式\n        strokeDasharray: [10, 5] // 补充线样式\n\n      });\n      this.erhai.add(this.polyline);\n      this.erhai.setFitView();\n    },\n    jing3: function jing3() {\n      this.erhai.remove(this.marker);\n      this.erhai.remove(this.polyline);\n      this.erhai.setFitView();\n      this.ce = 'jing3';\n      this.marker = [];\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/laji.png\"),\n        position: [100.47726, 25.912425]\n      }));\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/laji.png\"),\n        position: [100.48507, 25.917211]\n      }));\n      this.erhai.add(this.marker);\n      this.erhai.setFitView();\n    },\n    jing4: function jing4() {\n      this.erhai.remove(this.marker);\n      this.erhai.remove(this.polyline);\n      this.erhai.setFitView();\n      this.ce = 'jing4';\n      this.marker = [];\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/cesuo.png\"),\n        position: [100.325253, 25.622627]\n      }));\n      this.marker[0].setTitle('当前可用5个');\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/cesuo.png\"),\n        position: [100.340188, 25.622759]\n      }));\n      this.marker[1].setTitle('当前可用2个');\n      this.marker.push(new AMap.Marker({\n        icon: require(\"../../assets/yingzhi/cesuo.png\"),\n        position: [100.347226, 25.618734]\n      }));\n      this.marker[2].setTitle('当前可用0个');\n      this.erhai.add(this.marker);\n      this.erhai.setFitView();\n    }\n  }\n};",null]}