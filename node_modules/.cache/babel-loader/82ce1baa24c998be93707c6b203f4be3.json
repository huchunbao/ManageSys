{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\broadcast\\yuyue.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\broadcast\\yuyue.vue","mtime":1576638137083},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _axios = require(\"@/api/axios\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'Broadcast',\n  data: function data() {\n    return {\n      updivtf: false,\n      // 分页\n      arrdata: [],\n      arrdata2: [],\n      arrdata3: [],\n      checked: [false, false, false, false, false, false, false],\n      options: [{\n        label: '立即播放',\n        value: '1'\n      }, {\n        label: '定时播放',\n        value: '2'\n      }, {\n        label: '每天播放',\n        value: '3'\n      }, {\n        label: '每周播放',\n        value: '4'\n      }],\n      options3: [{\n        label: '次数播放',\n        value: '1'\n      }, {\n        label: '时长播放',\n        value: '2'\n      }],\n      value: '1',\n      value2: '',\n      value3: '1',\n      value4: '1',\n      value5: '1',\n      value6: '0',\n      value7: '',\n      pickerOptions1: {\n        shortcuts: [{\n          text: '今天',\n          onClick: function onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      //    分页\n      all: 0,\n      //      总页数\n      cur: 1,\n      multipleSelection: [],\n      multipleSelection2: [],\n      multipleSelection3: []\n    };\n  },\n  computed: {},\n  watch: {},\n  mounted: function mounted() {\n    var _this = this;\n\n    this.shua();\n    var that = this;\n    (0, _axios.get)('/mngradio/getradiofile', {\n      cpid: this.$store.state.user.companyId,\n      pageNumber: 0,\n      pageSize: 200\n    }).then(function (res) {\n      console.log(res);\n      that.arrdata2 = res.data.content;\n    });\n    (0, _axios.get)('/camara/getEqType2?', {\n      system_id: 1\n    }).then(function (res) {\n      _this.arrdata3 = res;\n    });\n  },\n  methods: {\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handleSelectionChange2: function handleSelectionChange2(val) {\n      this.multipleSelection2 = val;\n    },\n    handleSelectionChange3: function handleSelectionChange3(val) {\n      this.multipleSelection3 = val;\n    },\n    btnClick: function btnClick(data) {\n      console.log(data);\n      this.cur = data;\n      this.shua();\n    },\n    shua: function shua() {\n      var _this2 = this;\n\n      var that = this;\n      (0, _axios.get)('/mngradio/gettodayradiolist', {\n        cpid: this.$store.state.user.companyId,\n        pageNumber: that.cur - 1,\n        pageSize: 10\n      }).then(function (res) {\n        console.log(132, res);\n        that.arrdata = res.data.content;\n        _this2.all = res.data.totalElements;\n      });\n    },\n    updata: function updata() {\n      var _this3 = this;\n\n      if (this.value !== '' && this.value3 !== '' && this.value6 !== '') {\n        var data = {\n          cpid: this.$store.state.user.companyId,\n          reservation_mode: this.value,\n          play_mode: this.value3,\n          play_interval: this.value6,\n          filelist: [],\n          pointlist: []\n        };\n\n        if (this.value === '2') {\n          data.reservation_date = this.shi2(this.value2);\n        } else if (this.value === '3') {\n          data.reservation_time = this.shi3(this.value7);\n        } else if (this.value === '4') {\n          // 周几播放\n          data.reservation_week = '';\n          console.log(this.checked);\n          data.reservation_time = this.shi3(this.value7);\n\n          for (var s = 0; s < this.checked.length; s++) {\n            if (this.checked[s] === true) {\n              data.reservation_week += data.reservation_week === '' ? '' + (s + 1) : ',' + (s + 1);\n              console.log(this.checked, s, data.reservation_week);\n            }\n          }\n        }\n\n        if (this.value3 === '1') {\n          data.play_count = this.value4;\n        } else {\n          data.play_time = this.value5;\n        }\n\n        console.log();\n\n        for (var i = 0; i < this.multipleSelection2.length; i++) {\n          data.filelist.push({\n            radioFileId: this.multipleSelection2[i].id,\n            radioListOrder: i + 1\n          });\n        }\n\n        for (var y = 0; y < this.multipleSelection3.length; y++) {\n          data.pointlist.push({\n            radioPointId: this.multipleSelection3[y].id\n          });\n        }\n\n        console.log(data);\n        (0, _axios.post)('/mngradio/saveradio', data).then(function (res) {\n          _this3.all = res.data.totalElements;\n          _this3.multipleSelection2 = [];\n          _this3.multipleSelection3 = [];\n          _this3.updivtf = false;\n\n          _this3.shua();\n        });\n      } else {\n        this.$message({\n          message: '请认真检查填写项',\n          type: 'warning'\n        });\n      }\n    },\n    shi2: function shi2(date) {\n      var n = date.getFullYear();\n      var y = date.getMonth() + 1;\n      var r = date.getDate();\n      var s = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n      var f = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n      var m = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n      return n + '-' + y + '-' + r + ' ' + s + ':' + f + ':' + m;\n    },\n    shi3: function shi3(date) {\n      var s = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n      var f = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n      var m = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n      return s + ':' + f + ':' + m;\n    }\n  }\n};\nexports.default = _default;",null]}