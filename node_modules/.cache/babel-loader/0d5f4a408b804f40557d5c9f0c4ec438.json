{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\chabo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\xinxifabu\\chabo.vue","mtime":1576638136800},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\\\u529E\\u516C\\\\projectwc\\\\\\u524D\\u7AEF\\\\ManageSys\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _daoyou = _interopRequireDefault(require(\"../daoyou.vue\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'Chabo',\n  components: {\n    daoy: _daoyou.default\n  },\n  data: function data() {\n    return {\n      pdata: [],\n      ptab: 0,\n      data: [],\n      // 选中节目\n      jtab: false,\n      all: 0,\n      // 总页数\n      cur: 1 // 当前页码\n\n    };\n  },\n  computed: {\n    // 实时更新展示的页码\n    indexs: function indexs() {\n      var left = 1;\n      var right = this.all;\n      var ar = [];\n\n      if (this.all >= 5) {\n        if (this.cur > 3 && this.cur < this.all - 2) {\n          left = this.cur - 2;\n          right = this.cur + 2;\n        } else {\n          if (this.cur <= 3) {\n            left = 1;\n            right = 5;\n          } else {\n            right = this.all;\n            left = this.all - 4;\n          }\n        }\n\n        while (left <= right) {\n          ar.push(left);\n          left++;\n        }\n      } else {\n        left = 1;\n        right = this.all;\n\n        while (left <= right) {\n          ar.push(left);\n          left++;\n        }\n      }\n\n      return ar;\n    }\n  },\n  watch: {\n    // 当选择屏幕发生改变时触发\n    ptab: function ptab() {\n      this.huoj();\n    },\n    // 页码发生改变时触发\n    cur: function cur(oldValue, newValue) {\n      this.huoj();\n    }\n  },\n  mounted: function mounted() {\n    this.huop();\n  },\n  methods: {\n    // 获取屏幕\n    huop: function huop() {\n      var _this = this;\n\n      this.$axios({\n        url: 'http://192.168.1.121:8081/LedScreen/getEquipmentList',\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(function (response) {\n        console.log(response, 13212);\n        _this.pdata = response.data.data;\n      });\n    },\n    huoj: function huoj() {\n      var _this2 = this;\n\n      // 请求节目\n      var cur = this.cur - 1;\n      console.log(12321312);\n      this.$axios({\n        url: 'http://192.168.1.121:8081/RadioProgramme/getRadioProgrammeByScreenId?id=' + this.ptab + '&pageNumber=' + cur + '&pageSize=10',\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(function (response) {\n        // console.log(response,this.resolvingDate('2019-07-17T08:21:00.000+0000'))\n        _this2.data = response.data.data.content;\n        _this2.all = Math.ceil(response.data.data.totalElements / 10);\n      });\n    },\n    btnClick: function btnClick(data) {\n      // 页码点击事件\n      if (data !== this.cur) {\n        this.cur = data;\n      }\n    },\n    // 删除\n    sel: function sel() {\n      var _this3 = this;\n\n      // /RadioProgramme/delRadioProgrammeByScreenId\n      this.$axios({\n        url: 'http://192.168.1.121:8081/RadioProgramme/delRadioProgrammeByScreenId?id=' + this.jtab,\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(function (response) {\n        _this3.huoj();\n      });\n    },\n    tiao: function tiao(i) {\n      this.$router.push({\n        path: i\n      });\n    }\n  }\n};\nexports.default = _default;",null]}