{"remainingRequest":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\components\\CharPie.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\src\\views\\yingzhi\\components\\CharPie.vue","mtime":1576638136649},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\办公\\projectwc\\前端\\ManageSys\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\nimport echarts from 'echarts'; // import resize from './mixins/resize'\n\nexport default {\n  // mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    getdata: {\n      type: Object,\n      default: function _default() {\n        return {\n          id: 'echar',\n          height: '100%',\n          width: '100%',\n          legend: [],\n          datalist: [],\n          color: []\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      chart: null\n    };\n  },\n  watch: {\n    getdata: {\n      immediate: true,\n      handler: function handler(val) {\n        var _this = this;\n\n        this.$nextTick(function () {\n          _this.pieCharts(val);\n        });\n      } // deep: true\n\n    }\n  },\n  mounted: function mounted() {\n    this.chart = echarts.init(document.getElementById(this.getdata.id));\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n\n    this.chart.dispose();\n    this.chart = null;\n  },\n  methods: {\n    pieCharts: function pieCharts(data) {\n      var that = this;\n      var datalist = data.datalist;\n      var legend = data.legend; // var datalist = [\n      //   { value: 335, name: '监控' },\n      //   { value: 310, name: '服务器' },\n      //   { value: 274, name: '广播' },\n      //   { value: 235, name: 'LED' },\n      //   { value: 400, name: '报警' }\n      // ]\n      // var legend = ['监控', '服务器', '广播', 'LED', '报警']\n\n      var color = ['#587CF1', '#3AE3BC', '#FAD972', '#F88582', '#9299F3'];\n      var option = {\n        title: {\n          left: 'center',\n          top: 20,\n          textStyle: {\n            color: '#ccc'\n          }\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)'\n        },\n        legend: {\n          orient: 'horizontal',\n          icon: 'rect',\n          bottom: 0,\n          data: legend,\n          textStyle: {\n            // 图例文字的样式\n            color: '#fff'\n          }\n        },\n        color: color,\n        series: [{\n          name: '设备类型',\n          type: 'pie',\n          radius: '65%',\n          center: ['50%', '50%'],\n          data: datalist.sort(function (a, b) {\n            return a.value - b.value;\n          }),\n          roseType: 'radius',\n          label: {\n            normal: {\n              textStyle: {\n                color: '#fff'\n              }\n            }\n          },\n          labelLine: {\n            normal: {\n              lineStyle: {\n                color: '#fff'\n              },\n              // smooth: 0.2, // 弯曲程度\n              length: 10,\n              length2: 20\n            }\n          }\n        }]\n      };\n      that.chart.setOption(option);\n      window.addEventListener('resize', function () {\n        that.chart.resize();\n      });\n    }\n  }\n};",null]}