{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4e56c8e3\"],{\"0cb9\":function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"integral-wrapper\"},[a(\"div\",{staticClass:\"layout_box\"},[a(\"div\",{staticClass:\"top\"},[a(\"div\",{staticClass:\"top_left\"},[a(\"div\",{staticClass:\"top_left_left\"},[a(\"div\",{staticClass:\"title\"},[e._v(\"\\n            一卡通数据分析\\n          \")]),e._v(\" \"),a(\"div\",{staticClass:\"echarts left_ulbox\"},[a(\"ul\",{staticClass:\"tops_box\"},[a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"本月一卡通充值金额\")]),e._v(\" \"),a(\"div\",{staticClass:\"price nums_box\"},[e._v(\"\\n                    \"+e._s(e.thismonthreCharge)),a(\"span\",[e._v(\"  元\")])])]),e._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"同比/环比\")]),e._v(\" \"),a(\"div\",{staticClass:\"nums_box\"},[e._v(\"\\n                    \"+e._s(e.thismonthChargeSame)),a(\"span\",[e._v(\"  % / \")]),e._v(e._s(e.thismonthChargeDis)),a(\"span\",[e._v(\"  %\")])])]),e._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"本月一卡通消费金额\")]),e._v(\" \"),a(\"div\",{staticClass:\"price nums_box\"},[e._v(\"\\n                    \"+e._s(e.thismonthIncome)),a(\"span\",[e._v(\"  元\")])])]),e._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"同比/环比\")]),e._v(\" \"),a(\"div\",{staticClass:\"nums_box\"},[e._v(\"\\n                    \"+e._s(e.thismonthSame)),a(\"span\",[e._v(\"  % / \")]),e._v(e._s(e.thismonthDis)),a(\"span\",[e._v(\"  %\")])])])]),e._v(\" \"),a(\"ul\",{staticClass:\"bottom_ulbox\"},[a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"本周一卡通充值金额\")]),e._v(\" \"),a(\"div\",{staticClass:\"price nums_box\"},[e._v(\"\\n                    \"+e._s(e.thisweekChargeIncome)),a(\"span\",[e._v(\"  元\")])])]),e._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"同比/环比\")]),e._v(\" \"),a(\"div\",{staticClass:\"nums_box\"},[e._v(\"\\n                    \"+e._s(e.thisweekChargeSame)),a(\"span\",[e._v(\"  % / \")]),e._v(e._s(e.thisweekChargeDis)),a(\"span\",[e._v(\"  %\")])])]),e._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"本周一卡通消费金额\")]),e._v(\" \"),a(\"div\",{staticClass:\"price nums_box\"},[e._v(\"\\n                    \"+e._s(e.thisweekIncome)),a(\"span\",[e._v(\"  元\")])])]),e._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"names\"},[e._v(\"同比/环比\")]),e._v(\" \"),a(\"div\",{staticClass:\"nums_box\"},[e._v(\"\\n                    \"+e._s(e.thisweekSame)),a(\"span\",[e._v(\"  % / \")]),e._v(e._s(e.thisweekDis)),a(\"span\",[e._v(\"  %\")])])])])])]),e._v(\" \"),a(\"div\",{staticClass:\"top_left_right echarts\"})]),e._v(\" \"),a(\"div\",{staticClass:\"top_right\"},[a(\"div\",{staticClass:\"ring_title\"},[e._v(\"一卡通(手环/腕带)总数量   \"),a(\"span\",{staticClass:\"sum_num\"},[e._v(e._s(e.totalNum))]),e._v(\"  个  \")]),e._v(\" \"),a(\"div\",{staticClass:\"echarts echarts_box\",staticStyle:{height:\"100%\",\"margin-top\":\"-15px\"},attrs:{id:\"echartsbox\"}})])]),e._v(\" \"),e._m(0)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"bottom\"},[a(\"div\",{staticClass:\"bottom_left\"},[a(\"div\",{staticClass:\"title\"},[e._v(\"本月一卡通各业态消费额占比\")]),e._v(\" \"),a(\"div\",{staticClass:\"echarts echarts_box \",staticStyle:{height:\"100%\",\"margin-top\":\"-15px\"},attrs:{id:\"echartslinecolumn\"}})]),e._v(\" \"),a(\"div\",{staticClass:\"bottom_right\"},[a(\"div\",{staticClass:\"title\"},[e._v(\" 本年每月一卡通消费趋势\")]),e._v(\" \"),a(\"div\",{staticClass:\"echarts echarts_box\",staticStyle:{height:\"100%\",\"margin-top\":\"-15px\"},attrs:{id:\"moreline\"}})])])}],n=(a(\"6b54\"),a(\"ac6a\"),a(\"7f7f\"),a(\"313e\")),r=a.n(n),o=a(\"0d5e\"),h={name:\"onecard\",data:function(){return{thismonthreCharge:\"\",thismonthChargeSame:\"\",thismonthChargeDis:\"\",thismonthIncome:\"\",thismonthSame:\"\",thismonthDis:\"\",thisweekChargeIncome:\"\",thisweekChargeSame:\"\",thisweekChargeDis:\"\",thisweekIncome:\"\",thisweekSame:\"\",thisweekDis:\"\",totalNum:\"\",usedTotalNum:\"\",restTotalNum:\"\",ehcart1:null,ehcart2:null,ehcart3:null}},mounted:function(){var e=this;this.$nextTick(function(){Object(o[\"b\"])(\"income/findIPassIncome\").then(function(t){if(\"SUCCESS\"===t.msg){for(var a=t.data.sourceMap,s=(t=t.data.list,[]),i=[],n=[],r=[],o=[],h=[0,0,0,0,0,0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0,0,0,0],v=0;v<t.length;v++)8==t[v].dateYear?(e.thismonthreCharge=t[v].thismonthreCharge?t[v].thismonthreCharge:0,e.thismonthChargeSame=t[v].thismonthChargeSame?t[v].thismonthChargeSame:0,e.thismonthChargeDis=t[v].thismonthChargeDis?t[v].thismonthChargeDis:0,e.thismonthIncome=t[v].thismonthIncome?t[v].thismonthIncome:0,e.thismonthSame=t[v].thismonthSame?t[v].thismonthSame:0,e.thismonthDis=t[v].thismonthDis?t[v].thismonthDis:0,e.thisweekChargeIncome=t[v].thisweekChargeIncome?t[v].thisweekChargeIncome:0,e.thisweekChargeSame=t[v].thisweekChargeSame?t[v].thisweekChargeSame:0,e.thisweekChargeDis=t[v].thisweekChargeDis?t[v].thisweekChargeDis:0,e.thisweekIncome=t[v].thisweekIncome?t[v].thisweekIncome:0,e.thisweekSame=t[v].thisweekSame?t[v].thisweekSame:0,e.thisweekDis=t[v].thisweekDis?t[v].thisweekDis:0,e.totalNum=t[v].totalNum,s=[{value:t[v].usedTotalNum,name:\"已使用数量\"},{value:t[v].restTotalNum,name:\"未使用数量\"}]):1==t[v].dateYear?(i.push(t[v].sourceName),n.push({value:t[v].imcomeValue,name:t[v].sourceName})):0==t[v].dateYear&&9==t[v].sourceId?t[v].dateName&&(h[parseInt(t[v].dateName)-1]=t[v].imcomeValue):0==t[v].dateYear&&10==t[v].sourceId?t[v].dateName&&(c[parseInt(t[v].dateName)-1]=t[v].imcomeValue):0==t[v].dateYear&&11==t[v].sourceId?t[v].dateName&&(l[parseInt(t[v].dateName)-1]=t[v].imcomeValue):0==t[v].dateYear&&12==t[v].sourceId&&t[v].dateName&&(m[parseInt(t[v].dateName)-1]=t[v].imcomeValue);for(var d=[h,c,l,m],u=0;u<a.length;u++)r.push({name:a[u].sourceName,icon:\"circle\"}),o.push({name:a[u].sourceName,type:\"line\",data:d[u]});e.EchartsRing(s),i=i.reverse(),e.EchartsRing_bottom_left(i,n),e.MoreLine(r,o)}})})},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resizeHandler)},methods:{EchartsRing:function(e){var t=this;t.ehcart1=r.a.init(document.getElementById(\"echartsbox\"));var a={title:{show:e.length<1,textStyle:{color:\"#909399\",fontWeight:\"normal\",fontSize:14},text:\"暂无数据\",left:\"center\",top:\"center\"},tooltip:{trigger:\"item\",hoverAnimation:!0,formatter:function(e){var t=\"\";return t+=e.seriesName+\"</br>\"+e.marker+\" \"+e.data.name+\" : \"+e.data.value+\"(\"+e.percent+\"%)</br>\",t}},legend:{orient:\"vertical\",icon:\"circle\",x:\"75%\",y:\"center\",data:[\"已使用数量\",\"未使用数量\"]},color:[\"#89A2FF\",\"#FF9F9C\"],series:[{name:\"一卡通\",type:\"pie\",legendHoverLink:!0,center:[\"40%\",\"55%\"],radius:[\"30%\",\"50%\"],minAngle:5,avoidLabelOverlap:!0,hoverAnimation:!0,labelLine:{normal:{show:!0,length:15}},label:{normal:{show:!0,formatter:function(e){var t=\"\";return t+=e.data.value+\"(\"+e.percent+\"%)\",t}},emphasis:{show:!0,textStyle:{}}},data:e}]};t.ehcart1.setOption(a),window.addEventListener(\"resize\",t.resizeHandler)},EchartsRing_bottom_left:function(e,t){var a=this;a.ehcart2=r.a.init(document.getElementById(\"echartslinecolumn\"));var s={title:{show:e.length<1&&t.length<1,textStyle:{color:\"#909399\",fontWeight:\"normal\",fontSize:14},text:\"暂无数据\",left:\"center\",top:\"center\"},tooltip:{trigger:\"item\",hoverAnimation:!0,formatter:function(e){var t=\"\";return t+=e.seriesName+\"</br>\"+e.marker+\" \"+e.data.name+\" : \"+e.data.value+\"(\"+e.percent+\"%)</br>\",t}},legend:{orient:\"vertical\",icon:\"circle\",x:\"80%\",y:\"center\",data:e},color:[\"#FFDC79\",\"#FF9F9C\",\"#A2BCFF\",\"#89A2FF\"],series:[{name:\"消费来源\",type:\"pie\",center:[\"40%\",\"55%\"],radius:[\"30%\",\"50%\"],minAngle:5,avoidLabelOverlap:!0,hoverAnimation:!0,labelLine:{normal:{show:!0,length:15}},label:{normal:{show:!0,formatter:function(e){var t=\"\";return t+=e.data.value+\"(\"+e.percent+\"%)\",t}},emphasis:{show:!0,textStyle:{}}},data:t}]};a.ehcart2.setOption(s),window.addEventListener(\"resize\",a.resizeHandler)},MoreLine:function(e,t){var a=this,s=[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"],i={title:{show:e.length<1&&t.length<1,textStyle:{color:\"#909399\",fontWeight:\"normal\",fontSize:14},text:\"暂无数据\",left:\"center\",top:\"center\"},grid:{left:\"20\",right:\"70\",bottom:\"50\"},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\"},formatter:function(e){var t=\"\";return t=e[0].name+\"月各店消费额</br>\",e.forEach(function(e){t+=e.marker+\" \"+e.seriesName+\" : \"+e.value+\"</br>\"}),t}},legend:{data:e},color:[\"#89A2FF\",\"#A2BCFF\",\"#FF9F9C\",\"#FFDC79\"],xAxis:[{type:\"category\",name:\"日期(月)\",splitLine:{show:!1},data:s,axisTick:{alignWithLabel:!0,show:!1}}],yAxis:[{type:\"value\",name:\"积分(分)\",splitLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:\"{value}\"}}],series:t};a.ehcart3=r.a.init(document.getElementById(\"moreline\")),i.grid.left=this.getYWidth(Math.max.apply(null,i.series[0].data),Math.max.apply(null,i.series[0].data)),a.ehcart3.setOption(i),window.addEventListener(\"resize\",a.resizeHandler)},resizeHandler:function(){this.ehcart1&&this.ehcart1.resize(),this.ehcart2&&this.ehcart2.resize(),this.ehcart3&&this.ehcart3.resize()},getYWidth:function(e,t){return(12*(e>t?e.toString().length:t.toString().length)).toString()}}},c=h,l=(a(\"423d\"),a(\"2877\")),m=Object(l[\"a\"])(c,s,i,!1,null,\"357430f4\",null);t[\"default\"]=m.exports},\"0d5e\":function(e,t,a){\"use strict\";a.d(t,\"b\",function(){return i}),a.d(t,\"c\",function(){return n}),a.d(t,\"d\",function(){return r}),a.d(t,\"a\",function(){return o});var s=a(\"b775\");function i(e,t){return Object(s[\"a\"])({url:e,method:\"get\",params:t})}function n(e,t){return Object(s[\"a\"])({url:e,method:\"post\",data:t})}function r(e,t){return Object(s[\"a\"])({url:e,method:\"put\",data:t})}function o(e,t){return Object(s[\"a\"])({url:e,method:\"delete\",data:t})}},\"423d\":function(e,t,a){\"use strict\";var s=a(\"c559\"),i=a.n(s);i.a},c559:function(e,t,a){}}]);","extractedComments":[]}