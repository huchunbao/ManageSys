{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a2e72fca\"],{\"0d5e\":function(t,a,e){\"use strict\";e.d(a,\"b\",function(){return n}),e.d(a,\"c\",function(){return s}),e.d(a,\"d\",function(){return i}),e.d(a,\"a\",function(){return r});var l=e(\"b775\");function n(t,a){return Object(l[\"a\"])({url:t,method:\"get\",params:a})}function s(t,a){return Object(l[\"a\"])({url:t,method:\"post\",data:a})}function i(t,a){return Object(l[\"a\"])({url:t,method:\"put\",data:a})}function r(t,a){return Object(l[\"a\"])({url:t,method:\"delete\",data:a})}},\"507d\":function(t,a,e){\"use strict\";var l=e(\"b611\"),n=e.n(l);n.a},b611:function(t,a,e){},c2c1:function(t,a,e){\"use strict\";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"div\",{staticClass:\"lan\"},[e(\"div\",{staticClass:\"da\"},[e(\"div\",{staticClass:\"top\"},[t._v(\"\\n        告警时间\\n        \"),e(\"el-date-picker\",{staticClass:\"gjsj\",attrs:{type:\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:t.shij,callback:function(a){t.shij=a},expression:\"shij\"}}),t._v(\" \"),e(\"span\",{staticClass:\"gjlx\"},[t._v(\"告警类型\")]),t._v(\" \"),e(\"el-select\",{staticStyle:{width:\"110px\",\"margin-left\":\"10px\"},attrs:{clearable:\"\",placeholder:\"全部\"},model:{value:t.data.alarmType,callback:function(a){t.$set(t.data,\"alarmType\",a)},expression:\"data.alarmType\"}},t._l(t.options,function(t){return e(\"el-option\",{key:t.idalarm_type_name,attrs:{label:t.alarm_type_name,value:t.id}})}),1),t._v(\" \"),e(\"span\",{staticClass:\"cjr\"},[t._v(\"处警人\")]),t._v(\" \"),e(\"el-input\",{staticClass:\"car-name-input\",attrs:{placeholder:\"请输入处警人\"},model:{value:t.data.name,callback:function(a){t.$set(t.data,\"name\",a)},expression:\"data.name\"}}),t._v(\"\\n        告警系统\\n        \"),e(\"el-select\",{staticStyle:{width:\"110px\",\"margin-left\":\"10px\"},attrs:{clearable:\"\",placeholder:\"全部\"},model:{value:t.data.xt,callback:function(a){t.$set(t.data,\"xt\",a)},expression:\"data.xt\"}},t._l(t.options2,function(t){return e(\"el-option\",{key:t.source_name,attrs:{label:t.source_name,value:t.id}})}),1),t._v(\" \"),e(\"el-button\",{staticClass:\"btn-search\",attrs:{type:\"primary\",round:\"\"},on:{click:function(a){return t.sou()}}},[t._v(\"查询\")]),t._v(\" \"),t._t(\"default\")],2)]),t._v(\" \"),e(\"div\",{staticClass:\"body\"},[e(\"el-table\",{ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:t.arrdata,\"tooltip-effect\":\"dark\",\"header-cell-style\":{background:\"#edeff8\",color:\"#909399\"}}},[e(\"el-table-column\",{attrs:{label:\"序号\",align:\"center\",type:\"index\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(\" \"+t._s(a.$index+6*(t.cur-1)+1)+\" \")])]}}])}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"source_name\",label:\"告警系统\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"alarm_name\",label:\"告警源\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"alarm_type_name\",label:\"告警类型\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"alarm_address\",label:\"告警位置\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"alarm_time\",label:\"告警时间\",width:\"150\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"alarmAffirmTime\",label:\"确认时间\",width:\"150\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"clearTime\",label:\"清除时间\",width:\"150\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"handler_name\",label:\"处警人\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"processing_time\",label:\"处警时间\",width:\"140\"}}),t._v(\" \"),e(\"el-table-column\",{attrs:{prop:\"con\",label:\"查看详情\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(e){return t.xgfa(a.row)}}},[t._v(\"查看\")]),t._v(\" \"),e(\"el-button\",{attrs:{size:\"small\",type:\"text\"},on:{click:function(e){return t.zhfa(a.row)}}},[t._v(\"修改\\n            \")])]}}])})],1),t._v(\" \"),e(\"el-pagination\",{staticClass:\"feny\",attrs:{\"current-page\":t.cur,background:\"\",\"page-size\":6,layout:\"total, prev, pager, next, jumper\",total:t.all},on:{\"current-change\":t.btnClick}})],1)]),t._v(\" \"),t.zh?e(\"div\",{staticClass:\"tank\"},[e(\"div\",{attrs:{id:\"zzc\"}},[e(\"div\",{staticClass:\"aa_a\"},[e(\"p\",{staticClass:\"cz\"},[t._v(\"修改处警内容\")]),t._v(\" \"),e(\"p\",{staticClass:\"camera\"},[t._v(t._s(t.zhfadata.source_name)+\"  \"+t._s(t.zhfadata.alarm_type_name))]),t._v(\" \"),e(\"p\",{staticClass:\"time\"},[t._v(\"位置：\"+t._s(t.zhfadata.alarm_address)+\" 告警时间： \"+t._s(t.zhfadata.alarm_time))]),t._v(\" \"),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.data.xr,expression:\"data.xr\"}],attrs:{id:\"content\",name:\"11\",cols:\"30\",rows:\"5\",value:\"清空\"},domProps:{value:t.data.xr},on:{input:function(a){a.target.composing||t.$set(t.data,\"xr\",a.target.value)}}}),t._v(\" \"),e(\"input\",{staticClass:\"qxa\",attrs:{type:\"button\",value:\"取消\"},on:{click:t.clickok}}),t._v(\" \"),e(\"input\",{staticClass:\"qda\",attrs:{type:\"button\",value:\"确定\"},on:{click:function(a){t.content(),t.clickok}}})])])]):t._e(),t._v(\" \"),t.xg?e(\"div\",{staticClass:\"tanka\"},[e(\"div\",{attrs:{id:\"zzca\"}},[e(\"div\",{staticClass:\"aa_aa\"},[e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"p\",{staticClass:\"cz\"},[t._v(\"查看处警内容\")]),t._v(\" \"),e(\"p\",{staticClass:\"close\",on:{click:t.clickok}},[t._v(\"×\")])]),t._v(\" \"),e(\"p\",{staticClass:\"camera\"}),t._v(\" \"),e(\"p\",{staticClass:\"time\"},[t._v(\"位置：\"+t._s(t.xgdata.alarmAddress)+\" 告警时间： \"+t._s(t.xgdata.alarmTime))]),t._v(\" \"),e(\"div\",{staticClass:\"beij\"},[e(\"p\",{staticClass:\"wenzi\"},[t._v(t._s(t.xgdata.alarmContent))])]),t._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\",\"font-size\":\"12px\",\"font-family\":\"PingFang SC\",\"padding-left\":\"44px\"}},[e(\"p\",[t._v(\"处警时间: \"+t._s(t.xgdata.processingTime))]),t._v(\" \"),e(\"p\",{staticStyle:{\"padding-left\":\"22px\"}},[t._v(\" 处警人员: \"+t._s(t.xgdata.handlerName))])])])])]):t._e()])},n=[],s=(e(\"7f7f\"),e(\"0d5e\")),i={data:function(){return{$index:\"\",name:\"\",ip2:\"\",arrdata:[],multipleTable:[],arr:[],all:0,cur:1,data:{},multipleSelection:[],xt:\"\",zhdata:{},zh:!1,xgdata:{},xg:!1,pickerOptions2:{shortcuts:[{text:\"最近一周\",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-6048e5),t.$emit(\"pick\",[e,a])}},{text:\"最近一个月\",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-2592e6),t.$emit(\"pick\",[e,a])}},{text:\"最近三个月\",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-7776e6),t.$emit(\"pick\",[e,a])}}]},shij:[],value4:\"\",options2:[],options:[{value:\"选项1\",label:\"全部\"},{value:\"选项2\",label:\"主动报警\"},{value:\"选项3\",label:\"触发报警\"},{value:\"选项4\",label:\"异常报警\"},{value:\"选项5\",label:\"断电报警\"},{value:\"选项6\",label:\"超速报警\"},{value:\"选项7\",label:\"越界报警\"},{value:\"选项8\",label:\"超时报警\"},{value:\"选项9\",label:\"求助报警\"}],value5:[],value11:[],cities:[{value1:\"haikang\",label:\"垃圾桶\"},{value1:\"dahua\",label:\"密度摄像机\"},{value1:\"huawei\",label:\"客流相机\"}],value6:\"\",value10:[],zhfadata:{}}},mounted:function(){var t=this;this.shua(),Object(s[\"b\"])(\"/alarmInfo/selectCountAlarmSource\",{cpid:this.$store.state.user.companyId}).then(function(a){t.options2=a}),Object(s[\"b\"])(\"/alarmInfo/selectCountAlarmType\",{cpid:this.$store.state.user.companyId}).then(function(a){t.options=a})},methods:{clickok:function(){this.zh=!1,this.zhdata=[],this.xg=!1},zhfa:function(t){this.zh=!0,this.zhfadata=t},xgfa:function(t){console.log(t),this.xg=!0;var a=this;Object(s[\"b\"])(\"/alarmInfo/selectById\",{aid:t.id}).then(function(t){console.log(t),a.xgdata=t[0]})},sou:function(){var t=this,a={cpid:this.$store.state.user.companyId,pageNumber:t.cur-1,pageSize:6,alarmSource:this.data.xt,alarmType:this.data.alarmType,handlerName:this.data.name};console.log(a),t.shij.length>0&&(console.log(t.shij),a.startTime=this.shi2(t.shij[0]),a.endTime=this.shi2(t.shij[1])),Object(s[\"b\"])(\"/alarmInfo/selectByClear\",a).then(function(a){t.arrdata=a.content,t.all=a.totalElements,console.log(a,100)})},handleSelectionChange:function(t){this.multipleSelection=t},btnClick:function(t){console.log(t),this.cur=t,this.shua()},shua:function(){var t=this,a=this;Object(s[\"b\"])(\"/alarmInfo/selectAllPage\",{cpid:this.$store.state.user.companyId,pageNumber:a.cur-1,pageSize:6}).then(function(e){a.arrdata=e.content,t.all=e.totalElements,console.log(e,12212)})},shi:function(t){var a=t/1e3,e=parseInt(a%60);a=parseInt(a/60);var l=parseInt(a%60);a=parseInt(a/60);var n=(a<10?\"0\"+a:a)+\":\"+(l<10?\"0\"+l:l)+\":\"+(e<10?\"0\"+e:e);return n},shi2:function(t){var a=t.getFullYear(),e=t.getMonth()+1,l=t.getDate(),n=t.getHours()<10?\"0\"+t.getHours():t.getHours(),s=t.getMinutes()<10?\"0\"+t.getMinutes():t.getMinutes(),i=t.getSeconds()<10?\"0\"+t.getSeconds():t.getSeconds();return a+\"-\"+e+\"-\"+l+\" \"+n+\":\"+s+\":\"+i},content:function(){var t=this;Object(s[\"c\"])(\"/alarmInfo/saveAlarmContent\",{aid:this.zhfadata.id,alarmContent:this.data.xr}).then(function(a){t.shua(),t.clickok(),console.log(a,12212)})}}},r=i,c=(e(\"507d\"),e(\"2877\")),o=Object(c[\"a\"])(r,l,n,!1,null,\"51c21706\",null);a[\"default\"]=o.exports}}]);","extractedComments":[]}