{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-55d203a5\"],{\"0d5e\":function(e,t,l){\"use strict\";l.d(t,\"b\",function(){return n}),l.d(t,\"c\",function(){return i}),l.d(t,\"d\",function(){return o}),l.d(t,\"a\",function(){return c});var a=l(\"b775\");function n(e,t){return Object(a[\"a\"])({url:e,method:\"get\",params:t})}function i(e,t){return Object(a[\"a\"])({url:e,method:\"post\",data:t})}function o(e,t){return Object(a[\"a\"])({url:e,method:\"put\",data:t})}function c(e,t){return Object(a[\"a\"])({url:e,method:\"delete\",data:t})}},\"794e\":function(e,t,l){},9633:function(e,t,l){\"use strict\";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"div\",{staticClass:\"lan\"},[l(\"div\",{staticClass:\"baj\"},[l(\"div\",{staticClass:\"top\"},[l(\"el-button\",{attrs:{type:\"info\",round:\"\"},on:{click:function(t){return e.shua()}}},[e._v(\"刷新\")]),e._v(\" \"),e.$store.state.permission.buttons.includes(\"预约广播:删除选中\")?l(\"el-button\",{attrs:{type:\"info\",round:\"\"},on:{click:function(t){return e.shan()}}},[e._v(\"删除选中\")]):e._e(),e._v(\" \"),e.$store.state.permission.buttons.includes(\"预约广播:发起预约\")?l(\"el-button\",{attrs:{type:\"primary\",round:\"\"},on:{click:function(t){e.updivtf=!0}}},[e._v(\"发起预约\")]):e._e()],1),e._v(\" \"),l(\"el-table\",{ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.arrdata,\"tooltip-effect\":\"dark\",\"highlight-current-row\":\"\",\"header-cell-style\":{background:\"#EDEFF8\",color:\"#909399\"}},on:{\"selection-change\":e.handleSelectionChange}},[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"预约时间\",prop:\"reservation_time\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n            \"+e._s(\"4\"===t.row.reservation_mode?\"星期\"+t.row.reservation_week:\"\")+\"\\n            \"+e._s(\"2\"===t.row.reservation_mode?t.row.reservation_date:t.row.reservation_time)+\"\\n          \")]}}])}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"预约模式\",prop:\"reservation_mode\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n            \"+e._s(\"1\"===t.row.reservation_mode?\"立即播放\":\"2\"===t.row.reservation_mode?\"定时播放\":\"3\"===t.row.reservation_mode?\"每天播放\":\"每周播放\")+\"\\n          \")]}}])}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"语音文件\",prop:\"filelist[0].filename\",align:\"center\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"播放模式\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n            \"+e._s(1==t.row.play_mode?\"次数\":\"时长\")+\"\\n          \")]}}])}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"播放次数/时长\",prop:\"play_count\",align:\"center\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"广播音响\",prop:\"pointlist[0].pointname\",align:\"center\"}})],1),e._v(\" \"),l(\"el-pagination\",{staticClass:\"feny\",attrs:{\"current-page\":e.cur,background:\"\",\"page-size\":10,layout:\"total, prev, pager, next, jumper\",total:e.all},on:{\"current-change\":e.btnClick}}),e._v(\" \"),e.updivtf?l(\"div\",{staticClass:\"updiv\"},[l(\"div\",{staticClass:\"updiv_header\"},[l(\"span\",{staticClass:\"updiv_biao\"},[e._v(\"添加预约播放\")]),e._v(\" \"),l(\"span\",{staticClass:\"updiv_cha\",on:{click:function(t){e.updivtf=!1}}},[e._v(\"×\")])]),e._v(\" \"),l(\"div\",{staticClass:\"updiv_left\"},[e._v(\"\\n          语音列表\\n          \"),l(\"el-table\",{ref:\"multipleTable2\",staticStyle:{width:\"100%\"},attrs:{data:e.arrdata2,\"tooltip-effect\":\"dark\",\"highlight-current-row\":\"\",height:\"300\",\"header-cell-style\":{background:\"#EDEFF8\",color:\"#909399\"}},on:{\"selection-change\":e.handleSelectionChange2}},[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"文件名称\",prop:\"radioName\",align:\"center\"}})],1),e._v(\" \"),l(\"div\",[e._v(\"\\n            预约模式\\n            \"),l(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.value,callback:function(t){e.value=t},expression:\"value\"}},e._l(e.options,function(e){return l(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(\" \"),\"2\"===e.value?l(\"div\",[e._v(\"\\n            预约时间\\n            \"),l(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"选择日期时间\",align:\"right\",\"picker-options\":e.pickerOptions1},model:{value:e.value2,callback:function(t){e.value2=t},expression:\"value2\"}})],1):e._e(),e._v(\" \"),\"3\"===e.value||\"4\"===e.value?l(\"div\",[e._v(\"\\n            预约时间\\n            \"),l(\"el-time-picker\",{attrs:{placeholder:\"任意时间点\"},model:{value:e.value7,callback:function(t){e.value7=t},expression:\"value7\"}})],1):e._e(),e._v(\" \"),\"4\"===e.value?l(\"div\",[l(\"el-checkbox\",{model:{value:e.checked[0],callback:function(t){e.$set(e.checked,0,t)},expression:\"checked[0]\"}},[e._v(\"星期一\")]),e._v(\" \"),l(\"el-checkbox\",{model:{value:e.checked[1],callback:function(t){e.$set(e.checked,1,t)},expression:\"checked[1]\"}},[e._v(\"星期二\")]),e._v(\" \"),l(\"el-checkbox\",{model:{value:e.checked[2],callback:function(t){e.$set(e.checked,2,t)},expression:\"checked[2]\"}},[e._v(\"星期三\")]),e._v(\" \"),l(\"el-checkbox\",{model:{value:e.checked[3],callback:function(t){e.$set(e.checked,3,t)},expression:\"checked[3]\"}},[e._v(\"星期四\")]),e._v(\" \"),l(\"el-checkbox\",{model:{value:e.checked[4],callback:function(t){e.$set(e.checked,4,t)},expression:\"checked[4]\"}},[e._v(\"星期五\")]),e._v(\" \"),l(\"el-checkbox\",{model:{value:e.checked[5],callback:function(t){e.$set(e.checked,5,t)},expression:\"checked[5]\"}},[e._v(\"星期六\")]),e._v(\" \"),l(\"el-checkbox\",{model:{value:e.checked[6],callback:function(t){e.$set(e.checked,6,t)},expression:\"checked[6]\"}},[e._v(\"星期七\")])],1):e._e()],1),e._v(\" \"),l(\"div\",{staticClass:\"updiv_right\"},[e._v(\"\\n          广播列表\\n          \"),l(\"el-table\",{ref:\"multipleTable3\",staticStyle:{width:\"100%\"},attrs:{data:e.arrdata3,\"tooltip-effect\":\"dark\",height:\"300\",\"highlight-current-row\":\"\",\"header-cell-style\":{background:\"#EDEFF8\",color:\"#909399\"}},on:{\"selection-change\":e.handleSelectionChange3}},[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"广播ID\",prop:\"id\",align:\"center\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"备注\",prop:\"name\",align:\"center\"}})],1),e._v(\" \"),l(\"div\",[e._v(\"\\n            播放模式\\n            \"),l(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.value3,callback:function(t){e.value3=t},expression:\"value3\"}},e._l(e.options3,function(e){return l(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(\" \"),\"1\"==e.value3?l(\"div\",[e._v(\"\\n            播放次数\\n            \"),l(\"el-input\",{staticStyle:{width:\"55%\"},model:{value:e.value4,callback:function(t){e.value4=t},expression:\"value4\"}}),e._v(\"次\\n          \")],1):e._e(),e._v(\" \"),\"2\"==e.value3?l(\"div\",[e._v(\"\\n            播放时长\\n            \"),l(\"el-input\",{staticStyle:{width:\"55%\"},model:{value:e.value5,callback:function(t){e.value5=t},expression:\"value5\"}}),e._v(\"分钟\\n          \")],1):e._e(),e._v(\" \"),l(\"div\",[e._v(\"\\n            播放间隔\\n            \"),l(\"el-input\",{staticStyle:{width:\"55%\"},model:{value:e.value6,callback:function(t){e.value6=t},expression:\"value6\"}}),e._v(\"秒\\n          \")],1),e._v(\" \"),l(\"div\",[l(\"el-button\",{attrs:{type:\"info\",round:\"\"},on:{click:function(t){e.updivtf=!1}}},[e._v(\"取消\")]),e._v(\" \"),l(\"el-button\",{attrs:{type:\"primary\",round:\"\"},on:{click:function(t){return e.updata()}}},[e._v(\"添加\")])],1)],1)]):e._e()],1)])])},n=[],i=l(\"0d5e\"),o={name:\"Broadcast\",data:function(){return{updivtf:!1,arrdata:[],arrdata2:[],arrdata3:[],checked:[!1,!1,!1,!1,!1,!1,!1],options:[{label:\"立即播放\",value:\"1\"},{label:\"定时播放\",value:\"2\"},{label:\"每天播放\",value:\"3\"},{label:\"每周播放\",value:\"4\"}],options3:[{label:\"次数播放\",value:\"1\"},{label:\"时长播放\",value:\"2\"}],value:\"1\",value2:\"\",value3:\"1\",value4:\"1\",value5:\"1\",value6:\"0\",value7:\"\",pickerOptions1:{shortcuts:[{text:\"今天\",onClick:function(e){e.$emit(\"pick\",new Date)}},{text:\"昨天\",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit(\"pick\",t)}},{text:\"一周前\",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit(\"pick\",t)}}]},all:0,cur:1,multipleSelection:[],multipleSelection2:[],multipleSelection3:[]}},computed:{},watch:{},mounted:function(){var e=this;this.shua();var t=this;Object(i[\"b\"])(\"/mngradio/getradiofile\",{cpid:this.$store.state.user.companyId,pageNumber:0,pageSize:200}).then(function(e){console.log(e),t.arrdata2=e.data.content}),Object(i[\"b\"])(\"/camara/getEqType2?\",{system_id:1}).then(function(t){e.arrdata3=t})},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleSelectionChange2:function(e){this.multipleSelection2=e},handleSelectionChange3:function(e){this.multipleSelection3=e},btnClick:function(e){console.log(e),this.cur=e,this.shua()},shan:function(){var e=this;console.log(this.multipleSelection);for(var t=\"\",l=0;l<this.multipleSelection.length;l++)0===l?t=this.multipleSelection[l].id:t+=\",\"+this.multipleSelection[l].id;Object(i[\"b\"])(\"/mngradio/delradio\",{ids:t}).then(function(t){console.log(132,t),e.shua()})},shua:function(){var e=this,t=this;Object(i[\"b\"])(\"/mngradio/gettodayradiolist\",{cpid:this.$store.state.user.companyId,pageNumber:t.cur-1,pageSize:10}).then(function(l){console.log(132,l),t.arrdata=l.data.content,e.all=l.data.totalElements})},updata:function(){var e=this;if(\"\"!==this.value&&\"\"!==this.value3&&\"\"!==this.value6){var t={cpid:this.$store.state.user.companyId,reservation_mode:this.value,play_mode:this.value3,play_interval:this.value6,filelist:[],pointlist:[]};if(\"2\"===this.value)t.reservation_date=this.shi2(this.value2);else if(\"3\"===this.value)t.reservation_time=this.shi3(this.value7);else if(\"4\"===this.value){t.reservation_week=\"\",console.log(this.checked),t.reservation_time=this.shi3(this.value7);for(var l=0;l<this.checked.length;l++)!0===this.checked[l]&&(t.reservation_week+=\"\"===t.reservation_week?\"\"+(l+1):\",\"+(l+1),console.log(this.checked,l,t.reservation_week))}\"1\"===this.value3?t.play_count=this.value4:t.play_time=this.value5,console.log();for(var a=0;a<this.multipleSelection2.length;a++)t.filelist.push({radioFileId:this.multipleSelection2[a].id,radioListOrder:a+1});for(var n=0;n<this.multipleSelection3.length;n++)t.pointlist.push({radioPointId:this.multipleSelection3[n].id});console.log(t),Object(i[\"c\"])(\"/mngradio/saveradio\",t).then(function(t){e.all=t.data.totalElements,e.multipleSelection2=[],e.multipleSelection3=[],e.updivtf=!1,e.shua()})}else this.$message({message:\"请认真检查填写项\",type:\"warning\"})},shi2:function(e){var t=e.getFullYear(),l=e.getMonth()+1,a=e.getDate(),n=e.getHours()<10?\"0\"+e.getHours():e.getHours(),i=e.getMinutes()<10?\"0\"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?\"0\"+e.getSeconds():e.getSeconds();return t+\"-\"+l+\"-\"+a+\" \"+n+\":\"+i+\":\"+o},shi3:function(e){var t=e.getHours()<10?\"0\"+e.getHours():e.getHours(),l=e.getMinutes()<10?\"0\"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<10?\"0\"+e.getSeconds():e.getSeconds();return t+\":\"+l+\":\"+a}}},c=o,s=(l(\"9ea2\"),l(\"2877\")),r=Object(s[\"a\"])(c,a,n,!1,null,\"9229e22e\",null);t[\"default\"]=r.exports},\"9ea2\":function(e,t,l){\"use strict\";var a=l(\"794e\"),n=l.n(a);n.a}}]);","extractedComments":[]}