{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-9be774ca\"],{\"0d5e\":function(t,e,a){\"use strict\";a.d(e,\"b\",function(){return n}),a.d(e,\"c\",function(){return s}),a.d(e,\"d\",function(){return i}),a.d(e,\"a\",function(){return r});var l=a(\"b775\");function n(t,e){return Object(l[\"a\"])({url:t,method:\"get\",params:e})}function s(t,e){return Object(l[\"a\"])({url:t,method:\"post\",data:e})}function i(t,e){return Object(l[\"a\"])({url:t,method:\"put\",data:e})}function r(t,e){return Object(l[\"a\"])({url:t,method:\"delete\",data:e})}},\"346e\":function(t,e,a){},6149:function(t,e,a){\"use strict\";var l=a(\"346e\"),n=a.n(l);n.a},fd50:function(t,e,a){\"use strict\";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"lan\"},[a(\"div\",{staticClass:\"da\"},[a(\"div\",{staticClass:\"top\"},[a(\"span\",[t._v(\"告警时间\")]),t._v(\" \"),a(\"el-date-picker\",{staticClass:\"gjsj\",attrs:{type:\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:t.shij,callback:function(e){t.shij=e},expression:\"shij\"}}),t._v(\" \"),a(\"span\",{staticClass:\"gjlx\"},[t._v(\"告警类型\")]),t._v(\" \"),a(\"el-select\",{staticStyle:{width:\"110px\",\"margin-left\":\"10px\"},attrs:{clearable:\"\",placeholder:\"全部\"},model:{value:t.data.alarmType,callback:function(e){t.$set(t.data,\"alarmType\",e)},expression:\"data.alarmType\"}},t._l(t.options,function(t){return a(\"el-option\",{key:t.idalarm_type_name,attrs:{label:t.alarm_type_name,value:t.id}})}),1),t._v(\" \"),a(\"span\",{staticClass:\"cjr\"},[t._v(\"处警人\")]),t._v(\" \"),a(\"el-input\",{staticClass:\"car-name-input\",attrs:{placeholder:\"请输入处警人\"},model:{value:t.data.name,callback:function(e){t.$set(t.data,\"name\",e)},expression:\"data.name\"}}),t._v(\"\\n        告警系统\\n        \"),a(\"el-select\",{staticStyle:{width:\"110px\",\"margin-left\":\"10px\"},attrs:{clearable:\"\",placeholder:\"全部\"},model:{value:t.data.xt,callback:function(e){t.$set(t.data,\"xt\",e)},expression:\"data.xt\"}},t._l(t.options2,function(t){return a(\"el-option\",{key:t.source_name,attrs:{label:t.source_name,value:t.id}})}),1),t._v(\" \"),a(\"el-button\",{staticClass:\"btn-search\",attrs:{type:\"primary\",round:\"\"},on:{click:function(e){return t.sou()}}},[t._v(\"查询\")]),t._v(\" \"),t._t(\"default\")],2)]),t._v(\" \"),a(\"div\",{staticClass:\"body\"},[a(\"el-table\",{ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:t.arrdata,\"tooltip-effect\":\"dark\",\"header-cell-style\":{background:\"#edeff8\",color:\"#909399\"}}},[a(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(\" \"+t._s(e.$index+6*(t.cur-1)+1)+\" \")])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"event_levels\",label:\"级别\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{style:(e.row.event_levels,\"color:black\")},[t._v(\"\\n              \"+t._s(1==e.row.event_levels?\"一般\":\"紧急\")+\"\\n            \")])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"source_name\",label:\"告警系统\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"alarm_name\",label:\"告警源\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"alarm_type_name\",label:\"告警类型\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"alarm_address\",label:\"告警位置\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"alarm_time\",label:\"告警时间\",width:\"150\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"alarmAffirmTime\",label:\"确认时间\",width:\"150\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clearTime\",label:\"清除时间\",width:\"150\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"handler_name\",label:\"处警人\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"processing_time\",label:\"处警时间\",width:\"140\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"con\",label:\"查看详情\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(a){return t.xgfa(e.row)}}},[t._v(\"查看\")])]}}])})],1),t._v(\" \"),a(\"el-pagination\",{staticClass:\"feny\",attrs:{\"current-page\":t.cur,background:\"\",\"page-size\":6,layout:\"total, prev, pager, next, jumper\",total:t.all},on:{\"current-change\":t.btnClick}})],1)]),t._v(\" \"),t.xg?a(\"div\",{staticClass:\"tanka\"},[a(\"div\",{attrs:{id:\"zzca\"}},[a(\"div\",{staticClass:\"aa_aa\"},[a(\"div\",{staticStyle:{display:\"flex\"}},[a(\"p\",{staticClass:\"cz\"},[t._v(\"查看详情\")]),t._v(\" \"),a(\"p\",{staticClass:\"close\",on:{click:t.clickok}},[t._v(\"×\")])]),t._v(\" \"),a(\"p\",{staticClass:\"camera\"}),t._v(\" \"),a(\"p\",{staticClass:\"time\"},[t._v(\"位置：\"+t._s(t.xgdata.alarmAddress)+\" 告警时间： \"+t._s(t.xgdata.alarmTime))]),t._v(\" \"),a(\"p\",{staticClass:\"camera\"}),t._v(\" \"),a(\"p\",{staticClass:\"time\"},[t._v(\"处警人:\"+t._s(t.xgdata.handlerName)+\" 处警时间： \"+t._s(t.xgdata.processingTime))]),t._v(\" \"),a(\"div\",{staticClass:\"beij\"},[a(\"p\",{staticClass:\"wenzi\"},[t._v(t._s(t.xgdata.alarmContent))])]),t._v(\" \"),a(\"div\",{staticStyle:{display:\"flex\",\"font-size\":\"12px\",\"font-family\":\"PingFang SC\",\"padding-left\":\"44px\"}},[a(\"p\",[t._v(\"确认时间: \"+t._s(t.xgdata.processingTime))]),t._v(\" \"),a(\"p\",{staticStyle:{\"padding-left\":\"22px\"}},[t._v(\" 确认人员: \"+t._s(t.xgdata.handlerName))])])])])]):t._e()])},n=[],s=(a(\"7f7f\"),a(\"0d5e\")),i={data:function(){return{$index:\"\",name:\"\",ip2:\"\",arrdata:[],multipleTable:[],arr:[],all:0,cur:1,data:{},multipleSelection:[],xt:\"\",zhdata:{},zh:!1,xg:!1,xgdata:{},pickerOptions2:{shortcuts:[{text:\"最近一周\",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit(\"pick\",[a,e])}},{text:\"最近一个月\",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit(\"pick\",[a,e])}},{text:\"最近三个月\",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit(\"pick\",[a,e])}}]},shij:[],value4:\"\",options2:[],options:[{value:\"选项1\",label:\"全部\"},{value:\"选项2\",label:\"主动报警\"},{value:\"选项3\",label:\"触发报警\"},{value:\"选项4\",label:\"异常报警\"},{value:\"选项5\",label:\"断电报警\"},{value:\"选项6\",label:\"超速报警\"},{value:\"选项7\",label:\"越界报警\"},{value:\"选项8\",label:\"超时报警\"},{value:\"选项9\",label:\"求助报警\"}],value5:[],value11:[],cities:[{value1:\"haikang\",label:\"垃圾桶\"},{value1:\"dahua\",label:\"密度摄像机\"},{value1:\"huawei\",label:\"客流相机\"}],value6:\"\",value10:[]}},mounted:function(){var t=this;this.shua(),Object(s[\"b\"])(\"/alarmInfo/selectCountAlarmSource\",{cpid:this.$store.state.user.companyId}).then(function(e){t.options2=e}),Object(s[\"b\"])(\"/alarmInfo/selectCountAlarmType\",{cpid:this.$store.state.user.companyId}).then(function(e){t.options=e})},methods:{clickok:function(){this.zh=!1,this.zhdata=[],this.xg=!1,this.xgdata=[]},zhfa:function(t){console.log(t),this.zh=!0,this.zhdata=this.arr[t]},xgfa:function(t){console.log(t),this.xg=!0;var e=this;Object(s[\"b\"])(\"/alarmInfo/selectById\",{aid:t.id}).then(function(t){console.log(t),e.xgdata=t[0]})},sou:function(){var t=this,e=this,a={cpid:this.$store.state.user.companyId,pageNumber:e.cur-1,pageSize:6,alarmSource:this.data.xt,alarmType:this.data.alarmType,handlerName:this.data.name};e.shij.length>0&&(console.log(e.shij),a.startTime=this.shi2(e.shij[0]),a.endTime=this.shi2(e.shij[1])),console.log(a),Object(s[\"b\"])(\"/alarmInfo/selectByClear\",a).then(function(a){e.arrdata=a.content,t.all=a.totalElements,console.log(a,100)})},handleSelectionChange:function(t){this.multipleSelection=t},btnClick:function(t){console.log(t),this.cur=t,this.shua()},shua:function(){var t=this,e=this;Object(s[\"b\"])(\"/alarmInfo/selectAllPage\",{cpid:this.$store.state.user.companyId,pageNumber:e.cur-1,pageSize:6}).then(function(a){e.arrdata=a.content,t.all=a.totalElements,console.log(a,12212)})},shi:function(t){var e=t/1e3,a=parseInt(e%60);e=parseInt(e/60);var l=parseInt(e%60);e=parseInt(e/60);var n=(e<10?\"0\"+e:e)+\":\"+(l<10?\"0\"+l:l)+\":\"+(a<10?\"0\"+a:a);return n},shi2:function(t){var e=t.getFullYear(),a=t.getMonth()+1,l=t.getDate(),n=t.getHours()<10?\"0\"+t.getHours():t.getHours(),s=t.getMinutes()<10?\"0\"+t.getMinutes():t.getMinutes(),i=t.getSeconds()<10?\"0\"+t.getSeconds():t.getSeconds();return e+\"-\"+a+\"-\"+l+\" \"+n+\":\"+s+\":\"+i}}},r=i,o=(a(\"6149\"),a(\"2877\")),c=Object(o[\"a\"])(r,l,n,!1,null,\"6685bf07\",null);e[\"default\"]=c.exports}}]);","extractedComments":[]}